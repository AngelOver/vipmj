<template>
        <NuxtLink to="/" title="Postman" class="brand">
            <img :src="counter.setting.logo" alt="logo">
        </NuxtLink>

        <div class="nav flex-md-column nav-pills flex-grow-1" role="tablist" aria-orientation="vertical">

            <client-only>
                <el-tooltip
                    class="box-item"
                    effect="dark"
                    content="AI问答聊天"
                    placement="right"
                >
                    <NuxtLink class="mb-xl-3 mb-md-2 nav-link" data-toggle="pill" to="/" role="tab">
                        <svg t="1682690492866" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10721" width="32" height="32"><path d="M512 819.2H276.48c-39.424 0-71.68-32.256-71.68-71.68v-235.52c0-169.472 137.728-307.2 307.2-307.2s307.2 137.728 307.2 307.2-137.728 307.2-307.2 307.2z m0-573.44c-146.944 0-266.24 119.296-266.24 266.24v235.52c0 16.896 13.824 30.72 30.72 30.72h235.52c146.944 0 266.24-119.296 266.24-266.24s-119.296-266.24-266.24-266.24z" p-id="10722" fill="#707070"></path><path d="M389.12 517.12m-30.72 0a30.72 30.72 0 1 0 61.44 0 30.72 30.72 0 1 0-61.44 0Z" p-id="10723" fill="#707070"></path><path d="M512 517.12m-30.72 0a30.72 30.72 0 1 0 61.44 0 30.72 30.72 0 1 0-61.44 0Z" p-id="10724" fill="#707070"></path><path d="M634.88 517.12m-30.72 0a30.72 30.72 0 1 0 61.44 0 30.72 30.72 0 1 0-61.44 0Z" p-id="10725" fill="#707070"></path></svg>
                    </NuxtLink>
                </el-tooltip>
            </client-only>
            <client-only>
                <el-tooltip
                    class="box-item"
                    effect="dark"
                    content="AI绘画"
                    placement="right"
                >
                    <NuxtLink class="mb-xl-3 mb-md-2 nav-link" data-toggle="pill" to="/ai_draw" role="tab">
                        <svg t="1682690716351" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3396" width="32" height="32"><path d="M778.24 768H245.76c-22.528 0-40.96-18.432-40.96-40.96V296.96c0-22.528 18.432-40.96 40.96-40.96h532.48c22.528 0 40.96 18.432 40.96 40.96v430.08c0 22.528-18.432 40.96-40.96 40.96zM245.76 296.96v430.08h532.48V296.96H245.76z" p-id="3397" fill="#8a8a8a"></path><path d="M660.48 656.384c-13.824 0-28.16-4.608-39.424-14.336l-230.4-193.536c-7.68-6.656-19.456-6.144-27.136 0.512L239.104 563.2c-8.192 7.68-21.504 7.168-29.184-1.024-7.68-8.192-7.168-21.504 1.024-29.184l124.416-114.176c22.528-20.48 57.344-21.504 80.896-1.536l230.4 193.536c8.192 6.656 19.968 6.144 27.648-1.024L783.36 500.736c8.192-8.192 20.992-8.192 29.184 0 8.192 8.192 8.192 20.992 0 29.184l-109.056 109.056c-11.264 11.264-27.136 17.408-43.008 17.408z" p-id="3398" fill="#8a8a8a"></path><path d="M655.36 471.04c-36.864 0-66.56-29.696-66.56-66.56s29.696-66.56 66.56-66.56 66.56 29.696 66.56 66.56-29.696 66.56-66.56 66.56z m0-92.16c-14.336 0-25.6 11.264-25.6 25.6s11.264 25.6 25.6 25.6 25.6-11.264 25.6-25.6-11.264-25.6-25.6-25.6z" p-id="3399" fill="#8a8a8a"></path></svg>
                    </NuxtLink>
                </el-tooltip>
            </client-only>
            <client-only>
                <el-tooltip
                    class="box-item"
                    effect="dark"
                    content="AI小应用"
                    placement="right"
                >
                    <NuxtLink class="mb-xl-3 mb-md-2 nav-link" data-toggle="pill" to="/ai_application" role="tab">
                        <svg t="1682691307333" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4693" width="32" height="32"><path d="M337.92 225.28c61.952 0 112.64 50.688 112.64 112.64v112.64H337.92c-61.952 0-112.64-50.688-112.64-112.64s50.688-112.64 112.64-112.64m0-40.96c-84.992 0-153.6 68.608-153.6 153.6s68.608 153.6 153.6 153.6h143.36c5.632 0 10.24-4.608 10.24-10.24V337.92c0-84.992-68.608-153.6-153.6-153.6zM686.08 573.44c61.952 0 112.64 50.688 112.64 112.64s-50.688 112.64-112.64 112.64-112.64-50.688-112.64-112.64v-112.64h112.64m0-40.96h-143.36c-5.632 0-10.24 4.608-10.24 10.24v143.36c0 84.992 68.608 153.6 153.6 153.6s153.6-68.608 153.6-153.6-68.608-153.6-153.6-153.6zM686.08 225.28c61.952 0 112.64 50.688 112.64 112.64s-50.688 112.64-112.64 112.64h-112.64V337.92c0-61.952 50.688-112.64 112.64-112.64m0-40.96c-84.992 0-153.6 68.608-153.6 153.6v143.36c0 5.632 4.608 10.24 10.24 10.24h143.36c84.992 0 153.6-68.608 153.6-153.6s-68.608-153.6-153.6-153.6zM450.56 573.44v112.64c0 61.952-50.688 112.64-112.64 112.64s-112.64-50.688-112.64-112.64 50.688-112.64 112.64-112.64h112.64m30.72-40.96H337.92c-84.992 0-153.6 68.608-153.6 153.6s68.608 153.6 153.6 153.6 153.6-68.608 153.6-153.6v-143.36c0-5.632-4.608-10.24-10.24-10.24z" p-id="4694" fill="#707070"></path></svg>
                    </NuxtLink>
                </el-tooltip>
            </client-only>
            <client-only>
                <el-tooltip
                    class="box-item"
                    effect="dark"
                    content="思维导图"
                    placement="right"
                >
                    <NuxtLink class="mb-xl-3 mb-md-2 nav-link" data-toggle="pill" to="/mark_me" role="tab">
                        <svg t="1684651601360" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6594" width="32" height="32"><path d="M665.6 665.6H358.4V358.4h307.2v307.2z m-266.24-40.96h225.28V399.36H399.36v225.28z" p-id="6595" fill="#707070"></path><path d="M399.36 399.36H307.2c-50.688 0-92.16-41.472-92.16-92.16s41.472-92.16 92.16-92.16 92.16 41.472 92.16 92.16v92.16zM307.2 256c-28.16 0-51.2 23.04-51.2 51.2s23.04 51.2 51.2 51.2h51.2V307.2c0-28.16-23.04-51.2-51.2-51.2zM716.8 808.96c-50.688 0-92.16-41.472-92.16-92.16v-92.16h92.16c50.688 0 92.16 41.472 92.16 92.16s-41.472 92.16-92.16 92.16z m-51.2-143.36v51.2c0 28.16 23.04 51.2 51.2 51.2s51.2-23.04 51.2-51.2-23.04-51.2-51.2-51.2h-51.2zM716.8 399.36h-92.16V307.2c0-50.688 41.472-92.16 92.16-92.16s92.16 41.472 92.16 92.16-41.472 92.16-92.16 92.16z m-51.2-40.96h51.2c28.16 0 51.2-23.04 51.2-51.2s-23.04-51.2-51.2-51.2-51.2 23.04-51.2 51.2v51.2zM307.2 808.96c-50.688 0-92.16-41.472-92.16-92.16s41.472-92.16 92.16-92.16h92.16v92.16c0 50.688-41.472 92.16-92.16 92.16z m0-143.36c-28.16 0-51.2 23.04-51.2 51.2s23.04 51.2 51.2 51.2 51.2-23.04 51.2-51.2v-51.2H307.2z" p-id="6596" fill="#707070"></path></svg>
                    </NuxtLink>
                </el-tooltip>
            </client-only>

        </div>

        <div class="nav flex-md-column nav-pills flex-grow-2" role="tablist" aria-orientation="vertical">
            <div class="mb-xl-3 mb-md-2 nav-link cursor-pointer" @click="change_theme('dark')" v-if="colorMode.preference=='light'" role="tab">
                <svg t="1684246256275" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1554" width="32" height="32"><path d="M512 341c-94.4 0-171 76.6-171 171s76.6 171 171 171 171-76.6 171-171-76.6-171-171-171z m0 277.9c-59 0-106.9-47.9-106.9-106.9 0-59 47.9-106.9 106.9-106.9 59 0 106.9 47.8 106.9 106.9 0 59-47.9 106.9-106.9 106.9zM512 725.8c-17.7 0-32.1 14.4-32.1 32.1V822c0 17.7 14.4 32.1 32.1 32.1s32.1-14.4 32.1-32.1v-64.1c0-17.8-14.4-32.1-32.1-32.1zM512 298.3c17.7 0 32.1-14.4 32.1-32.1v-64.1c0-17.7-14.4-32.1-32.1-32.1s-32.1 14.4-32.1 32.1v64.1c0 17.7 14.4 32.1 32.1 32.1zM315.5 360.9c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-45.3-45.3c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l45.3 45.3zM708.5 663.1c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l45.3 45.3c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-45.3-45.3zM298.3 512c0-17.7-14.4-32.1-32.1-32.1h-64.1c-17.7 0-32.1 14.4-32.1 32.1s14.4 32.1 32.1 32.1h64.1c17.7 0 32.1-14.4 32.1-32.1zM821.9 479.9h-64.1c-17.7 0-32.1 14.4-32.1 32.1s14.4 32.1 32.1 32.1h64.1c17.7 0 32.1-14.4 32.1-32.1s-14.4-32.1-32.1-32.1zM315.5 663.1l-45.3 45.3c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l45.3-45.3c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0zM708.5 360.9l45.3-45.3c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-45.3 45.3c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0z" p-id="1555" fill="#707070"></path></svg>
            </div>
            <div class="mb-xl-3 mb-md-2 nav-link cursor-pointer" @click="change_theme('light')" v-if="colorMode.preference=='dark'"  role="tab">
                <svg t="1684246268012" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1932" width="32" height="32"><path d="M572.4 229.9c8.8-8.8 21.9-11.7 33.6-7.5 115.1 41.7 197.5 152 197.5 281.6 0 165.4-134.1 299.5-299.5 299.5-129.6 0-239.9-82.3-281.6-197.5-4.2-11.7-1.3-24.8 7.5-33.6s21.9-11.7 33.6-7.5c25 9 51.9 14 80.1 14 129.9 0 235.3-105.3 235.3-235.3 0-28.2-4.9-55.2-14-80.1-4.2-11.7-1.3-24.8 7.5-33.6z m69.1 83.2c1 10 1.5 20.2 1.5 30.5C643 509 508.9 643 343.6 643c-10.3 0-20.5-0.5-30.5-1.5 42.7 59.3 112.4 97.8 191 97.8C634 739.3 739.3 634 739.3 504c0-78.5-38.5-148.2-97.8-190.9z" p-id="1933" fill="#707070"></path></svg>
            </div>
            <div class="mb-xl-3 mb-md-2 nav-link cursor-pointer" @click="change_theme('light')" v-if="colorMode.preference=='system'"  role="tab">
                <svg t="1684246434468" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2556" width="32" height="32"><path d="M685.94826817 235.45053788a101.54 101.54 0 0 0-143.4507527-0.19091883 99.87 99.87 0 0 0-23.49715834 37.90799454l-37.98577628-37.98577629a101.09 101.09 0 0 0-172.90175014 72.69057711 101 101 0 0 0-34.72601402 196.49790342l-37.88678134 37.88678134A101.47 101.47 0 0 0 308.65023187 715.34976813a101.08 101.08 0 0 0 196.5898273 35.24220198l37.98577629 37.98577628a101.09 101.09 0 0 0 172.90175013-72.6905771 101 101 0 0 0 34.72601403-196.49790343l37.88678133-37.88678133A101.47 101.47 0 0 0 715.59018444 308.40981556a101.26 101.26 0 0 0-29.64191627-72.95927768z m-307.26618069 102.06379279a43.42 43.42 0 1 1 61.40515287-61.40515287l102.60119395 102.60119395a43.42 43.42 0 1 1-61.40515287 61.40515287z m61.94255403 348.46222177A43.39 43.39 0 1 1 379.12756475 685.88462856l30.70257644-30.70257644z m204.93368732 0.26870058a43.42 43.42 0 1 1-61.40515288 61.40515288l-102.60119395-102.60119395a43.42 43.42 0 1 1 61.40515288-61.40515288zM440.44786481 542.53994188L338.11537144 644.87243525a43.53 43.53 0 0 1-61.56071637-61.56071637l102.33249337-102.33249337a43.53 43.53 0 0 1 61.56071637 61.56071637z m-71.89861751-133.30377039l-30.70257644 30.70257644a43.55 43.55 0 1 1-0.07778174-61.48293462z m144.78011345 103.85277295c-0.79903066-0.00707107-1.59099026-0.00707107-2.39002092 0 0.00707107-0.79903066 0.00707107-1.59099026 0-2.39002092 0.79903066 0.00707107 1.58391919 0.01414214 2.39002092 0-0.02828427 0.79195959-0.0212132 1.57684812-0.01414214 2.37587879z m234.65338534 132.32089197a43.51 43.51 0 0 1-61.48293463-0.07778175l-30.79450032-30.79450032 30.70257644-30.70257644a43.53 43.53 0 0 1 61.56071637 61.56071637z m-0.26870058-204.93368733L645.38155214 542.80864246a43.53 43.53 0 0 1-61.56071637-61.56071637l102.33249337-102.33249338a43.53 43.53 0 0 1 61.56071637 61.56071637z m-102.60119395-102.60119395l-30.70257644 30.70257644-30.79450032-30.79450032A43.39 43.39 0 1 1 645.11285156 337.87495513z" p-id="2557" fill="#707070"></path></svg>
            </div>
            <client-only>
                <el-tooltip
                    class="box-item"
                    effect="dark"
                    content="个人中心"
                    placement="right"
                >
                    <NuxtLink v-if="!token" class="mb-xl-3 mb-md-2 nav-link cursor-pointer" @click="login_dialog_click()" role="tab">
                        <svg t="1682690627243" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2911" width="32" height="32"><path d="M512 813.056c-7.168 0-14.336-2.048-20.48-5.632l-225.28-130.048c-12.8-7.168-20.48-20.992-20.48-35.328V381.952c0-14.336 7.68-28.16 20.48-35.328l225.28-130.048c12.8-7.168 28.16-7.168 40.96 0l225.28 130.048c12.8 7.168 20.48 20.992 20.48 35.328v260.096c0 14.336-7.68 28.16-20.48 35.328l-225.28 130.048c-6.144 3.584-13.312 5.632-20.48 5.632z m0-561.152L286.72 381.952v260.096l225.28 130.048 225.28-130.048V381.952l-225.28-130.048z" p-id="2912" fill="#707070"></path><path d="M512 624.64c-61.952 0-112.64-50.688-112.64-112.64s50.688-112.64 112.64-112.64 112.64 50.688 112.64 112.64-50.688 112.64-112.64 112.64z m0-184.32c-39.424 0-71.68 32.256-71.68 71.68s32.256 71.68 71.68 71.68 71.68-32.256 71.68-71.68-32.256-71.68-71.68-71.68z" p-id="2913" fill="#707070"></path></svg>

                    </NuxtLink>
                    <NuxtLink v-else class="mb-xl-3 mb-md-2 nav-link" to="/users/setting" role="tab">
                        <svg t="1682690627243" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2911" width="32" height="32"><path d="M512 813.056c-7.168 0-14.336-2.048-20.48-5.632l-225.28-130.048c-12.8-7.168-20.48-20.992-20.48-35.328V381.952c0-14.336 7.68-28.16 20.48-35.328l225.28-130.048c12.8-7.168 28.16-7.168 40.96 0l225.28 130.048c12.8 7.168 20.48 20.992 20.48 35.328v260.096c0 14.336-7.68 28.16-20.48 35.328l-225.28 130.048c-6.144 3.584-13.312 5.632-20.48 5.632z m0-561.152L286.72 381.952v260.096l225.28 130.048 225.28-130.048V381.952l-225.28-130.048z" p-id="2912" fill="#707070"></path><path d="M512 624.64c-61.952 0-112.64-50.688-112.64-112.64s50.688-112.64 112.64-112.64 112.64 50.688 112.64 112.64-50.688 112.64-112.64 112.64z m0-184.32c-39.424 0-71.68 32.256-71.68 71.68s32.256 71.68 71.68 71.68 71.68-32.256 71.68-71.68-32.256-71.68-71.68-71.68z" p-id="2913" fill="#707070"></path></svg>

                    </NuxtLink>
                </el-tooltip>
            </client-only>


        </div>

    <Login :login_dialog="login_dialog"  @handleCancel="handleCancel"/>


</template>
<script lang="ts" setup>
import {ref} from "vue";
import {ElMessage} from "element-plus";
import {useCounter} from '~/store/counter'
const token = useCookie('token')

const counter = useCounter()
const colorMode = useColorMode()
const login_dialog = ref(false)
const login_dialog_click = () => {
    login_dialog.value = true
}

const handleCancel = () => {
    login_dialog.value = false
}
const get_config = () => {
    get_nav_config().then((res: any) => {
        counter.setting = res._rawValue.data;
    }).catch((err: any) => {
        ElMessage.error(err);
    })
}
get_config()

const change_theme = (theme: string) => {
    colorMode.preference = theme
}
</script>
