import{p as Je,d as Ee,q as We,s as fe,x as Ge,o as _,c as $,n as de,y as je,e as s,r as w,Z as ft,A as ws,M as j,b as L,i as H,w as d,g as l,f as z,h as g,j as ne,l as _e,t as E,F as ue,$ as ks,a2 as xs,R as Cs,a as Ss,u as xt,K as $s,U as Vs,T as Es,_ as Ls,k as Ct,I as sn,O as an,G as Fe,H as As,P as Rs,a1 as zs,a3 as Ts,a4 as Ps,m as Is,v as js,J as Os}from"./entry.f78ca6a6.js";import{_ as Ms,I as Ns}from"./Login.vue.256ed16a.js";import{u as Sn,z as Us,A as on,B as ln,C as Hs,D as rn,E as Ds,F as cn,G as qs,H as Bs,I as Fs,J as Js,K as un,L as Ws,M as dn,N as Gs,O as Zs,P as Xs,Q as Ys,R as Ks}from"./counter.a6829455.js";import{Q as fn}from"./qrcode.vue.esm.b1de30e6.js";import{m as mn,H as _n}from"./index.08a9178a.js";import{I as Qs,m as ea}from"./index.378de61d.js";import{f as ta}from"./FileSaver.min.08c6a7a6.js";import{a as na}from"./index.0076fffa.js";import{I as at}from"./index.816c8bfd.js";import{I as vn}from"./wechat.599452c3.js";import{I as ot}from"./index.252641d2.js";import{I as sa}from"./index.c95ca7e3.js";import"./nuxt-link.b5f02e4c.js";const aa=Ee({name:"IconDoubleDown",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=We("icon"),a=fe(()=>[n,`${n}-double-down`,{[`${n}-spin`]:e.spin}]),r=fe(()=>{const c={};return e.size&&(c.fontSize=Ge(e.size)?`${e.size}px`:e.size),e.rotate&&(c.transform=`rotate(${e.rotate}deg)`),c});return{cls:a,innerStyle:r,onClick:c=>{t("click",c)}}}}),oa=["stroke-width","stroke-linecap","stroke-linejoin"],la=s("path",{d:"m9.9 11.142 14.143 14.142 14.142-14.142M9.9 22.456l14.143 14.142 14.142-14.142"},null,-1),ia=[la];function ra(e,t,n,a,r,f){return _(),$("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:de(e.cls),style:je(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...c)=>e.onClick&&e.onClick(...c))},ia,14,oa)}var St=Je(aa,[["render",ra]]);const ca=Object.assign(St,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+St.name,St)}}),ua=Ee({name:"IconVoice",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=We("icon"),a=fe(()=>[n,`${n}-voice`,{[`${n}-spin`]:e.spin}]),r=fe(()=>{const c={};return e.size&&(c.fontSize=Ge(e.size)?`${e.size}px`:e.size),e.rotate&&(c.transform=`rotate(${e.rotate}deg)`),c});return{cls:a,innerStyle:r,onClick:c=>{t("click",c)}}}}),da=["stroke-width","stroke-linecap","stroke-linejoin"],fa=s("path",{d:"M41 21v1c0 8.837-7.163 16-16 16h-2c-8.837 0-16-7.163-16-16v-1m17 17v6m0-14a9 9 0 0 1-9-9v-6a9 9 0 1 1 18 0v6a9 9 0 0 1-9 9Z"},null,-1),ma=[fa];function _a(e,t,n,a,r,f){return _(),$("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:de(e.cls),style:je(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...c)=>e.onClick&&e.onClick(...c))},ma,14,da)}var $t=Je(ua,[["render",_a]]);const va=Object.assign($t,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+$t.name,$t)}}),pa=Ee({name:"IconRecordStop",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=We("icon"),a=fe(()=>[n,`${n}-record-stop`,{[`${n}-spin`]:e.spin}]),r=fe(()=>{const c={};return e.size&&(c.fontSize=Ge(e.size)?`${e.size}px`:e.size),e.rotate&&(c.transform=`rotate(${e.rotate}deg)`),c});return{cls:a,innerStyle:r,onClick:c=>{t("click",c)}}}}),ga=["stroke-width","stroke-linecap","stroke-linejoin"],ha=s("path",{"clip-rule":"evenodd",d:"M24 6c9.941 0 18 8.059 18 18s-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6Z"},null,-1),ya=s("path",{d:"M19 20a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-8a1 1 0 0 1-1-1v-8Z",fill:"currentColor",stroke:"none"},null,-1),ba=s("path",{d:"M19 20a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-8a1 1 0 0 1-1-1v-8Z"},null,-1),wa=[ha,ya,ba];function ka(e,t,n,a,r,f){return _(),$("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:de(e.cls),style:je(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...c)=>e.onClick&&e.onClick(...c))},wa,14,ga)}var Vt=Je(pa,[["render",ka]]);const xa=Object.assign(Vt,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+Vt.name,Vt)}}),Ca=Ee({name:"IconCommand",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=We("icon"),a=fe(()=>[n,`${n}-command`,{[`${n}-spin`]:e.spin}]),r=fe(()=>{const c={};return e.size&&(c.fontSize=Ge(e.size)?`${e.size}px`:e.size),e.rotate&&(c.transform=`rotate(${e.rotate}deg)`),c});return{cls:a,innerStyle:r,onClick:c=>{t("click",c)}}}}),Sa=["stroke-width","stroke-linecap","stroke-linejoin"],$a=s("path",{d:"M29 19v-6a6 6 0 1 1 6 6h-6Zm0 0v10m0-10H19m10 10v6a6 6 0 1 0 6-6h-6Zm0 0H19m0-10v10m0-10v-6a6 6 0 1 0-6 6h6Zm0 10v6a6 6 0 1 1-6-6h6Z"},null,-1),Va=[$a];function Ea(e,t,n,a,r,f){return _(),$("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:de(e.cls),style:je(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...c)=>e.onClick&&e.onClick(...c))},Va,14,Sa)}var Et=Je(Ca,[["render",Ea]]);const ut=Object.assign(Et,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+Et.name,Et)}}),La=Ee({name:"IconNotification",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=We("icon"),a=fe(()=>[n,`${n}-notification`,{[`${n}-spin`]:e.spin}]),r=fe(()=>{const c={};return e.size&&(c.fontSize=Ge(e.size)?`${e.size}px`:e.size),e.rotate&&(c.transform=`rotate(${e.rotate}deg)`),c});return{cls:a,innerStyle:r,onClick:c=>{t("click",c)}}}}),Aa=["stroke-width","stroke-linecap","stroke-linejoin"],Ra=s("path",{d:"M24 9c7.18 0 13 5.82 13 13v13H11V22c0-7.18 5.82-13 13-13Zm0 0V4M6 35h36m-25 7h14"},null,-1),za=[Ra];function Ta(e,t,n,a,r,f){return _(),$("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:de(e.cls),style:je(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...c)=>e.onClick&&e.onClick(...c))},za,14,Aa)}var Lt=Je(La,[["render",Ta]]);const pn=Object.assign(Lt,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+Lt.name,Lt)}}),Pa=Ee({name:"IconPublic",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=We("icon"),a=fe(()=>[n,`${n}-public`,{[`${n}-spin`]:e.spin}]),r=fe(()=>{const c={};return e.size&&(c.fontSize=Ge(e.size)?`${e.size}px`:e.size),e.rotate&&(c.transform=`rotate(${e.rotate}deg)`),c});return{cls:a,innerStyle:r,onClick:c=>{t("click",c)}}}}),Ia=["stroke-width","stroke-linecap","stroke-linejoin"],ja=s("path",{d:"M15 21.5 6.704 19M15 21.5l4.683 5.152a1 1 0 0 1 .25.814L18 40.976l10.918-16.117a1 1 0 0 0-.298-1.409L21.5 19 15 21.5Zm0 0 6.062-6.995a1 1 0 0 0 .138-1.103L18 7.024M42 24c0 9.941-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6s18 8.059 18 18Z"},null,-1),Oa=[ja];function Ma(e,t,n,a,r,f){return _(),$("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:de(e.cls),style:je(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...c)=>e.onClick&&e.onClick(...c))},Oa,14,Ia)}var At=Je(Pa,[["render",Ma]]);const Na=Object.assign(At,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+At.name,At)}}),Ua={class:"qr_fing"},Ha={class:"qr_fing"},Da=s("div",{className:"custom-radio-card-mask"},[s("div",{className:"custom-radio-card-mask-dot"})],-1),qa={className:"custom-radio-card-title"},Ba=Ee({__name:"Charge",props:{dialogFormVisible:{type:Boolean,default:!1}},emits:["handleCancels"],setup(e,{emit:t}){const n=e,a=w("first"),r=Sn(),f=U=>{a.value=U},c=fe({get(){return n.dialogFormVisible!=!1&&N(),n.dialogFormVisible},set(U){t("handleCancels",U)}}),u=w(!1),p=w(""),b=w(!1),C=w(!1),y=ft({amount:r.setting.min_recharge?parseInt(r.setting.min_recharge):1,pay_type:r.setting.pay_wechat_open==1?"wechat":"alipay",vip_type:1,kami:""});ws(()=>y.amount,U=>{U<r.setting.min_recharge&&(y.amount=r.setting.min_recharge)});const M=w([]),N=()=>{Us().then(U=>{M.value=U._rawValue.data,h.value=U._rawValue.data[0].id,v.value=U._rawValue.data[0].pay_amount}).catch(U=>{j.error("获取失败")})},h=w(""),v=w(0),O=U=>{M.value.forEach(x=>{x.id==U&&(h.value=x.id,v.value=x.pay_amount)})},T=()=>{if(y.amount==0){j.error("请输入充值金额");return}b.value=!0,u.value=!0,C.value=!0;const U=/Mobile|Android|iOS/.test(navigator.userAgent);y.pay_type=="alipay"?on({amount:y.amount,type:"charge",is_mobile:U&&r.setting.alipay_wap_open=="1"?1:0}).then(x=>{U&&r.setting.alipay_wap_open=="1"?window.location.href=x._rawValue.pay_url:p.value=x._rawValue.qr_code,b.value=!1,u.value=!1}).catch(x=>{b.value=!1,u.value=!1,C.value=!1,console.log(x.message)}):ln({amount:y.amount,type:"charge",is_mobile:U&&r.setting.wechat_wap_open=="1"?1:0}).then(x=>{U&&r.setting.wechat_wap_open=="1"?window.location.href=x._rawValue.pay_url:p.value=x._rawValue.qr_code,b.value=!1,u.value=!1}).catch(x=>{b.value=!1,u.value=!1,C.value=!1,console.log(x.message)})},re=()=>{if(h.value==""){j.error("请选择VIP套餐");return}b.value=!0,u.value=!0,C.value=!0;const U=/Mobile|Android|iOS/.test(navigator.userAgent);y.pay_type=="alipay"?on({v_id:h.value,amount:v.value,type:"vip",coupon:y.kami,is_mobile:U&&r.setting.alipay_wap_open=="1"?1:0}).then(x=>{U&&r.setting.alipay_wap_open=="1"?window.location.href=x._rawValue.pay_url:p.value=x._rawValue.qr_code,b.value=!1,u.value=!1}).catch(x=>{b.value=!1,u.value=!1,C.value=!1,console.log(x.message)}):y.pay_type=="wechat"?ln({v_id:h.value,amount:v.value,type:"vip",coupon:y.kami,is_mobile:U&&r.setting.wechat_wap_open=="1"?1:0}).then(x=>{U&&r.setting.wechat_wap_open=="1"?window.location.href=x._rawValue.pay_url:p.value=x._rawValue.qr_code,b.value=!1,u.value=!1}).catch(x=>{b.value=!1,u.value=!1,C.value=!1,console.log(x.message)}):y.pay_type=="balance"?(u.value=!1,C.value=!1,Hs({v_id:h.value,coupon:y.kami}).then(x=>{b.value=!1,j.success(x._rawValue.message)}).catch(x=>{b.value=!1,u.value=!1,C.value=!1,console.log(x.message)})):j.error("请选择支付方式")},me=()=>{a.value=="first"?T():re()},ve=()=>{c.value=!1};return(U,x)=>{const pe=L("a-spin"),oe=L("a-input-number"),K=L("a-form-item"),le=L("a-radio"),ge=L("a-radio-group"),Me=L("a-form"),xe=L("a-tab-pane"),he=L("a-typography-text"),Ce=L("a-space"),Ze=L("a-input"),Le=L("a-tabs"),we=L("a-button"),Ae=L("a-modal");return _(),H(Ae,{class:"msgbox",visible:g(c),"onUpdate:visible":x[8]||(x[8]=F=>ks(c)?c.value=F:null),title:"充值中心"},{footer:d(()=>[l(Ce,{class:"dialog-footer"},{default:d(()=>[l(we,{type:"primary",onClick:x[6]||(x[6]=F=>me()),loading:b.value},{default:d(()=>[z(" 立即充值 ")]),_:1},8,["loading"]),l(we,{type:"primary",plain:"",onClick:x[7]||(x[7]=F=>ve())},{default:d(()=>[z(" 完成支付 ")]),_:1})]),_:1})]),default:d(()=>[l(Le,{modelValue:a.value,"onUpdate:modelValue":x[5]||(x[5]=F=>a.value=F),"default-active-key":"first",class:"demo-tabs",type:"capsule",onTabClick:f},{default:d(()=>[l(xe,{title:"充值"+g(r).setting.money_name_set,key:"first"},{default:d(()=>[l(pe,{loading:u.value},{default:d(()=>[s("div",Ua,[C.value?(_(),H(fn,{key:0,value:p.value,size:"240",class:"mt-2 mb-2 m-auto d-sm-block"},null,8,["value"])):ne("",!0)])]),_:1},8,["loading"]),l(Me,{model:y},{default:d(()=>[l(K,{label:"充值"},{default:d(()=>[l(oe,{step:.01,modelValue:y.amount,"onUpdate:modelValue":x[0]||(x[0]=F=>y.amount=F),autocomplete:"off",min:g(r).setting.min_recharge,placeholder:"请输入充值金额"},null,8,["modelValue","min"])]),_:1}),l(K,{label:"支付方式"},{default:d(()=>[l(ge,{modelValue:y.pay_type,"onUpdate:modelValue":x[1]||(x[1]=F=>y.pay_type=F)},{default:d(()=>[g(r).setting.pay_wechat_open==1?(_(),H(le,{key:0,value:"wechat"},{default:d(()=>[z("微信 ")]),_:1})):ne("",!0),g(r).setting.pay_alipay_open==1?(_(),H(le,{key:1,value:"alipay"},{default:d(()=>[z("支付宝 ")]),_:1})):ne("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"]),l(xe,{title:"开通VIP",key:"second"},{default:d(()=>[l(pe,{loading:u.value},{default:d(()=>[s("div",Ha,[C.value?(_(),H(fn,{key:0,value:p.value,size:"240",class:"mt-2 mb-2 m-auto d-sm-block"},null,8,["value"])):ne("",!0)])]),_:1},8,["loading"]),l(Me,{model:y},{default:d(()=>[l(K,{label:"购买会员"},{default:d(()=>[l(ge,{onChange:O,modelValue:y.vip_type,"onUpdate:modelValue":x[2]||(x[2]=F=>y.vip_type=F)},{default:d(()=>[(_(!0),$(ue,null,_e(M.value,(F,Xe)=>(_(),H(le,{key:Xe,value:F.id},{radio:d(({checked:P})=>[l(Ce,{align:"start",class:de(["custom-radio-card",{"custom-radio-card-checked":P}])},{default:d(()=>[Da,s("div",null,[s("div",qa,E(F.title),1),l(he,{type:"secondary"},{default:d(()=>[z(" ￥"+E(F.pay_amount),1)]),_:2},1024)])]),_:2},1032,["class"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(K,{label:"支付方式"},{default:d(()=>[l(ge,{modelValue:y.pay_type,"onUpdate:modelValue":x[3]||(x[3]=F=>y.pay_type=F)},{default:d(()=>[g(r).setting.pay_wechat_open==1?(_(),H(le,{key:0,value:"wechat"},{default:d(()=>[z("微信")]),_:1})):ne("",!0),g(r).setting.pay_alipay_open==1?(_(),H(le,{key:1,value:"alipay"},{default:d(()=>[z("支付宝")]),_:1})):ne("",!0),l(le,{value:"balance"},{default:d(()=>[z(E(g(r).setting.money_name_set),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(K,{label:"优惠卷"},{default:d(()=>[l(Ze,{modelValue:y.kami,"onUpdate:modelValue":x[4]||(x[4]=F=>y.kami=F),placeholder:"请输入优惠卷码"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["visible"])}}}),Oe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABHdJREFUeF7tm02IHEUUgL/XVT0r8Qd1DWogi/EHJIhBJKcQQYIg/gQRFBTxN2BEPCaSiwiCgURPQURQ/AORCCEkEggGFGEvigdR1s3BiwF/0BANMbDbVf2ke6eHns1seqa7Z3Fmek+z3VXvvfr61XuvqquF3N+6B3VNa5rW4gI2f31cfremcIunWfz1qJzPxiTpj0fUzIRc4RQzLoO92Dis4H+JOMtn4lMAM4/rVZMy+AxMCuETOSOJ23MZaybhyV8wxnOclxue1ivHdc4XPdQkJsi6x/SaoobjfL8B0HhAMwWaGNAEwXGO8kVja7JAkwWaLNBkgSYLFEXKcb7fZIFhZQGNWesMt0nARpRLy3iRBJx1nh+mAubxnC4jo6jPUDzABewmYFeR8kHui3DQRLw4SJ9+2tYKIIZrY8uP/Sgu3SbgZrvIP6X7L+tYKwAXchhlS07HcZSfUf4tY7AEXIJyowr3d3ZxhXdNxJ4y8nr1qQ1AZLlb4GCmxHsemlJm6zA0CtkuynuZLPU8Gipf1iG7NgBd8z5mv43ZV4eBmYwu+cqr1vNWHfJrAbAgbLEBz6qwPTFK4ZnQ8XkdBnYAtHiYmHfS/2MOeeWjOjysMgBv+VDhvvxg63T/TG4C2RgO5/UIfGocL1UBXRmAs/y53IDVApDotY61/3sAzvA2Adcnhopyygj7iDjVZXjIeq/sVmF9281/s54XLuYBIwGgZ1HUI0gWtes1BUYCQGKktxzInmziAbHwRRhxJO8BSaoLlHvy7fLze6QBVJmjIz8F6hh8ImPREFrP1dJi2jtmMOxMqs6RCIJ1QVguJ6k+Q1etIqwjDc4D08OsA7TFRue5PQBjYA7hJI7OKY8qgCsD8JabVHgzNaK9EKqrDohCtknMHoRNXYMUfsfzcR3ldmUAnVLV8AbCU20Qu6zngypPZvkCqJcsUY4Yz3NV9NQGILLsENi75AjMh46tZQ1LdpN8i7l8f1XOIPwhcGvX9Yorw9oA+BabNOZExzhhNlBexzAXLHBuEBjO8hqws6tPzH6vzC5fDyh8G7rutcggumoDkBY8hr0q7BjEgE7bXHUYWY4JbO4HQNImMGwYFHImu1YA7arvFaXECi0HoNcCixU8INVZYfOldgCJQS5gKwEvA9dBughqFXpFHoDhxAWRvw0gkxMYDghLCydVbgk9fxfq6NFgKADKGJLv42yaVp/sCnYwLzFHO9fau84KP4WOu8rqHCqAZAEziGHZDk8csDkOONZXX6VSyh0qgMjygMD7fQ1kKX8+bz2H2tOo8N1C1XSb6BkqAG+5XEnfE/R1ElWF78KIezNgBVnluHU80TfcFRoOFUCiMw7YoJKmx219GSt8Y6O0ovwrjfBJfeG5Q4Q7IT3M/X0cczKM+aoveQWNhg4g05+Wtr67ilvJNjXME/N12cg+CJhVAzCIUavZtgEwrNfjq/kUq+hqPKDxgOaYXHNMrjkmVyWKjnrfJgtMfBZoPpub9A8nkyA20Z/OplF80j+ezlLZJH4+/x9RrAqhJczDzQAAAABJRU5ErkJggg==",vt=""+new URL("today.816db8ea.svg",import.meta.url).href;var $n={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */(function(e,t){(function(a,r){e.exports=r()})(xs,function(){return function(){var n={686:function(f,c,u){u.d(c,{default:function(){return Xe}});var p=u(279),b=u.n(p),C=u(370),y=u.n(C),M=u(817),N=u.n(M);function h(P){try{return document.execCommand(P)}catch{return!1}}var v=function(S){var k=N()(S);return h("cut"),k},O=v;function T(P){var S=document.documentElement.getAttribute("dir")==="rtl",k=document.createElement("textarea");k.style.fontSize="12pt",k.style.border="0",k.style.padding="0",k.style.margin="0",k.style.position="absolute",k.style[S?"right":"left"]="-9999px";var R=window.pageYOffset||document.documentElement.scrollTop;return k.style.top="".concat(R,"px"),k.setAttribute("readonly",""),k.value=P,k}var re=function(S,k){var R=T(S);k.container.appendChild(R);var V=N()(R);return h("copy"),R.remove(),V},me=function(S){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},R="";return typeof S=="string"?R=re(S,k):S instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(S==null?void 0:S.type)?R=re(S.value,k):(R=N()(S),h("copy")),R},ve=me;function U(P){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?U=function(k){return typeof k}:U=function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},U(P)}var x=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},k=S.action,R=k===void 0?"copy":k,V=S.container,A=S.target,Y=S.text;if(R!=="copy"&&R!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(A!==void 0)if(A&&U(A)==="object"&&A.nodeType===1){if(R==="copy"&&A.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(R==="cut"&&(A.hasAttribute("readonly")||A.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(Y)return ve(Y,{container:V});if(A)return R==="cut"?O(A):ve(A,{container:V})},pe=x;function oe(P){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?oe=function(k){return typeof k}:oe=function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},oe(P)}function K(P,S){if(!(P instanceof S))throw new TypeError("Cannot call a class as a function")}function le(P,S){for(var k=0;k<S.length;k++){var R=S[k];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(P,R.key,R)}}function ge(P,S,k){return S&&le(P.prototype,S),k&&le(P,k),P}function Me(P,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(S&&S.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),S&&xe(P,S)}function xe(P,S){return xe=Object.setPrototypeOf||function(R,V){return R.__proto__=V,R},xe(P,S)}function he(P){var S=Le();return function(){var R=we(P),V;if(S){var A=we(this).constructor;V=Reflect.construct(R,arguments,A)}else V=R.apply(this,arguments);return Ce(this,V)}}function Ce(P,S){return S&&(oe(S)==="object"||typeof S=="function")?S:Ze(P)}function Ze(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function Le(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function we(P){return we=Object.setPrototypeOf?Object.getPrototypeOf:function(k){return k.__proto__||Object.getPrototypeOf(k)},we(P)}function Ae(P,S){var k="data-clipboard-".concat(P);if(S.hasAttribute(k))return S.getAttribute(k)}var F=function(P){Me(k,P);var S=he(k);function k(R,V){var A;return K(this,k),A=S.call(this),A.resolveOptions(V),A.listenClick(R),A}return ge(k,[{key:"resolveOptions",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof V.action=="function"?V.action:this.defaultAction,this.target=typeof V.target=="function"?V.target:this.defaultTarget,this.text=typeof V.text=="function"?V.text:this.defaultText,this.container=oe(V.container)==="object"?V.container:document.body}},{key:"listenClick",value:function(V){var A=this;this.listener=y()(V,"click",function(Y){return A.onClick(Y)})}},{key:"onClick",value:function(V){var A=V.delegateTarget||V.currentTarget,Y=this.action(A)||"copy",Re=pe({action:Y,container:this.container,target:this.target(A),text:this.text(A)});this.emit(Re?"success":"error",{action:Y,text:Re,trigger:A,clearSelection:function(){A&&A.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(V){return Ae("action",V)}},{key:"defaultTarget",value:function(V){var A=Ae("target",V);if(A)return document.querySelector(A)}},{key:"defaultText",value:function(V){return Ae("text",V)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(V){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return ve(V,A)}},{key:"cut",value:function(V){return O(V)}},{key:"isSupported",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],A=typeof V=="string"?[V]:V,Y=!!document.queryCommandSupported;return A.forEach(function(Re){Y=Y&&!!document.queryCommandSupported(Re)}),Y}}]),k}(b()),Xe=F},828:function(f){var c=9;if(typeof Element<"u"&&!Element.prototype.matches){var u=Element.prototype;u.matches=u.matchesSelector||u.mozMatchesSelector||u.msMatchesSelector||u.oMatchesSelector||u.webkitMatchesSelector}function p(b,C){for(;b&&b.nodeType!==c;){if(typeof b.matches=="function"&&b.matches(C))return b;b=b.parentNode}}f.exports=p},438:function(f,c,u){var p=u(828);function b(M,N,h,v,O){var T=y.apply(this,arguments);return M.addEventListener(h,T,O),{destroy:function(){M.removeEventListener(h,T,O)}}}function C(M,N,h,v,O){return typeof M.addEventListener=="function"?b.apply(null,arguments):typeof h=="function"?b.bind(null,document).apply(null,arguments):(typeof M=="string"&&(M=document.querySelectorAll(M)),Array.prototype.map.call(M,function(T){return b(T,N,h,v,O)}))}function y(M,N,h,v){return function(O){O.delegateTarget=p(O.target,N),O.delegateTarget&&v.call(M,O)}}f.exports=C},879:function(f,c){c.node=function(u){return u!==void 0&&u instanceof HTMLElement&&u.nodeType===1},c.nodeList=function(u){var p=Object.prototype.toString.call(u);return u!==void 0&&(p==="[object NodeList]"||p==="[object HTMLCollection]")&&"length"in u&&(u.length===0||c.node(u[0]))},c.string=function(u){return typeof u=="string"||u instanceof String},c.fn=function(u){var p=Object.prototype.toString.call(u);return p==="[object Function]"}},370:function(f,c,u){var p=u(879),b=u(438);function C(h,v,O){if(!h&&!v&&!O)throw new Error("Missing required arguments");if(!p.string(v))throw new TypeError("Second argument must be a String");if(!p.fn(O))throw new TypeError("Third argument must be a Function");if(p.node(h))return y(h,v,O);if(p.nodeList(h))return M(h,v,O);if(p.string(h))return N(h,v,O);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function y(h,v,O){return h.addEventListener(v,O),{destroy:function(){h.removeEventListener(v,O)}}}function M(h,v,O){return Array.prototype.forEach.call(h,function(T){T.addEventListener(v,O)}),{destroy:function(){Array.prototype.forEach.call(h,function(T){T.removeEventListener(v,O)})}}}function N(h,v,O){return b(document.body,h,v,O)}f.exports=C},817:function(f){function c(u){var p;if(u.nodeName==="SELECT")u.focus(),p=u.value;else if(u.nodeName==="INPUT"||u.nodeName==="TEXTAREA"){var b=u.hasAttribute("readonly");b||u.setAttribute("readonly",""),u.select(),u.setSelectionRange(0,u.value.length),b||u.removeAttribute("readonly"),p=u.value}else{u.hasAttribute("contenteditable")&&u.focus();var C=window.getSelection(),y=document.createRange();y.selectNodeContents(u),C.removeAllRanges(),C.addRange(y),p=C.toString()}return p}f.exports=c},279:function(f){function c(){}c.prototype={on:function(u,p,b){var C=this.e||(this.e={});return(C[u]||(C[u]=[])).push({fn:p,ctx:b}),this},once:function(u,p,b){var C=this;function y(){C.off(u,y),p.apply(b,arguments)}return y._=p,this.on(u,y,b)},emit:function(u){var p=[].slice.call(arguments,1),b=((this.e||(this.e={}))[u]||[]).slice(),C=0,y=b.length;for(C;C<y;C++)b[C].fn.apply(b[C].ctx,p);return this},off:function(u,p){var b=this.e||(this.e={}),C=b[u],y=[];if(C&&p)for(var M=0,N=C.length;M<N;M++)C[M].fn!==p&&C[M].fn._!==p&&y.push(C[M]);return y.length?b[u]=y:delete b[u],this}},f.exports=c,f.exports.TinyEmitter=c}},a={};function r(f){if(a[f])return a[f].exports;var c=a[f]={exports:{}};return n[f](c,c.exports,r),c.exports}return function(){r.n=function(f){var c=f&&f.__esModule?function(){return f.default}:function(){return f};return r.d(c,{a:c}),c}}(),function(){r.d=function(f,c){for(var u in c)r.o(c,u)&&!r.o(f,u)&&Object.defineProperty(f,u,{enumerable:!0,get:c[u]})}}(),function(){r.o=function(f,c){return Object.prototype.hasOwnProperty.call(f,c)}}(),r(686)}().default})})($n);var Fa=$n.exports;const Ja=Cs(Fa);var Tt={},te={};Object.defineProperty(te,"__esModule",{value:!0});te.trim=te.isObject=te.isNil=te.isNan=te.size=te.isString=te.validateLocale=te.splitSentences=void 0;var Wa=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t.replace(/\.+/g,".|").replace(/\?/g,"?|").replace(/\!/g,"!|").split("|").map(function(n){return En(n)}).filter(Boolean)};te.splitSentences=Wa;var Ga=/^(?:(en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang))$|^((?:[a-z]{2,3}(?:(?:-[a-z]{3}){1,3})?)|[a-z]{4}|[a-z]{5,8})(?:-([a-z]{4}))?(?:-([a-z]{2}|\d{3}))?((?:-(?:[\da-z]{5,8}|\d[\da-z]{3}))*)?((?:-[\da-wy-z](?:-[\da-z]{2,8})+)*)?(-x(?:-[\da-z]{1,8})+)?$|^(x(?:-[\da-z]{1,8})+)$/i,Za=function(t){return typeof t!="string"?!1:Ga.test(t)};te.validateLocale=Za;var Vn=function(t){return typeof t=="string"||t instanceof String};te.isString=Vn;var Xa=function(t){return t&&Array.isArray(t)&&t.length?t.length:0};te.size=Xa;var Ya=function(t){return typeof t=="number"&&isNaN(t)};te.isNan=Ya;var Ka=function(t){return t==null};te.isNil=Ka;var Qa=function(t){return Object.prototype.toString.call(t)==="[object Object]"};te.isObject=Qa;var En=function(t){return Vn(t)?t.trim():""};te.trim=En;Object.defineProperty(Tt,"__esModule",{value:!0});var Ln=Tt.default=void 0,Z=te;function eo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function to(e,t,n){return t&&gn(e.prototype,t),n&&gn(e,n),e}var no=function(){function e(){eo(this,e),this.browserSupport="speechSynthesis"in window&&"SpeechSynthesisUtterance"in window,this.synthesisVoice=null}return to(e,[{key:"init",value:function(){var n=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(r,f){n.browserSupport||f("Your browser does not support Speech Synthesis");var c=(0,Z.isNil)(a.listeners)?{}:a.listeners,u=(0,Z.isNil)(a.splitSentences)?!0:a.splitSentences,p=(0,Z.isNil)(a.lang)?void 0:a.lang,b=(0,Z.isNil)(a.volume)?1:a.volume,C=(0,Z.isNil)(a.rate)?1:a.rate,y=(0,Z.isNil)(a.pitch)?1:a.pitch,M=(0,Z.isNil)(a.voice)?void 0:a.voice;Object.keys(c).forEach(function(N){var h=c[N],v=function(T){h&&h(T)};N!=="onvoiceschanged"&&(speechSynthesis[N]=v)}),n._loadVoices().then(function(N){c.onvoiceschanged&&c.onvoiceschanged(N),!(0,Z.isNil)(p)&&n.setLanguage(p),!(0,Z.isNil)(M)&&n.setVoice(M),!(0,Z.isNil)(b)&&n.setVolume(b),!(0,Z.isNil)(C)&&n.setRate(C),!(0,Z.isNil)(y)&&n.setPitch(y),!(0,Z.isNil)(u)&&n.setSplitSentences(u),r({voices:N,lang:n.lang,voice:n.voice,volume:n.volume,rate:n.rate,pitch:n.pitch,splitSentences:n.splitSentences,browserSupport:n.browserSupport})}).catch(function(N){f(N)})})}},{key:"_fetchVoices",value:function(){return new Promise(function(n,a){setTimeout(function(){var r=speechSynthesis.getVoices();return(0,Z.size)(r)>0?n(r):a("Could not fetch voices")},100)})}},{key:"_loadVoices",value:function(){var n=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10;return this._fetchVoices().catch(function(r){if(a===0)throw r;return n._loadVoices(a-1)})}},{key:"hasBrowserSupport",value:function(){return this.browserSupport}},{key:"setVoice",value:function(n){var a,r=speechSynthesis.getVoices();if((0,Z.isString)(n)&&(a=r.find(function(f){return f.name===n})),(0,Z.isObject)(n)&&(a=n),a)this.synthesisVoice=a;else throw"Error setting voice. The voice you passed is not valid or the voices have not been loaded yet."}},{key:"setLanguage",value:function(n){if(n=n.replace("_","-"),(0,Z.validateLocale)(n))this.lang=n;else throw"Error setting language. Please verify your locale is BCP47 format (http://schneegans.de/lv/?tags=es-FR&format=text)"}},{key:"setVolume",value:function(n){if(n=parseFloat(n),!(0,Z.isNan)(n)&&n>=0&&n<=1)this.volume=n;else throw"Error setting volume. Please verify your volume value is a number between 0 and 1."}},{key:"setRate",value:function(n){if(n=parseFloat(n),!(0,Z.isNan)(n)&&n>=0&&n<=10)this.rate=n;else throw"Error setting rate. Please verify your volume value is a number between 0 and 10."}},{key:"setPitch",value:function(n){if(n=parseFloat(n),!(0,Z.isNan)(n)&&n>=0&&n<=2)this.pitch=n;else throw"Error setting pitch. Please verify your pitch value is a number between 0 and 2."}},{key:"setSplitSentences",value:function(n){this.splitSentences=n}},{key:"speak",value:function(n){var a=this;return new Promise(function(r,f){var c=n.text,u=n.listeners,p=u===void 0?{}:u,b=n.queue,C=b===void 0?!0:b,y=(0,Z.trim)(c);(0,Z.isNil)(y)&&r(),!C&&a.cancel();var M=[],N=a.splitSentences?(0,Z.splitSentences)(y):[y];N.forEach(function(h,v){var O=v===(0,Z.size)(N)-1,T=new SpeechSynthesisUtterance;a.synthesisVoice&&(T.voice=a.synthesisVoice),a.lang&&(T.lang=a.lang),a.volume&&(T.volume=a.volume),a.rate&&(T.rate=a.rate),a.pitch&&(T.pitch=a.pitch),T.text=h,Object.keys(p).forEach(function(re){var me=p[re],ve=function(x){me&&me(x),re==="onerror"&&f({utterances:M,lastUtterance:T,error:x}),re==="onend"&&O&&r({utterances:M,lastUtterance:T})};T[re]=ve}),M.push(T),speechSynthesis.speak(T)})})}},{key:"pending",value:function(){return speechSynthesis.pending}},{key:"paused",value:function(){return speechSynthesis.paused}},{key:"speaking",value:function(){return speechSynthesis.speaking}},{key:"pause",value:function(){speechSynthesis.pause()}},{key:"resume",value:function(){speechSynthesis.resume()}},{key:"cancel",value:function(){speechSynthesis.cancel()}}]),e}(),so=no;Ln=Tt.default=so;function ao(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),a=n.createElement("base"),r=n.createElement("a");return n.head.appendChild(a),n.body.appendChild(r),t&&(a.href=t),r.href=e,r.href}const oo=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function ke(e){const t=[];for(let n=0,a=e.length;n<a;n++)t.push(e[n]);return t}function mt(e,t){const a=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return a?parseFloat(a.replace("px","")):0}function lo(e){const t=mt(e,"border-left-width"),n=mt(e,"border-right-width");return e.clientWidth+t+n}function io(e){const t=mt(e,"border-top-width"),n=mt(e,"border-bottom-width");return e.clientHeight+t+n}function An(e,t={}){const n=t.width||lo(e),a=t.height||io(e);return{width:n,height:a}}function ro(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const ce=16384;function co(e){(e.width>ce||e.height>ce)&&(e.width>ce&&e.height>ce?e.width>e.height?(e.height*=ce/e.width,e.width=ce):(e.width*=ce/e.height,e.height=ce):e.width>ce?(e.height*=ce/e.width,e.width=ce):(e.width*=ce/e.height,e.height=ce))}function _t(e){return new Promise((t,n)=>{const a=new Image;a.decode=()=>t(a),a.onload=()=>t(a),a.onerror=n,a.crossOrigin="anonymous",a.decoding="async",a.src=e})}async function uo(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function fo(e,t,n){const a="http://www.w3.org/2000/svg",r=document.createElementNS(a,"svg"),f=document.createElementNS(a,"foreignObject");return r.setAttribute("width",`${t}`),r.setAttribute("height",`${n}`),r.setAttribute("viewBox",`0 0 ${t} ${n}`),f.setAttribute("width","100%"),f.setAttribute("height","100%"),f.setAttribute("x","0"),f.setAttribute("y","0"),f.setAttribute("externalResourcesRequired","true"),r.appendChild(f),f.appendChild(e),uo(r)}const ie=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||ie(n,t)};function mo(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function _o(e){return ke(e).map(t=>{const n=e.getPropertyValue(t),a=e.getPropertyPriority(t);return`${t}: ${n}${a?" !important":""};`}).join(" ")}function vo(e,t,n){const a=`.${e}:${t}`,r=n.cssText?mo(n):_o(n);return document.createTextNode(`${a}{${r}}`)}function hn(e,t,n){const a=window.getComputedStyle(e,n),r=a.getPropertyValue("content");if(r===""||r==="none")return;const f=oo();try{t.className=`${t.className} ${f}`}catch{return}const c=document.createElement("style");c.appendChild(vo(f,n,a)),t.appendChild(c)}function po(e,t){hn(e,t,":before"),hn(e,t,":after")}const yn="application/font-woff",bn="image/jpeg",go={woff:yn,woff2:yn,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:bn,jpeg:bn,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function ho(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function Pt(e){const t=ho(e).toLowerCase();return go[t]||""}function yo(e){return e.split(/,/)[1]}function zt(e){return e.search(/^(data:)/)!==-1}function Rn(e,t){return`data:${t};base64,${e}`}async function zn(e,t,n){const a=await fetch(e,t);if(a.status===404)throw new Error(`Resource "${a.url}" not found`);const r=await a.blob();return new Promise((f,c)=>{const u=new FileReader;u.onerror=c,u.onloadend=()=>{try{f(n({res:a,result:u.result}))}catch(p){c(p)}},u.readAsDataURL(r)})}const Rt={};function bo(e,t,n){let a=e.replace(/\?.*/,"");return n&&(a=e),/ttf|otf|eot|woff2?/i.test(a)&&(a=a.replace(/.*\//,"")),t?`[${t}]${a}`:a}async function It(e,t,n){const a=bo(e,t,n.includeQueryParams);if(Rt[a]!=null)return Rt[a];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let r;try{const f=await zn(e,n.fetchRequestInit,({res:c,result:u})=>(t||(t=c.headers.get("Content-Type")||""),yo(u)));r=Rn(f,t)}catch(f){r=n.imagePlaceholder||"";let c=`Failed to fetch resource: ${e}`;f&&(c=typeof f=="string"?f:f.message),c&&console.warn(c)}return Rt[a]=r,r}async function wo(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):_t(t)}async function ko(e,t){if(e.currentSrc){const f=document.createElement("canvas"),c=f.getContext("2d");f.width=e.clientWidth,f.height=e.clientHeight,c==null||c.drawImage(e,0,0,f.width,f.height);const u=f.toDataURL();return _t(u)}const n=e.poster,a=Pt(n),r=await It(n,a,t);return _t(r)}async function xo(e){var t;try{if(!((t=e==null?void 0:e.contentDocument)===null||t===void 0)&&t.body)return await pt(e.contentDocument.body,{},!0)}catch{}return e.cloneNode(!1)}async function Co(e,t){return ie(e,HTMLCanvasElement)?wo(e):ie(e,HTMLVideoElement)?ko(e,t):ie(e,HTMLIFrameElement)?xo(e):e.cloneNode(!1)}const So=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT";async function $o(e,t,n){var a,r;let f=[];return So(e)&&e.assignedNodes?f=ke(e.assignedNodes()):ie(e,HTMLIFrameElement)&&(!((a=e.contentDocument)===null||a===void 0)&&a.body)?f=ke(e.contentDocument.body.childNodes):f=ke(((r=e.shadowRoot)!==null&&r!==void 0?r:e).childNodes),f.length===0||ie(e,HTMLVideoElement)||await f.reduce((c,u)=>c.then(()=>pt(u,n)).then(p=>{p&&t.appendChild(p)}),Promise.resolve()),t}function Vo(e,t){const n=t.style;if(!n)return;const a=window.getComputedStyle(e);a.cssText?(n.cssText=a.cssText,n.transformOrigin=a.transformOrigin):ke(a).forEach(r=>{let f=a.getPropertyValue(r);r==="font-size"&&f.endsWith("px")&&(f=`${Math.floor(parseFloat(f.substring(0,f.length-2)))-.1}px`),ie(e,HTMLIFrameElement)&&r==="display"&&f==="inline"&&(f="block"),r==="d"&&t.getAttribute("d")&&(f=`path(${t.getAttribute("d")})`),n.setProperty(r,f,a.getPropertyPriority(r))})}function Eo(e,t){ie(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),ie(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function Lo(e,t){if(ie(e,HTMLSelectElement)){const n=t,a=Array.from(n.children).find(r=>e.value===r.getAttribute("value"));a&&a.setAttribute("selected","")}}function Ao(e,t){return ie(t,Element)&&(Vo(e,t),po(e,t),Eo(e,t),Lo(e,t)),t}async function Ro(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const a={};for(let f=0;f<n.length;f++){const u=n[f].getAttribute("xlink:href");if(u){const p=e.querySelector(u),b=document.querySelector(u);!p&&b&&!a[u]&&(a[u]=await pt(b,t,!0))}}const r=Object.values(a);if(r.length){const f="http://www.w3.org/1999/xhtml",c=document.createElementNS(f,"svg");c.setAttribute("xmlns",f),c.style.position="absolute",c.style.width="0",c.style.height="0",c.style.overflow="hidden",c.style.display="none";const u=document.createElementNS(f,"defs");c.appendChild(u);for(let p=0;p<r.length;p++)u.appendChild(r[p]);e.appendChild(c)}return e}async function pt(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(a=>Co(a,t)).then(a=>$o(e,a,t)).then(a=>Ao(e,a)).then(a=>Ro(a,t))}const Tn=/url\((['"]?)([^'"]+?)\1\)/g,zo=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,To=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Po(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function Io(e){const t=[];return e.replace(Tn,(n,a,r)=>(t.push(r),n)),t.filter(n=>!zt(n))}async function jo(e,t,n,a,r){try{const f=n?ao(t,n):t,c=Pt(t);let u;if(r){const p=await r(f);u=Rn(p,c)}else u=await It(f,c,a);return e.replace(Po(t),`$1${u}$3`)}catch{}return e}function Oo(e,{preferredFontFormat:t}){return t?e.replace(To,n=>{for(;;){const[a,,r]=zo.exec(n)||[];if(!r)return"";if(r===t)return`src: ${a};`}}):e}function Pn(e){return e.search(Tn)!==-1}async function In(e,t,n){if(!Pn(e))return e;const a=Oo(e,n);return Io(a).reduce((f,c)=>f.then(u=>jo(u,c,t,n)),Promise.resolve(a))}async function dt(e,t,n){var a;const r=(a=t.style)===null||a===void 0?void 0:a.getPropertyValue(e);if(r){const f=await In(r,null,n);return t.style.setProperty(e,f,t.style.getPropertyPriority(e)),!0}return!1}async function Mo(e,t){await dt("background",e,t)||await dt("background-image",e,t),await dt("mask",e,t)||await dt("mask-image",e,t)}async function No(e,t){const n=ie(e,HTMLImageElement);if(!(n&&!zt(e.src))&&!(ie(e,SVGImageElement)&&!zt(e.href.baseVal)))return;const a=n?e.src:e.href.baseVal,r=await It(a,Pt(a),t);await new Promise((f,c)=>{e.onload=f,e.onerror=c;const u=e;u.decode&&(u.decode=f),u.loading==="lazy"&&(u.loading="eager"),n?(e.srcset="",e.src=r):e.href.baseVal=r})}async function Uo(e,t){const a=ke(e.childNodes).map(r=>jn(r,t));await Promise.all(a).then(()=>e)}async function jn(e,t){ie(e,Element)&&(await Mo(e,t),await No(e,t),await Uo(e,t))}function Ho(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const a=t.style;return a!=null&&Object.keys(a).forEach(r=>{n[r]=a[r]}),e}const wn={};async function kn(e){let t=wn[e];if(t!=null)return t;const a=await(await fetch(e)).text();return t={url:e,cssText:a},wn[e]=t,t}async function xn(e,t){let n=e.cssText;const a=/url\(["']?([^"')]+)["']?\)/g,f=(n.match(/url\([^)]+\)/g)||[]).map(async c=>{let u=c.replace(a,"$1");return u.startsWith("https://")||(u=new URL(u,e.url).href),zn(u,t.fetchRequestInit,({result:p})=>(n=n.replace(c,`url(${p})`),[c,p]))});return Promise.all(f).then(()=>n)}function Cn(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let a=e.replace(n,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const p=r.exec(a);if(p===null)break;t.push(p[0])}a=a.replace(r,"");const f=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,c="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",u=new RegExp(c,"gi");for(;;){let p=f.exec(a);if(p===null){if(p=u.exec(a),p===null)break;f.lastIndex=u.lastIndex}else u.lastIndex=f.lastIndex;t.push(p[0])}return t}async function Do(e,t){const n=[],a=[];return e.forEach(r=>{if("cssRules"in r)try{ke(r.cssRules||[]).forEach((f,c)=>{if(f.type===CSSRule.IMPORT_RULE){let u=c+1;const p=f.href,b=kn(p).then(C=>xn(C,t)).then(C=>Cn(C).forEach(y=>{try{r.insertRule(y,y.startsWith("@import")?u+=1:r.cssRules.length)}catch(M){console.error("Error inserting rule from remote css",{rule:y,error:M})}})).catch(C=>{console.error("Error loading remote css",C.toString())});a.push(b)}})}catch(f){const c=e.find(u=>u.href==null)||document.styleSheets[0];r.href!=null&&a.push(kn(r.href).then(u=>xn(u,t)).then(u=>Cn(u).forEach(p=>{c.insertRule(p,r.cssRules.length)})).catch(u=>{console.error("Error loading remote stylesheet",u)})),console.error("Error inlining remote css file",f)}}),Promise.all(a).then(()=>(e.forEach(r=>{if("cssRules"in r)try{ke(r.cssRules||[]).forEach(f=>{n.push(f)})}catch(f){console.error(`Error while reading CSS rules from ${r.href}`,f)}}),n))}function qo(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>Pn(t.style.getPropertyValue("src")))}async function Bo(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=ke(e.ownerDocument.styleSheets),a=await Do(n,t);return qo(a)}async function Fo(e,t){const n=await Bo(e,t);return(await Promise.all(n.map(r=>{const f=r.parentStyleSheet?r.parentStyleSheet.href:null;return In(r.cssText,f,t)}))).join(`
`)}async function Jo(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await Fo(e,t);if(n){const a=document.createElement("style"),r=document.createTextNode(n);a.appendChild(r),e.firstChild?e.insertBefore(a,e.firstChild):e.appendChild(a)}}async function Wo(e,t={}){const{width:n,height:a}=An(e,t),r=await pt(e,t,!0);return await Jo(r,t),await jn(r,t),Ho(r,t),await fo(r,n,a)}async function On(e,t={}){const{width:n,height:a}=An(e,t),r=await Wo(e,t),f=await _t(r),c=document.createElement("canvas"),u=c.getContext("2d"),p=t.pixelRatio||ro(),b=t.canvasWidth||n,C=t.canvasHeight||a;return c.width=b*p,c.height=C*p,t.skipAutoScale||co(c),c.style.width=`${b}`,c.style.height=`${C}`,t.backgroundColor&&(u.fillStyle=t.backgroundColor,u.fillRect(0,0,c.width,c.height)),u.drawImage(f,0,0,c.width,c.height),c}async function Go(e,t={}){return(await On(e,t)).toDataURL()}async function Zo(e,t={}){return(await On(e,t)).toDataURL("image/jpeg",t.quality||1)}const Xo={style:{width:"260px","margin-left":"1px"},class:"flex h-full flex-col bg-[#fafbfc] chat-message-left"},Yo={key:0,class:"chat_list_message p-2 bg-[#fafbfc]"},Ko={class:"all_message mb-2 mt-2"},Qo={class:"chat-list mb-2"},el={class:"bot_info"},tl={class:"hover_action"},nl=["onClick"],sl={class:"card-body"},al={class:"media"},ol={class:"avatar me-3"},ll=s("img",{src:Oe,alt:""},null,-1),il={class:"media-body overflow-hidden"},rl={class:"d-flex align-items-center mb-1"},cl={key:0,class:"text-truncate mb-0 me-auto"},ul={key:1,class:"text-truncate mb-0 me-auto"},dl=["innerHTML"],fl={key:0,class:"avatar_preset"},ml={class:"border-t dark:border-t-neutral-800"},_l={class:"p-2 bg-n-6 rounded-xl"},vl={class:"flex items-center px-2.5 py-2.5 pb-4.5"},pl={class:"relative w-10 h-10"},gl=["src"],hl=s("div",{class:"absolute -right-0.75 -bottom-0.75 w-4.5 h-4.5 rounded-full border-4 border-n-6 bg-green-300 top-1 border-green-300"},null,-1),yl={class:"ml-1 mr-2"},bl={class:"base2 font-semibold text-n-1 text-truncate"},wl={class:"caption1 font-semibold text-n-3/50 text-truncate"},kl={class:"shrnik-0 ml-auto self-start px-3 bg-primary-2 rounded-lg caption1 font-bold text-n-7 pack_tag_vip"},xl={class:"nav-wraper"},Cl={class:"user-info-box"},Sl={class:"user-dis"},$l=["src"],Vl={class:"nickname flex-wrap ml-1"},El={class:"shrnik-0 px-3 bg-primary-2 rounded-lg caption1 font-bold text-n-7 pack_tag_vip"},Ll={class:"use-info user-type"},Al=s("span",{class:"number"},"问答 ",-1),Rl=s("img",{src:vt,class:"ml-1",alt:""},null,-1),zl={class:"use-info user-type"},Tl=s("span",{class:"number"},"绘画 ",-1),Pl=s("img",{src:vt,class:"ml-1",alt:""},null,-1),Il={class:"use-info"},jl=s("span",{class:"number"},"额度",-1),Ol=s("div",{name:"quit",class:"i-svg quit-icon-blue"},[s("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("g",{id:"Group 1000007605"},[s("rect",{id:"Rectangle 10",x:"15.0001",y:"9.41418",width:"2",height:"6",rx:"1",transform:"rotate(-45 15.0001 9.41418)",fill:"#057cff"}),s("rect",{id:"Rectangle 11",x:"19.2427",y:"10.8284",width:"2",height:"6",rx:"1",transform:"rotate(45 19.2427 10.8284)",fill:"#057cff"}),s("rect",{id:"Rectangle 12",x:"19",y:"11",width:"2",height:"11",rx:"1",transform:"rotate(90 19 11)",fill:"#057cff"}),s("path",{id:"Rectangle 11218",d:"M17 3H7C5.89543 3 5 3.89543 5 5V19C5 20.1046 5.89543 21 7 21H17",stroke:"#057cff","stroke-width":"2","stroke-linecap":"round"})])])],-1),Ml={key:1,class:"flex items-center px-2.5 py-2.5 pb-4.5"},Nl={class:"relative w-10 h-10"},Ul=s("div",{class:"absolute -right-0.75 -bottom-0.75 w-4.5 h-4.5 rounded-full border-4 border-n-6 bg-green-300 top-1 border-green-300"},null,-1),Hl=s("div",{class:"ml-1 mr-2"},[s("div",{class:"base2 font-semibold text-n-1 text-truncate"},"请先登录")],-1),Dl={class:"shrnik-0 ml-auto self-start px-3 bg-primary-2 rounded-lg caption1 font-bold text-n-7 pack_tag_vip"},ql={key:0},Bl={key:1},Fl={class:"main"},Jl={class:"chat-body"},Wl={class:"chat-header border-bottom md:py-3 sm:py-3 py-2"},Gl={class:"container-xxl"},Zl={class:"row align-items-center"},Xl={class:"col-6 col-xl-4 d-flex"},Yl={class:"media align-items-center"},Kl={key:0,class:"show-user-detail"},Ql=s("img",{src:Oe,alt:"avatar",class:"rounded-full w-100"},null,-1),ei={key:1,class:"show-user-detail"},ti=["src"],ni={key:1,src:Oe,alt:"avatar",class:"rounded-full w-100"},si={class:"media-body overflow-hidden"},ai={class:"d-flex align-items-center mb-1"},oi={key:0,class:"text-truncate mb-0 me-auto"},li={key:1,class:"mobile_width_5rem text-truncate mb-0 me-auto w-40"},ii={class:"text-truncate"},ri={class:"col-6 col-xl-8 text-end"},ci={class:"nav justify-content-end align-items-center mobile_show"},ui={class:"nav-item list-inline-item d-md-block me-2"},di={class:"css-htwhyh nav-link text-muted","data-toggle":"pill",href:"javascript:;"},fi={class:"nav justify-content-end align-items-center mobile_none"},mi={class:"nav-item list-inline-item d-md-block me-2"},_i={key:0,class:"nav-item list-inline-item d-md-block me-2"},vi={class:"nav-item list-inline-item d-md-block me-2"},pi={class:"nav-item list-inline-item d-md-block me-2"},gi={class:"chat-content"},hi={class:"flex flex-column"},yi={key:0,class:"m-auto rounded-md p-4"},bi={class:"mb-6 rounded px-4 py-2 text-center text-3xl font-bold"},wi={class:"w-full md:min-w-[450px]"},ki={class:"wrap_portal"},xi=["onClick"],Ci={class:"card_b__top"},Si={class:"card_b__bottom"},$i={class:"line-clamp-2"},Vi={class:"line-clamp-5"},Ei=s("p",{class:"mt-4 text-center text-sm text-neutral-400"}," 点击以上话题，快速与我对话",-1),Li={key:0,class:"container-xxl"},Ai={class:"list-unstyled pt-5"},Ri={class:"d-flex message right"},zi={class:"message-body"},Ti={class:"date-time text-muted"},Pi={class:"message-row d-flex align-items-center justify-content-end"},Ii=["innerHTML"],ji={class:"d-flex message"},Oi={class:"mr-lg-3 me-2"},Mi=["src"],Ni={key:1,src:Oe,alt:"avatar",class:"rounded-full w-100"},Ui={class:"message-body"},Hi={class:"date-time text-muted"},Di={class:"message-row relative d-flex flex-column align-items-start"},qi=["innerHTML"],Bi={class:"message_content_footer"},Fi=["onClick"],Ji={class:"ant_hide"},Wi=["onClick"],Gi=s("span",{class:"ant_hide"},"重新生成",-1),Zi=["onClick"],Xi=s("span",{class:"ant_hide"},"复制答案",-1),Yi=["onClick"],Ki=s("span",{class:"ant_hide"},"导出Word",-1),Qi=["onClick"],er=s("span",{class:"ant_hide"},"导出PDF",-1),tr={class:"speak btn z-10 new_ant_btn h-30"},nr=s("span",{class:"ant_hide"},"删除",-1),sr={class:"chat-footer border-top py-xl-2 py-lg-2 py-2"},ar={class:"container-xxl"},or={class:"row"},lr={class:"col-12"},ir={key:1},rr=s("br",null,null,-1),cr={class:"dialog-footer"},ur=s("h6",{class:"mb-3"},"模型选择",-1),dr={class:"normal_setting"},fr={class:"flex items-center justify-between"},mr=s("div",{class:"w-[150px]"},[s("p",null,"上下文数量")],-1),_r={class:"flex w-[200px] items-center"},vr=s("p",{class:"mt-2 text-xs text-slate-500"},"更多的上下文会使问答有联动性，能够结合上下精准回答",-1),pr={class:"flex items-center justify-between mt-4"},gr=s("div",{class:"w-[150px]"},[s("p",null,"话题精准度")],-1),hr={class:"flex w-[200px] items-center"},yr=s("p",{class:"mt-2 text-xs text-slate-500"},"正常数值0.8,数值越高每次回答内容更随机",-1),br={class:"mb-3 flex align-items-center justify-content-between"},wr={class:"dialog-footer"},kr={key:0,class:"chat_list_message p-2 bg-[#fafbfc]"},xr={class:"all_message mb-2 mt-2"},Cr={class:"chat-list mb-2"},Sr={class:"bot_info"},$r={class:"hover_action"},Vr=["onClick"],Er={class:"card-body"},Lr={class:"media"},Ar={class:"avatar me-3"},Rr=s("img",{src:Oe,alt:""},null,-1),zr={class:"media-body overflow-hidden"},Tr={class:"d-flex align-items-center mb-1"},Pr={key:0,class:"text-truncate mb-0 me-auto"},Ir={key:1,class:"text-truncate mb-0 me-auto"},jr=["innerHTML"],Or={class:"mb-3 dark:border-t-neutral-800"},Mr={class:"p-2 bg-n-6 rounded-xl"},Nr={class:"flex items-center px-2.5 py-2.5 pb-4.5"},Ur={class:"relative w-10 h-10"},Hr=["src"],Dr=s("div",{class:"absolute -right-0.75 -bottom-0.75 w-4.5 h-4.5 rounded-full border-4 border-n-6 bg-green-300 top-1 border-green-300"},null,-1),qr={class:"ml-1 mr-2"},Br={class:"base2 font-semibold text-n-1 text-truncate"},Fr={class:"caption1 font-semibold text-n-3/50 text-truncate"},Jr={class:"shrnik-0 ml-auto self-start px-3 bg-primary-2 rounded-lg caption1 font-bold text-n-7 pack_tag_vip"},Wr={class:"nav-wraper"},Gr={class:"user-info-box"},Zr={class:"user-dis"},Xr=["src"],Yr={class:"nickname flex-wrap ml-1"},Kr={class:"shrnik-0 px-3 bg-primary-2 rounded-lg caption1 font-bold text-n-7 pack_tag_vip"},Qr={class:"use-info user-type"},ec=s("span",{class:"number"},"问答 ",-1),tc=s("img",{src:vt,class:"ml-1",alt:""},null,-1),nc={class:"use-info user-type"},sc=s("span",{class:"number"},"绘画 ",-1),ac=s("img",{src:vt,class:"ml-1",alt:""},null,-1),oc={class:"use-info"},lc=s("span",{class:"number"},"额度",-1),ic=s("div",{name:"quit",class:"i-svg quit-icon-blue"},[s("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("g",{id:"Group 1000007605"},[s("rect",{id:"Rectangle 10",x:"15.0001",y:"9.41418",width:"2",height:"6",rx:"1",transform:"rotate(-45 15.0001 9.41418)",fill:"#057cff"}),s("rect",{id:"Rectangle 11",x:"19.2427",y:"10.8284",width:"2",height:"6",rx:"1",transform:"rotate(45 19.2427 10.8284)",fill:"#057cff"}),s("rect",{id:"Rectangle 12",x:"19",y:"11",width:"2",height:"11",rx:"1",transform:"rotate(90 19 11)",fill:"#057cff"}),s("path",{id:"Rectangle 11218",d:"M17 3H7C5.89543 3 5 3.89543 5 5V19C5 20.1046 5.89543 21 7 21H17",stroke:"#057cff","stroke-width":"2","stroke-linecap":"round"})])])],-1),rc={key:1,class:"flex items-center px-2.5 py-2.5 pb-4.5"},cc={class:"relative w-10 h-10"},uc=s("div",{class:"absolute -right-0.75 -bottom-0.75 w-4.5 h-4.5 rounded-full border-4 border-n-6 bg-green-300 top-1 border-green-300"},null,-1),dc=s("div",{class:"ml-1 mr-2"},[s("div",{class:"base2 font-semibold text-n-1 text-truncate"},"请先登录")],-1),fc={class:"shrnik-0 ml-auto self-start px-3 bg-primary-2 rounded-lg caption1 font-bold text-n-7 pack_tag_vip"},mc={key:0},_c={key:1},vc=["innerHTML"],pc={class:"export_message"},gc={class:"flex justify-content-center"},hc={class:"main all_message_export"},yc={class:"chat-body bg-white border mt-2 h-full"},bc={class:"chat-content overflow-visible"},wc={style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},kc={style:{display:"flex",alignItems:"center",color:"#1D2129"}},xc=s("img",{src:Oe,alt:"",class:"mr-2 w-12"},null,-1),Cc={class:"flex flex-column"},Sc={key:0,class:"container-xxl"},$c={class:"list-unstyled pt-5"},Vc={class:"d-flex message right"},Ec={class:"message-body"},Lc={class:"date-time text-muted"},Ac={class:"message-row d-flex align-items-center justify-content-end"},Rc=["innerHTML"],zc={class:"d-flex message"},Tc={class:"mr-lg-3 me-2"},Pc=s("img",{src:Oe,alt:"avatar",class:"rounded-full w-100"},null,-1),Ic={class:"message-body"},jc={class:"date-time text-muted"},Oc={class:"message-row relative d-flex flex-column align-items-start"},Mc=["innerHTML"],eu=Ee({__name:"index",setup(e){const t=w(!1),n=Sn(),a=m=>mn({linkify:!0,highlight:(o,J)=>{if(J&&_n.getLanguage(J))try{return`<pre class="hljs"><span ref="preCopy" class="pre_copy">Copy</span><code>${_n.highlight(o,{language:J,ignoreIllegals:!0}).value}</code></pre>`}catch{}return`<pre class="hljs"><span ref="preCopy" class="pre_copy">Copy</span><code>${mn().utils.escapeHtml(o)}</code></pre>`},breaks:!0}).use(ea).render(m);Ss({title:n.setting.title,meta:[{name:"description",content:n.setting.description},{name:"keywords",content:n.setting.keywords}]});const r=w(!1),f=()=>{r.value=!0},c=w(!1),u=()=>{r.value=!1},p=w(!1),b=()=>{p.value=!0},C=()=>{p.value=!1},y=xt("token"),M=$s(),N=w([]),h=w(0),v=w([]),O=w(!1),T=w(!1),re=w(!1),me=w([]),ve=w({}),U=w(!1),x=w(1),pe=w(8),oe=w(0),K=w(!1),le=w(3),ge=w(.8),Me=m=>{Fs({content:m}).then(o=>{const J=new Blob([o._rawValue],{type:"application/pdf"});saveAs(J,"example.pdf")})},xe=m=>{na(m).then(o=>{ta.saveAs(o,"answer.docx")})};Vs(async()=>{await Es(),Ae()});const he=w(),Ce=w([]),Ze=()=>{Ks().then(m=>{Ce.value=m._rawValue.data})},Le=()=>{U.value=!0,Ze()},we=m=>{Js({avatar_preset_id:m,session_id:h.value}).then(o=>{U.value=!1,j.success("头像修改成功"),V()})},Ae=()=>{he.value=new Ln,he.value.setLanguage("zh-CN"),he.value.init().then(()=>{})},F=w(!1),Xe=m=>{he.value.cancel(),F.value=!0,he.value.speak({text:m,listeners:{onend:()=>{he.value.cancel()}}}).then(()=>{F.value=!1,j.success("语音播放完成")})},P=()=>{he.value.cancel(),F.value=!1};(()=>{{const m=new Ja(".pre_copy",{target:o=>o.nextElementSibling});m.on("success",o=>{o.trigger.innerText==="Copy"&&(o.trigger.innerText="Copied",j.success("复制成功"),setTimeout(()=>{o.trigger.innerText="Copy"},1e3))}),m.on("error",o=>{j.error("复制失败")})}})();const k=w(0),R=w(0),V=()=>{K.value=!0,re.value=!0,rn({page:x,limit:pe}).then(m=>{N.value=m._rawValue.data,ve.value=m._rawValue.m_last,oe.value=m._rawValue.count,Mn.value=m._rawValue.max_session,K.value=!1,re.value=!1}).catch(m=>{re.value=!1,K.value=!1,console.log(m)})},A=w({}),Y=w("free"),Re=m=>{let o=document.querySelector(".all_message_export");m=="PNG"?Go(o,{cacheBust:!1,useCorsEverywhereProxy:!0}).then(function(J){const I=document.createElement("a");I.href=J,I.download="message.png",I.click()}).catch(function(J){console.error("oops, something went wrong!",J)}):Zo(o).then(function(J){const I=document.createElement("a");I.download="message.jpeg",I.href=J,I.click()}).catch(function(J){console.error("oops, something went wrong!",J)})},lt=w(0),gt=w(0),jt=()=>{Ds().then(m=>{k.value=m._rawValue.last_msg,R.value=m._rawValue.last_draw,lt.value=m._rawValue.total_msg,gt.value=m._rawValue.total_draw,A.value=m._rawValue.user_info,Y.value=m._rawValue.vip_level}).catch(m=>{console.log(m)})},Ot=()=>{y.value="",M.go(0)};y.value&&(V(),jt());const Mn=w(0),Ne=w(1),Ye=w(4),Mt=w(!0),Nt=w([]),Ue=w(),Ut=w([]);(()=>{cn({page:Ne,limit:Ye}).then(m=>{me.value=m._rawValue.data,Ut.value=m._rawValue.p_data,De.value=m._rawValue.count,Nt.value=m._rawValue.model,Ue.value=m._rawValue.model[0].model}).catch(m=>{console.log(m)})})();const Ht=m=>{K.value=!0,Ve.value?un({search:Ve.value,page:m,limit:pe.value}).then(o=>{x.value=m,N.value=o._rawValue.data,oe.value=o._rawValue.count,K.value=!1,j.success("搜索完成")}).catch(o=>{j.error(o.message),K.value=!1}):rn({page:m,limit:pe}).then(o=>{x.value=m,N.value=o._rawValue.data,oe.value=o._rawValue.count,K.value=!1}).catch(o=>{K.value=!1,console.log(o)})},Nn=m=>{Ws({id:m}).then(o=>{j.success("删除成功"),v.value.length==1?(h.value=0,ye(h.value),V()):(ye(h.value),V())}).catch(o=>{j.error(o.message)})},He=w(!1),Un=m=>{He.value=!0,Mt.value&&(et.value?(Ne.value=m,dn({search:et.value,page:m,limit:Ye.value}).then(o=>{Ne.value=m,me.value=o._rawValue.data,De.value=o._rawValue.count,j.success("搜索完成"),He.value=!1}).catch(o=>{j.error(o.message),He.value=!1})):cn({page:m,limit:Ye}).then(o=>{Ne.value=m,me.value=o._rawValue.data,De.value=o._rawValue.count,He.value=!1}).catch(o=>{console.log(o),He.value=!1}),Mt.value=!0)},ye=m=>{h.value=m,O.value=!0,Gs({session_id:m}).then(o=>{v.value=o._rawValue.data,O.value=!1,Se()}).catch(o=>{O.value=!1})},ht=w([]),Hn=w(!0);(()=>{qs().then(m=>{ht.value=m._rawValue.data,Hn.value=!1}).catch(m=>{console.log(m)})})();const Dt=xt("is_read",{maxAge:60*60*24}),Ke=w(!(Dt.value=="on"||n.setting.notice_open!="1")),Dn=()=>{Ke.value=!1,Dt.value="on"},Se=()=>{setTimeout(()=>{let m=document.getElementsByClassName("chat-content")[0];m.style.transition="500ms",m.scrollTo({top:m.scrollHeight,behavior:"smooth"})},100)},Q=ft({message_input:""});ft({message_input:[{required:!0,message:"请输入内容",trigger:"blur"}]});const{public:{baseUrl:qt}}=Os(),Bt={Authorization:`Bearer ${y.value}`,Accept:"text/event-stream"},be=w(!0),$e=w(),ze=w("start"),qn=w(),Bn=()=>{ze.value="end",be.value=!0,T.value=!1,Q.message_input=""},Fn=m=>{Q.message_input=m,y.value?yt():wt()},yt=async()=>{var m;if(Q.message_input=="")return j.warning("请输入内容"),!1;if(event.shiftKey)return Q.message_input+=`
`,!1;if(!y.value)return j.warning("请先登录"),f(),!1;if(T.value=!0,v.value.push({session_id:h.value,question:Q.message_input,message:"思考中..."}),Se(),nt.value)Zs({session_id:h.value,prompt:Q.message_input}).then(o=>{v.value[v.value.length-1].message=o._rawValue.data,Se(),Q.message_input="",T.value=!1,h.value==0&&(V(),setTimeout(()=>{h.value==0&&(h.value=ve.value.session_id),ye(h.value)},2e3))}).catch(o=>{v.value[v.value.length-1].message="联网错误",Se(),T.value=!1});else{const o=await fetch(`${qt}api/send_bot`,{method:"POST",headers:Bt,body:JSON.stringify({info:Q.message_input,session_id:h.value,scene_preset:Pe.domains,model_is_select:Ue.value,answer_num:le.value,answer_tem:ge.value})});if(ze.value="start",o&&(v.value[v.value.length-1].message=""),o.status==500)return T.value=!1,j.error("服务器错误"),!1;if(o.status==401)return T.value=!1,j.error("请先登录"),!1;if(o.status==402)return T.value=!1,v.value[v.value.length-1].message="发送次数已达上限或余额不足",j.error("发送次数已达上限或余额不足"),!1;if(o.status==403)return T.value=!1,v.value[v.value.length-1].message="禁止发送违禁词",j.error("禁止发送违禁词"),!1;let J=!1;const I=(m=o.body)==null?void 0:m.getReader(),se=({value:G})=>{let B=new TextDecoder().decode(G).split(`

`).map(q=>q.replace(/\n/g,"")),D=[];for(let q=0;q<B.length;q++){if(be.value=!1,B[q].slice(-2)=="]}"&&B[q].startsWith("data:"))D.push(JSON.parse(B[q].replace("data:","")));else if(B[q].startsWith("data:")&&B[q].slice(-2)!="]}")$e.value=B[q].replace("data:","");else if(B[q].slice(-2)=="]}"&&B[q].startsWith("data:")==!1){let qe=$e.value+=B[q];D.push(JSON.parse(qe.replace("data:",""))),$e.value=""}else B[q].includes('"error"')&&(v.value[v.value.length-1].message=JSON.parse(B[q]).error.message),$e.value="";if(B[q].includes("reply_content:")&&(J=!0),J){let st=B[q].substring(14);for(let Be=0;Be<st.length;Be++)setTimeout(()=>{v.value[v.value.length-1].message+=st.charAt(Be),Se()},1e3)}}for(let q=0;q<D.length;q++)setTimeout(()=>{D[q].choices[0].delta.content&&(v.value[v.value.length-1].message+=D[q].choices[0].delta.content),Se()},100)},ae=async()=>{const G=await(I==null?void 0:I.read());if(ze.value=="end")return console.log("end"),ze.value="start",I==null||I.cancel(),!1;G!=null&&G.done?(console.log("done"),be.value=!0,jt(),T.value=!1,Q.message_input="",h.value==0&&(V(),setTimeout(()=>{h.value==0&&(h.value=ve.value.session_id),ye(h.value)},2e3))):(T.value=!0,be.value=!1,se(G),await ae())};await ae()}},bt=xt("message");n.setting.no_login_aiqs=="1"&&!y.value&&bt.value&&(v.value=bt.value);const wt=async()=>{var se;if(Q.message_input=="")return j.warning("请输入内容"),!1;if(event.shiftKey)return Q.message_input+=`
`,!1;T.value=!0,v.value.push({session_id:h.value,question:Q.message_input,message:"思考中..."}),Se();const m=await fetch(`${qt}api/no_send_bot`,{method:"POST",headers:Bt,body:JSON.stringify({info:Q.message_input,session_id:h.value,model_select:Ue.value,scene_preset:Pe.domains,answer_tem:ge.value})});if(ze.value="start",m&&(v.value[v.value.length-1].message=""),m.status==500)return T.value=!1,j.error("服务器错误"),!1;if(m.status==402)return T.value=!1,v.value[v.value.length-1].message="未登录用户提问达到上限,,请登录继续免费使用",j.error("未登录用户提问达到上限,请登录继续免费使用"),!1;if(m.status==403)return T.value=!1,v.value[v.value.length-1].message="禁止发送违禁词",j.error("禁止发送违禁词"),!1;const o=(se=m.body)==null?void 0:se.getReader(),J=({value:ae})=>{let ee=new TextDecoder().decode(ae).split(`

`).map(D=>D.replace(/\n/g,"")),B=[];for(let D=0;D<ee.length;D++)if(be.value=!1,ee[D].slice(-2)=="]}"&&ee[D].startsWith("data:"))B.push(JSON.parse(ee[D].replace("data:","")));else if(ee[D].startsWith("data:")&&ee[D].slice(-2)!="]}")$e.value=ee[D].replace("data:","");else if(ee[D].slice(-2)=="]}"&&ee[D].startsWith("data:")==!1){let q=$e.value+=ee[D];B.push(JSON.parse(q.replace("data:",""))),$e.value=""}else ee[D].includes('"error"')&&(v.value[v.value.length-1].message=JSON.parse(ee[D]).error.message),$e.value="";for(let D=0;D<B.length;D++)setTimeout(()=>{B[D].choices[0].delta.content&&(v.value[v.value.length-1].message+=B[D].choices[0].delta.content),Se()},100)},I=async()=>{const ae=await(o==null?void 0:o.read());if(ze.value=="end")return console.log("end"),ze.value="start",o==null||o.cancel(),!1;ae!=null&&ae.done?(console.log("done"),be.value=!0,T.value=!1,Q.message_input="",bt.value=v.value):(T.value=!0,be.value=!1,J(ae),await I())};await I()},Ve=w(""),it=()=>{if(!Ve.value){j.warning("请输入内容");return}un({search:Ve.value,page:x.value,limit:pe.value}).then(m=>{N.value=m._rawValue.data,oe.value=m._rawValue.count,j.success("搜索完成")}).catch(m=>{j.error(m.message)})},Ft=m=>{Xs({session_id:m}).then(o=>{j.success(o._rawValue.message),V(),h.value=0,v.value=[]}).catch(o=>{console.log(o)})},Jt=()=>(Ys().then(m=>{j.success(m._rawValue.message),V(),h.value=0,v.value=[]}).catch(m=>{console.log(m)}),!0),Jn=m=>{const o=document.createElement("input");o.setAttribute("readonly","readonly"),o.setAttribute("value",m.replace(/&nbsp;/g," ")),document.body.appendChild(o),o.select(),document.execCommand("copy")&&(document.execCommand("copy"),j.success("复制成功")),document.body.removeChild(o)};w();const Wt=w(),kt=w(!1);w("ltr");const Wn=()=>{kt.value=!0},Qe=w(!1),et=w(""),De=w(0),Gt=()=>{dn({search:et.value,page:Ne.value,limit:Ye.value}).then(m=>{me.value=m._rawValue.data,De.value=m._rawValue.count,j.success("搜索完成")}).catch(m=>{j.error(m.message)})},Zt=m=>{Q.message_input=m,Qe.value=!1},Xt=m=>{tt.value=!0,h.value=m},tt=w(!1),Te=w(""),Yt=()=>{if(!Te.value)return j.warning("请输入内容"),!0;Gn(h.value,Te.value),Te.value=""},Gn=(m,o)=>{Bs({session_id:m,session_name:o}).then(J=>{j.success(J._rawValue.message),V()}).catch(J=>{j.error(J.message)})},nt=w(!1),Zn=()=>{nt.value=!nt.value;const m=nt.value?"开启":"关闭";j.success("联网功能"+m+"成功")};w();const Pe=ft({domains:[{key:1,value:"",sel:"system"}]}),Xn=[{value:"system",label:"system"},{value:"user",label:"user"},{value:"assistant",label:"assistant"}],Yn=m=>{const o=Pe.domains.indexOf(m);o!==-1&&Pe.domains.splice(o,1)},Kn=()=>{Pe.domains.push({key:Date.now(),value:"",sel:"system"})};return(m,o)=>{const J=L("a-input-search"),I=L("a-button"),se=L("a-space"),ae=L("a-popconfirm"),G=L("a-avatar"),ee=L("a-empty"),B=L("a-modal"),D=L("a-pagination"),q=Ls,qe=L("a-spin"),st=L("a-input"),Be=L("a-trigger"),Ie=L("a-tag"),rt=L("a-doption"),Qn=L("a-dropdown"),ct=L("a-tooltip"),es=L("a-col"),ts=L("a-row"),Kt=L("a-textarea"),Qt=L("a-form-item"),en=L("a-form"),ns=L("a-skeleton-line"),ss=L("a-skeleton"),tn=L("a-typography-text"),as=L("a-timeline-item"),os=L("a-timeline"),ls=L("a-option"),is=L("a-select"),rs=L("a-radio"),cs=L("a-radio-group"),us=L("icon-face-smile-fill"),ds=L("icon-face-frown-fill"),nn=L("a-slider"),fs=L("a-collapse-item"),ms=L("a-collapse"),_s=L("a-list-item-meta"),vs=L("a-list-item"),ps=L("a-list"),gs=L("a-drawer"),hs=Ms,ys=Ba,bs=L("a-card");return _(),$(ue,null,[s("div",Xo,[l(se,{class:"p-2 bg-white"},{default:d(()=>[l(J,{modelValue:Ve.value,"onUpdate:modelValue":o[0]||(o[0]=i=>Ve.value=i),onSearch:it,onKeydown:Ct(it,["enter","native"]),placeholder:"搜索..."},null,8,["modelValue","onKeydown"]),l(I,{type:"primary",onClick:o[1]||(o[1]=i=>ye(0))},{default:d(()=>[l(g(sn))]),_:1})]),_:1}),l(qe,{class:"overflow-auto h-full",loading:K.value,tip:"Loading.."},{default:d(()=>[N.value.length>0?(_(),$("div",Yo,[s("p",Ko,[s("span",{onClick:o[2]||(o[2]=i=>V()),class:"py-0 border-0 text-muted",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[l(g(at),{class:"fs-6 align-text-bottom"})]),z(" 全部消息")]),s("ul",Qo,[s("div",el,[(_(!0),$(ue,null,_e(N.value,(i,X)=>(_(),$("li",{class:de(["online list-animation-bottomIn",[h.value==i[i.length-1].session_id?"active":"","delay-"+X]]),key:X},[s("div",tl,[l(se,null,{default:d(()=>[l(g(an),{onClick:W=>Xt(i[i.length-1].session_id)},null,8,["onClick"]),l(ae,{content:"此操作将永久删除当前会话,确定要删除吗?",onOk:W=>Ft(i[i.length-1].session_id),type:"warning"},{default:d(()=>[l(g(Fe))]),_:2},1032,["onOk"])]),_:2},1024)]),s("div",{class:"card mb-2",onClick:W=>ye(i[i.length-1].session_id)},[s("div",sl,[s("div",al,[s("div",ol,[i[i.length-1].icon?(_(),H(G,{key:0,onClick:o[3]||(o[3]=W=>Le()),shape:"square",imageUrl:i[i.length-1].icon},null,8,["imageUrl"])):(_(),H(G,{key:1,onClick:o[4]||(o[4]=W=>Le())},{default:d(()=>[ll]),_:1}))]),s("div",il,[s("div",rl,[i[i.length-1].message_b?(_(),$("h6",cl,E(i[i.length-1].message_b),1)):(_(),$("h6",ul,E(i[i.length-1].question),1))]),s("div",{class:"text-truncate h-20",innerHTML:i[i.length-1].message.replace(/\n/g,"<br />")},null,8,dl)])])])],8,nl)],2))),128))])]),l(B,{visible:U.value,"onUpdate:visible":o[5]||(o[5]=i=>U.value=i),title:"头像预设",footer:!1},{default:d(()=>[Ce.value.length>0?(_(),$("div",fl,[l(se,{class:"flex-wrap justify-between"},{default:d(()=>[(_(!0),$(ue,null,_e(Ce.value,(i,X)=>(_(),H(G,{class:"cursor-pointer",size:64,imageUrl:i.avatar,width:"200",onClick:W=>we(i.id)},null,8,["imageUrl","onClick"]))),256))]),_:1})])):(_(),H(ee,{key:1}))]),_:1},8,["visible"])])):(_(),H(ee,{key:1,class:"message_empty"})),l(D,{size:"small",total:oe.value,current:x.value,"page-size":pe.value,class:"justify-content-center mb-2",background:"",simple:"",onChange:Ht,"hide-on-single-page":!0},null,8,["total","current","page-size"]),l(q,null,{default:d(()=>[l(ae,{content:"此操作将永久删除所有会话,确定要删除吗?",onOk:Jt,type:"warning"},{default:d(()=>[l(I,{type:"primary",class:"w-11/12 flex m-auto mb-2"},{icon:d(()=>[l(g(Fe))]),default:d(()=>[z("清空所有对话")]),_:1})]),_:1})]),_:1})]),_:1},8,["loading"]),l(B,{visible:tt.value,"onUpdate:visible":o[7]||(o[7]=i=>tt.value=i),title:"修改备注",onOk:Yt},{default:d(()=>[l(st,{modelValue:Te.value,"onUpdate:modelValue":o[6]||(o[6]=i=>Te.value=i)},null,8,["modelValue"])]),_:1},8,["visible"]),l(q,null,{default:d(()=>[s("div",ml,[s("div",_l,[g(y)?(_(),H(Be,{key:0,trigger:["click","hover","focus"]},{content:d(()=>[s("div",xl,[s("div",Cl,[s("div",Sl,[l(G,null,{default:d(()=>[s("img",{src:A.value.avatar,alt:"avatar",class:"rounded-full w-10 h-10"},null,8,$l)]),_:1}),s("span",Vl,[s("span",null,E(A.value.name),1),s("div",El,E(Y.value),1)])]),s("div",Ll,[Al,s("span",null,E(k.value)+"/"+E(lt.value)+"次 ",1),Rl]),s("div",zl,[Tl,s("span",null,E(R.value)+"/"+E(gt.value)+"次 ",1),Pl]),s("div",Il,[jl,s("span",null,E(A.value.money),1)]),s("div",{class:"quit",onClick:o[8]||(o[8]=i=>Ot())},[Ol,z(" 退出登录 ")])])])]),default:d(()=>[s("div",vl,[s("div",pl,[l(G,null,{default:d(()=>[s("img",{src:A.value.avatar,alt:"avatar",class:"rounded-full w-10 h-10"},null,8,gl)]),_:1}),hl]),s("div",yl,[s("div",bl,E(A.value.name),1),s("div",wl,"额度:"+E(A.value.money),1)]),s("div",kl,E(Y.value),1)])]),_:1})):(_(),$("div",Ml,[s("div",Nl,[l(G,{style:{backgroundColor:"#3370ff"}},{default:d(()=>[l(g(vn))]),_:1}),Ul]),Hl,s("div",Dl,E(Y.value),1)])),g(y)?(_(),H(I,{key:3,class:"w-full",onClick:o[10]||(o[10]=i=>b())},{default:d(()=>[g(n).setting.show_limit_front=="1"?(_(),$("div",ql,[z(" VIP剩余 "),l(Ie,{color:"arcoblue",class:"ml-1 mr-1"},{default:d(()=>[z(E(k.value),1)]),_:1}),z("次问答 ")])):(_(),$("div",Bl," 升级会员 "))]),_:1})):(_(),H(I,{key:2,onClick:o[9]||(o[9]=i=>f()),class:"w-full"},{default:d(()=>[z(" 用户登录 ")]),_:1}))])])]),_:1})]),s("div",Fl,[l(qe,{loading:O.value,tip:"记录加载loading.."},{default:d(()=>[s("div",Jl,[s("div",Wl,[s("div",Gl,[s("div",Zl,[s("div",Xl,[s("button",{onClick:o[11]||(o[11]=i=>Wn()),class:"btn sidebar-toggle-btn"},[l(g(As),{size:"24"})]),s("div",Yl,[h.value==0?(_(),$("div",Kl,[l(G,{class:"mr-2"},{default:d(()=>[Ql]),_:1})])):(_(),$("div",ei,[l(G,{class:"mr-2"},{default:d(()=>[v.value&&v.value[0]&&v.value[0].icon!=null?(_(),$("img",{key:0,src:v.value[0].icon,alt:"avatar",class:"rounded-full w-100"},null,8,ti)):(_(),$("img",ni))]),_:1})])),s("div",si,[s("div",ai,[h.value==0?(_(),$("h6",oi,E(g(n).setting.bot_name),1)):ne("",!0),v.value.length>0?(_(),$("h6",li,E(v.value[0].question),1)):ne("",!0)]),s("div",ii,[l(se,null,{default:d(()=>[l(Ie,{color:"arcoblue",class:"cursor-pointer",onClick:o[12]||(o[12]=i=>Qe.value=!0)},{icon:d(()=>[l(g(Ns))]),default:d(()=>[z(" 预设配置 ")]),_:1}),v.value.length>0?(_(),H(Ie,{key:0,color:"orange"},{default:d(()=>[z(E(v.value.length*2)+"条消息 ",1)]),_:1})):ne("",!0)]),_:1})])])])]),s("div",ri,[s("ul",ci,[s("li",ui,[l(q,null,{default:d(()=>[l(Qn,null,{content:d(()=>[l(rt,null,{default:d(()=>[s("a",{onClick:o[13]||(o[13]=i=>Ke.value=!0),"data-toggle":"pill",class:"text-gray-400",href:"javascript:;"},[l(g(pn),{class:"fs-6 align-text-bottom"}),z(" 公告信息 ")])]),_:1}),h.value!=0?(_(),H(rt,{key:0},{default:d(()=>[s("a",{onClick:o[14]||(o[14]=i=>t.value=!0),"data-toggle":"pill",class:"text-gray-400",href:"javascript:;"},[l(g(ot),{class:"fs-6 align-text-bottom"}),z(" 导出记录 ")])]),_:1})):ne("",!0),l(rt,null,{default:d(()=>[s("a",{onClick:o[15]||(o[15]=i=>ye(h.value)),class:"text-gray-400","data-toggle":"pill",href:"javascript:;"},[l(g(at),{class:"fs-6 align-text-bottom"}),z(" 刷新对话 ")])]),_:1}),l(rt,null,{default:d(()=>[g(y)?(_(),$("a",{key:0,onClick:o[16]||(o[16]=i=>b()),class:"text-gray-400","data-toggle":"pill",href:"javascript:;"},[l(g(ut),{class:"fs-6 align-text-bottom"}),z(" 充值"+E(g(n).setting.money_name_set),1)])):(_(),$("a",{key:1,onClick:o[17]||(o[17]=i=>f()),class:"text-gray-400","data-toggle":"pill",href:"javascript:;"},[l(g(ut),{class:"fs-6 align-text-bottom"}),z("充值"+E(g(n).setting.money_name_set),1)]))]),_:1})]),default:d(()=>[s("a",di,[l(g(Rs),{class:"fs-6"})])]),_:1})]),_:1})])]),s("ul",fi,[s("li",mi,[l(ct,{class:"box-item",effect:"dark",content:"公告信息",placement:"bottom"},{default:d(()=>[s("a",{onClick:o[18]||(o[18]=i=>Ke.value=!0),class:"css-htwhyh nav-link text-muted","data-toggle":"pill",href:"javascript:;"},[l(g(pn),{class:"fs-6"})])]),_:1})]),h.value!=0?(_(),$("li",_i,[l(ct,{class:"box-item",effect:"dark",content:"保存当前聊天",placement:"bottom"},{default:d(()=>[s("a",{onClick:o[19]||(o[19]=i=>t.value=!0),class:"css-htwhyh nav-link text-muted","data-toggle":"pill",href:"javascript:;"},[l(g(ot),{class:"fs-6 align-text-bottom"})])]),_:1})])):ne("",!0),s("li",vi,[l(ct,{class:"box-item",effect:"dark",content:"刷新当前聊天",placement:"bottom"},{default:d(()=>[s("a",{onClick:o[20]||(o[20]=i=>ye(h.value)),class:"css-htwhyh nav-link text-muted","data-toggle":"pill",href:"javascript:;"},[l(g(at),{class:"fs-6 align-text-bottom"})])]),_:1})]),s("li",pi,[l(ct,{class:"box-item",effect:"dark",content:"充值",placement:"bottom"},{default:d(()=>[g(y)?(_(),$("a",{key:0,onClick:o[21]||(o[21]=i=>b()),class:"nav-link text-muted css-htwhyh","data-toggle":"pill",href:"javascript:;"},[l(g(ut),{class:"fs-6 align-text-bottom"})])):(_(),$("a",{key:1,onClick:o[22]||(o[22]=i=>f()),class:"nav-link text-muted css-htwhyh","data-toggle":"pill",href:"javascript:;"},[l(g(ut),{class:"fs-6 align-text-bottom"})]))]),_:1})])])])])])]),s("div",gi,[s("div",{class:"pb-32 sm:py-6 relative",ref_key:"poster",ref:Wt},[s("div",hi,[h.value==0&&v.value.length==0?(_(),$("div",yi,[s("h1",bi,E(g(n).setting.title),1),s("div",wi,[s("div",null,[s("div",ki,[l(ts,{class:"grid-demo w-100"},{default:d(()=>[(_(!0),$(ue,null,_e(Ut.value,(i,X)=>(_(),H(es,{xs:{span:24},lg:{span:6},class:de(["list-animation-leftIn","delay-"+X])},{default:d(()=>[s("div",{class:"card_b",onClick:W=>Zt(i.Instruction)},[s("div",Ci,[l(G,{class:"opacity-100",imageUrl:i.icon},null,8,["imageUrl"]),s("h2",null,E(i.title),1)]),s("div",Si,[s("h2",null,E(i.title),1),s("p",$i,E(i.Instruction),1),s("p",Vi,E(i.Instruction),1)]),s("span",{class:"hover_card_bg",style:je({"background-image":`url(${i.icon})`})},null,4)],8,xi)]),_:2},1032,["class"]))),256))]),_:1})]),Ei])])])):ne("",!0)]),v.value.length>0?(_(),$("div",Li,[s("ul",Ai,[(_(!0),$(ue,null,_e(v.value,(i,X)=>(_(),$("div",{class:"message_s",key:X},[s("li",Ri,[s("div",zi,[s("span",Ti,E(i.created_at),1),s("div",Pi,[s("div",{class:"message-content me_content border p-3",innerHTML:a(i.question).replace(/\\n/g,`
`)},null,8,Ii)])])]),s("li",ji,[s("div",Oi,[l(G,{class:"mr-2"},{default:d(()=>[v.value&&v.value[0]&&v.value[0].icon!=null?(_(),$("img",{key:0,src:v.value[0].icon,alt:"avatar",class:"rounded-full w-100"},null,8,Mi)):(_(),$("img",Ni))]),_:1})]),s("div",Ui,[s("span",Hi,E(i.created_at),1),s("div",Di,[s("div",{class:de(["message-content p-3",X==v.value.length-1&&!be.value?"ms-up":""]),innerHTML:a(i.message).replace(/\\n/g,`
`)},null,10,qi),s("div",Bi,[l(se,{class:"ml-4"},{default:d(()=>[s("div",{class:"speak btn z-10 new_ant_btn h-30",onClick:W=>F.value?P():Xe(i.message.replace(/\\n/g,`
`))},[l(g(va)),s("span",Ji,E(F.value?"停止":"朗读"),1)],8,Fi),s("div",{class:"speak btn z-10 new_ant_btn h-30",onClick:W=>Fn(i.question)},[l(g(at)),Gi],8,Wi),s("div",{class:"speak btn z-10 new_ant_btn h-30",onClick:W=>Jn(i.message.replace(/\\n/g,`
`))},[l(g(zs)),Xi],8,Zi),s("div",{class:"speak btn z-10 new_ant_btn h-30",onClick:W=>xe(i.message.replace(/\\n/g,`
`))},[l(g(sa)),Ki],8,Yi),s("div",{class:"speak btn z-10 new_ant_btn h-30",onClick:W=>Me(i.message.replace(/\\n/g,`
`))},[l(g(ot)),er],8,Qi),l(ae,{content:"此操作将永久删除当条消息,确定要删除吗?",onOk:W=>Nn(i.id),type:"warning"},{default:d(()=>[s("div",tr,[l(g(Fe)),nr])]),_:2},1032,["onOk"])]),_:2},1024)])])])])]))),128))])])):ne("",!0)],512)]),s("div",{class:de(["res_stop text-center mb-2",be.value?"d-none":""]),onClick:o[23]||(o[23]=i=>Bn())},[l(I,null,{default:d(()=>[l(g(xa),{class:"font-22 mr-2"}),z(" 停止运行 ")]),_:1})],2),s("div",sr,[s("div",ar,[s("div",or,[s("div",lr,[l(en,{model:g(Q),ref_key:"formRef",ref:qn},{default:d(()=>[l(Qt,{"hide-label":!0,"hide-asterisk":!0,field:"message_input","validate-trigger":"input"},{default:d(()=>[l(Kt,{placeholder:"shift+enter换行",modelValue:g(Q).message_input,"onUpdate:modelValue":o[24]||(o[24]=i=>g(Q).message_input=i),"allow-clear":"","auto-size":{minRows:1,maxRows:4},onKeydown:o[25]||(o[25]=Ct(Ts(i=>g(n).setting.no_login_aiqs=="1"&&!g(y)?wt():yt(),["prevent"]),["enter","native"])),"show-word-limit":""},null,8,["modelValue"]),l(se,null,{default:d(()=>[g(n).setting.online_is_open=="1"?(_(),H(I,{key:0,onClick:o[26]||(o[26]=i=>Zn()),type:nt.value?"primary":"secondary",loading:T.value,style:{marginLeft:"10px"}},{default:d(()=>[l(g(Na),{class:"text-lg"})]),_:1},8,["type","loading"])):ne("",!0),l(I,{onClick:o[27]||(o[27]=i=>g(n).setting.no_login_aiqs=="1"&&!g(y)?wt():yt()),type:"primary",loading:T.value},{default:d(()=>[l(g(Qs),{class:"text-lg"})]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["model"])])])])])])]),_:1},8,["loading"])]),l(B,{visible:Ke.value,"onUpdate:visible":o[28]||(o[28]=i=>Ke.value=i),onOk:o[29]||(o[29]=i=>Dn()),"hide-cancel":!0,"ok-text":"已查阅"},{title:d(()=>[z(" 本站公告 ")]),default:d(()=>[ht.value.length==0?(_(),H(ss,{key:0,animation:!0},{default:d(()=>[l(se,{direction:"vertical",style:{width:"100%"},size:"large"},{default:d(()=>[l(ns,{rows:3})]),_:1})]),_:1})):(_(),$("div",ir,[l(os,null,{default:d(()=>[(_(!0),$(ue,null,_e(ht.value,(i,X)=>(_(),H(as,{label:i.created_at,lineType:"dashed",key:X},{default:d(()=>[z(E(i.title)+" ",1),rr,l(tn,{type:"secondary",style:{fontSize:"12px",marginTop:"4px"},innerHTML:i.info},null,8,["innerHTML"])]),_:2},1032,["label"]))),128))]),_:1})]))]),_:1},8,["visible"]),l(B,{visible:Qe.value,"onUpdate:visible":o[40]||(o[40]=i=>Qe.value=i),class:"mb_dialog"},{title:d(()=>[z(" 预设配置 ")]),footer:d(()=>[s("span",wr,[l(I,{type:"primary",onClick:o[39]||(o[39]=i=>Qe.value=!1)},{default:d(()=>[z(" 配置完成 ")]),_:1})])]),default:d(()=>[l(B,{visible:c.value,"onUpdate:visible":o[31]||(o[31]=i=>c.value=i),title:"场景预设",width:"30%","append-to-body":"",class:"mb_dialog"},{footer:d(()=>[s("span",cr,[l(I,{type:"primary",onClick:o[30]||(o[30]=i=>c.value=!1)},{default:d(()=>[z(" 完成 ")]),_:1})])]),default:d(()=>[l(en,{model:g(Pe)},{default:d(()=>[(_(!0),$(ue,null,_e(g(Pe).domains,(i,X)=>(_(),H(Qt,{"hide-label":!0,"hide-asterisk":!0,field:`domains[${X}].value`,key:X},{default:d(()=>[l(se,null,{default:d(()=>[l(is,{modelValue:i.sel,"onUpdate:modelValue":W=>i.sel=W},{default:d(()=>[(_(),$(ue,null,_e(Xn,W=>l(ls,{key:W.value,label:W.label,value:W.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"]),l(Kt,{"auto-size":"",placeholder:"预设内容",modelValue:i.value,"onUpdate:modelValue":W=>i.value=W},null,8,["modelValue","onUpdate:modelValue"]),l(I,{type:"primary",onClick:W=>Yn(i),style:{marginLeft:"10px"}},{default:d(()=>[l(g(Fe))]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["field"]))),128))]),_:1},8,["model"]),s("div",null,[l(I,{onClick:Kn},{default:d(()=>[z("添加场景")]),_:1})])]),_:1},8,["visible"]),ur,l(cs,{class:"mb-3 flex-wrap",modelValue:Ue.value,"onUpdate:modelValue":o[32]||(o[32]=i=>Ue.value=i),type:"button"},{default:d(()=>[(_(!0),$(ue,null,_e(Nt.value,(i,X)=>(_(),H(rs,{value:i.model},{default:d(()=>[z(E(i.title),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),l(ms,{class:"mb-3 better_preview"},{"expand-icon":d(({active:i})=>[i?(_(),H(us,{key:0})):(_(),H(ds,{key:1}))]),default:d(()=>[l(fs,{header:"高级设置",key:"1"},{"expand-icon":d(({active:i})=>[i?(_(),H(g(ca),{key:0})):(_(),H(g(Ps),{key:1}))]),default:d(()=>[s("div",dr,[s("div",fr,[mr,s("div",_r,[l(nn,{"default-value":le.value,modelValue:le.value,"onUpdate:modelValue":o[33]||(o[33]=i=>le.value=i),max:15,step:"1","show-ticks":!0},null,8,["default-value","modelValue"])])]),vr,s("div",pr,[gr,s("div",hr,[l(nn,{"default-value":ge.value,modelValue:ge.value,"onUpdate:modelValue":o[34]||(o[34]=i=>ge.value=i),max:2,step:"0.1","show-ticks":!0},null,8,["default-value","modelValue"])])]),yr])]),_:1})]),_:1}),s("h6",br,[z("场景选择 "),l(I,{type:"primary",onClick:o[35]||(o[35]=i=>c.value=!0)},{default:d(()=>[z("预设场景")]),_:1})]),l(J,{modelValue:et.value,"onUpdate:modelValue":o[36]||(o[36]=i=>et.value=i),placeholder:"请输入场景名称",onPressEnter:o[37]||(o[37]=i=>Gt()),onSearch:o[38]||(o[38]=i=>Gt())},null,8,["modelValue"]),l(ps,{loading:He.value,bordered:!1},{default:d(()=>[(_(!0),$(ue,null,_e(me.value,(i,X)=>(_(),H(vs,{onClick:W=>Zt(i.Instruction),class:"cursor-pointer",key:X},{default:d(()=>[l(_s,{title:i.title,description:i.Instruction},{avatar:d(()=>[l(G,{shape:"square",imageUrl:i.icon},null,8,["imageUrl"])]),_:2},1032,["title","description"])]),_:2},1032,["onClick"]))),128)),l(D,{class:"mt-2",current:Ne.value,"page-size":Ye.value,background:"","hide-on-single-page":"",total:De.value,onChange:Un},null,8,["current","page-size","total"]),Is(l(ee,{description:"暂无数据"},null,512),[[js,De.value==0]])]),_:1},8,["loading"])]),_:1},8,["visible"]),l(gs,{visible:kt.value,"onUpdate:visible":o[50]||(o[50]=i=>kt.value=i),placement:"left",class:"drawer_index",unmountOnClose:"",header:!1},{footer:d(()=>[s("div",Or,[s("div",Mr,[g(y)?(_(),H(Be,{key:0,trigger:["click","hover","focus"]},{content:d(()=>[s("div",Wr,[s("div",Gr,[s("div",Zr,[l(G,null,{default:d(()=>[s("img",{src:A.value.avatar,alt:"avatar",class:"rounded-full w-10 h-10"},null,8,Xr)]),_:1}),s("span",Yr,[s("span",null,E(A.value.name),1),s("div",Kr,E(Y.value),1)])]),s("div",Qr,[ec,s("span",null,E(k.value)+"/"+E(lt.value)+"次 ",1),tc]),s("div",nc,[sc,s("span",null,E(R.value)+"/"+E(gt.value)+"次 ",1),ac]),s("div",oc,[lc,s("span",null,E(A.value.money),1)]),s("div",{class:"quit",onClick:o[47]||(o[47]=i=>Ot())},[ic,z(" 退出登录 ")])])])]),default:d(()=>[s("div",Nr,[s("div",Ur,[l(G,null,{default:d(()=>[s("img",{src:A.value.avatar,alt:"avatar",class:"rounded-full w-10 h-10"},null,8,Hr)]),_:1}),Dr]),s("div",qr,[s("div",Br,E(A.value.name),1),s("div",Fr,"额度:"+E(A.value.money),1)]),s("div",Jr,E(Y.value),1)])]),_:1})):(_(),$("div",rc,[s("div",cc,[l(G,{style:{backgroundColor:"#3370ff"}},{default:d(()=>[l(g(vn))]),_:1}),uc]),dc,s("div",fc,E(Y.value),1)])),g(y)?ne("",!0):(_(),H(I,{key:2,onClick:o[48]||(o[48]=i=>f()),class:"w-full"},{default:d(()=>[z(" 用户登录 ")]),_:1})),l(I,{class:"w-full",onClick:o[49]||(o[49]=i=>b())},{default:d(()=>[g(n).setting.show_limit_front=="1"?(_(),$("div",mc,[z(" VIP剩余 "),l(Ie,{color:"arcoblue",class:"ml-1 mr-1"},{default:d(()=>[z(E(k.value),1)]),_:1}),z("次问答 ")])):(_(),$("div",_c," 升级会员 "))]),_:1})])])]),default:d(()=>[l(se,{class:"p-2 bg-white"},{default:d(()=>[l(J,{modelValue:Ve.value,"onUpdate:modelValue":o[41]||(o[41]=i=>Ve.value=i),onSearch:it,onKeydown:Ct(it,["enter","native"]),placeholder:"搜索..."},null,8,["modelValue","onKeydown"]),l(I,{type:"primary",onClick:o[42]||(o[42]=i=>ye(0))},{default:d(()=>[l(g(sn))]),_:1})]),_:1}),l(qe,{loading:K.value,tip:"Loading.."},{default:d(()=>[N.value.length>0?(_(),$("div",kr,[s("p",xr,[s("span",{onClick:o[43]||(o[43]=i=>V()),class:"py-0 border-0 text-muted",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[l(g(at))]),z(" 全部消息")]),s("ul",Cr,[s("div",Sr,[(_(!0),$(ue,null,_e(N.value,(i,X)=>(_(),$("li",{class:de(["online",h.value==i[i.length-1].session_id?"active":""]),key:X},[s("div",$r,[l(se,null,{default:d(()=>[l(g(an),{onClick:W=>Xt(i[i.length-1].session_id)},null,8,["onClick"]),l(ae,{content:"此操作将永久删除当前会话,确定要删除吗?",onOk:W=>Ft(i[i.length-1].session_id),type:"warning"},{default:d(()=>[l(g(Fe))]),_:2},1032,["onOk"])]),_:2},1024)]),s("div",{class:"card mb-2",onClick:W=>ye(i[i.length-1].session_id)},[s("div",Er,[s("div",Lr,[s("div",Ar,[i[i.length-1].icon?(_(),H(G,{key:0,onClick:o[44]||(o[44]=W=>Le()),shape:"square",imageUrl:i[i.length-1].icon},null,8,["imageUrl"])):(_(),H(G,{key:1},{default:d(()=>[Rr]),_:1}))]),s("div",zr,[s("div",Tr,[i[i.length-1].message_b?(_(),$("h6",Pr,E(i[i.length-1].message_b),1)):(_(),$("h6",Ir,E(i[i.length-1].question),1))]),s("div",{class:"text-truncate h-20",innerHTML:i[i.length-1].message.replace(/\n/g,"<br />")},null,8,jr)])])])],8,Vr)],2))),128))])])])):(_(),H(ee,{key:1})),l(D,{size:"small",total:oe.value,current:x.value,"page-size":pe.value,class:"justify-content-center mb-2 mt-2",background:"",simple:"",onChange:Ht,"hide-on-single-page":!0},null,8,["total","current","page-size"]),l(q,null,{default:d(()=>[l(ae,{content:"此操作将永久删除所有会话,确定要删除吗?",onOk:Jt,type:"warning"},{default:d(()=>[l(I,{type:"primary",class:"w-11/12 flex m-auto mb-2"},{icon:d(()=>[l(g(Fe))]),default:d(()=>[z("清空所有对话")]),_:1})]),_:1})]),_:1})]),_:1},8,["loading"]),l(B,{visible:tt.value,"onUpdate:visible":o[46]||(o[46]=i=>tt.value=i),title:"修改备注",onOk:Yt},{default:d(()=>[l(st,{modelValue:Te.value,"onUpdate:modelValue":o[45]||(o[45]=i=>Te.value=i)},null,8,["modelValue"])]),_:1},8,["visible"])]),_:1},8,["visible"]),l(hs,{login_dialog:r.value,onHandleCancel:u},null,8,["login_dialog"]),l(ys,{dialogFormVisible:p.value,onHandleCancels:C},null,8,["dialogFormVisible"]),g(n).setting.script_tongji?(_(),$("div",{key:0,class:"tongji",innerHTML:g(n).setting.script_tongji},null,8,vc)):ne("",!0),l(B,{visible:t.value,"onUpdate:visible":o[53]||(o[53]=i=>t.value=i),footer:!1},{title:d(()=>[z(" 导出聊天记录 ")]),default:d(()=>[s("div",pc,[s("div",gc,[l(se,null,{default:d(()=>[l(I,{onClick:o[51]||(o[51]=i=>Re("PNG")),type:"primary",status:"success"},{icon:d(()=>[l(g(ot))]),default:d(()=>[z(" 导出PNG ")]),_:1}),l(I,{onClick:o[52]||(o[52]=i=>Re("JPG")),type:"primary",status:"warning"},{icon:d(()=>[l(g(ot))]),default:d(()=>[z(" 导出JPG ")]),_:1})]),_:1})]),s("div",hc,[s("div",yc,[s("div",bc,[s("div",{class:"pb-32 sm:py-6 relative",ref_key:"poster",ref:Wt},[l(bs,{hoverable:"",class:"m-2"},{default:d(()=>[s("div",wc,[s("span",kc,[xc,l(tn,null,{default:d(()=>[z(E(g(n).setting.title),1)]),_:1})]),s("div",Cc,[l(Ie,{size:"mini",type:"outline",class:"mb-2"},{default:d(()=>[z(" 模型："+E(Ue.value),1)]),_:1}),l(Ie,{size:"mini",type:"outline",class:"mb-2"},{default:d(()=>[z(" 消息："+E(v.value.length*2),1)]),_:1}),l(Ie,{size:"mini",type:"outline",class:"mb-2"},{default:d(()=>[z(" 时间："+E(v.value.length>0?v.value[v.value.length-1].created_at:""),1)]),_:1})])])]),_:1}),v.value.length>0?(_(),$("div",Sc,[s("ul",$c,[(_(!0),$(ue,null,_e(v.value,(i,X)=>(_(),$("div",{class:"message_s",key:X},[s("li",Vc,[s("div",Ec,[s("span",Lc,E(i.created_at),1),s("div",Ac,[s("div",{class:"message-content me_content border p-3",innerHTML:a(i.question)},null,8,Rc)])])]),s("li",zc,[s("div",Tc,[l(G,{class:"mr-2"},{default:d(()=>[Pc]),_:1})]),s("div",Ic,[s("span",jc,E(i.created_at),1),s("div",Oc,[s("div",{class:de(["message-content p-3",X==v.value.length-1&&!be.value?"ms-up":""]),innerHTML:a(i.message).replace(/\\n/g,`
`)},null,10,Mc)])])])]))),128))])])):ne("",!0)],512)])])])])]),_:1},8,["visible"])],64)}}});export{eu as default};
