import{p as qe,d as Le,q as Be,s as fe,x as Fe,o as _,c as $,n as de,y as je,e as s,r as w,Z as dt,A as bs,M as j,b as E,i as H,w as f,g as c,f as T,h as g,j as ne,l as _e,t as V,F as ue,$ as ws,a2 as ks,R as xs,a as Cs,u as kt,K as Ss,U as $s,T as Vs,_ as Es,k as xt,I as nn,O as sn,G as rt,H as Ls,P as As,a1 as Rs,a3 as zs,a4 as Ts,m as Ps,v as Is,J as js}from"./entry.08fab12c.js";import{_ as Os,I as Ms}from"./Login.vue.ec6cdec0.js";import{u as Cn,z as Ns,A as an,B as on,C as Us,D as ln,E as Hs,F as rn,G as Ds,H as qs,I as Bs,J as Fs,K as cn,L as Js,M as un,N as Ws,O as Gs,P as Zs,Q as Xs}from"./counter.0cf0b14c.js";import{Q as dn}from"./qrcode.vue.esm.58432476.js";import{m as fn,H as mn}from"./index.7ad7fc1a.js";import{I as Ys,m as Ks}from"./index.0497ec56.js";import{f as Qs}from"./FileSaver.min.095cc62c.js";import{a as ea}from"./index.85ead1f7.js";import{I as nt}from"./index.4851bd1e.js";import{I as _n}from"./wechat.727e528c.js";import{I as st}from"./index.117b88cc.js";import{I as ta}from"./index.f9e13333.js";import"./nuxt-link.4989e43b.js";const na=Le({name:"IconDoubleDown",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Be("icon"),a=fe(()=>[n,`${n}-double-down`,{[`${n}-spin`]:e.spin}]),i=fe(()=>{const r={};return e.size&&(r.fontSize=Fe(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:a,innerStyle:i,onClick:r=>{t("click",r)}}}}),sa=["stroke-width","stroke-linecap","stroke-linejoin"],aa=s("path",{d:"m9.9 11.142 14.143 14.142 14.142-14.142M9.9 22.456l14.143 14.142 14.142-14.142"},null,-1),oa=[aa];function la(e,t,n,a,i,d){return _(),$("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:de(e.cls),style:je(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},oa,14,sa)}var Ct=qe(na,[["render",la]]);const ia=Object.assign(Ct,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+Ct.name,Ct)}}),ra=Le({name:"IconVoice",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Be("icon"),a=fe(()=>[n,`${n}-voice`,{[`${n}-spin`]:e.spin}]),i=fe(()=>{const r={};return e.size&&(r.fontSize=Fe(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:a,innerStyle:i,onClick:r=>{t("click",r)}}}}),ca=["stroke-width","stroke-linecap","stroke-linejoin"],ua=s("path",{d:"M41 21v1c0 8.837-7.163 16-16 16h-2c-8.837 0-16-7.163-16-16v-1m17 17v6m0-14a9 9 0 0 1-9-9v-6a9 9 0 1 1 18 0v6a9 9 0 0 1-9 9Z"},null,-1),da=[ua];function fa(e,t,n,a,i,d){return _(),$("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:de(e.cls),style:je(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},da,14,ca)}var St=qe(ra,[["render",fa]]);const ma=Object.assign(St,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+St.name,St)}}),_a=Le({name:"IconRecordStop",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Be("icon"),a=fe(()=>[n,`${n}-record-stop`,{[`${n}-spin`]:e.spin}]),i=fe(()=>{const r={};return e.size&&(r.fontSize=Fe(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:a,innerStyle:i,onClick:r=>{t("click",r)}}}}),va=["stroke-width","stroke-linecap","stroke-linejoin"],pa=s("path",{"clip-rule":"evenodd",d:"M24 6c9.941 0 18 8.059 18 18s-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6Z"},null,-1),ga=s("path",{d:"M19 20a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-8a1 1 0 0 1-1-1v-8Z",fill:"currentColor",stroke:"none"},null,-1),ha=s("path",{d:"M19 20a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-8a1 1 0 0 1-1-1v-8Z"},null,-1),ya=[pa,ga,ha];function ba(e,t,n,a,i,d){return _(),$("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:de(e.cls),style:je(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},ya,14,va)}var $t=qe(_a,[["render",ba]]);const wa=Object.assign($t,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+$t.name,$t)}}),ka=Le({name:"IconCommand",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Be("icon"),a=fe(()=>[n,`${n}-command`,{[`${n}-spin`]:e.spin}]),i=fe(()=>{const r={};return e.size&&(r.fontSize=Fe(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:a,innerStyle:i,onClick:r=>{t("click",r)}}}}),xa=["stroke-width","stroke-linecap","stroke-linejoin"],Ca=s("path",{d:"M29 19v-6a6 6 0 1 1 6 6h-6Zm0 0v10m0-10H19m10 10v6a6 6 0 1 0 6-6h-6Zm0 0H19m0-10v10m0-10v-6a6 6 0 1 0-6 6h6Zm0 10v6a6 6 0 1 1-6-6h6Z"},null,-1),Sa=[Ca];function $a(e,t,n,a,i,d){return _(),$("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:de(e.cls),style:je(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},Sa,14,xa)}var Vt=qe(ka,[["render",$a]]);const ct=Object.assign(Vt,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+Vt.name,Vt)}}),Va=Le({name:"IconNotification",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Be("icon"),a=fe(()=>[n,`${n}-notification`,{[`${n}-spin`]:e.spin}]),i=fe(()=>{const r={};return e.size&&(r.fontSize=Fe(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:a,innerStyle:i,onClick:r=>{t("click",r)}}}}),Ea=["stroke-width","stroke-linecap","stroke-linejoin"],La=s("path",{d:"M24 9c7.18 0 13 5.82 13 13v13H11V22c0-7.18 5.82-13 13-13Zm0 0V4M6 35h36m-25 7h14"},null,-1),Aa=[La];function Ra(e,t,n,a,i,d){return _(),$("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:de(e.cls),style:je(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},Aa,14,Ea)}var Et=qe(Va,[["render",Ra]]);const vn=Object.assign(Et,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+Et.name,Et)}}),za=Le({name:"IconPublic",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Be("icon"),a=fe(()=>[n,`${n}-public`,{[`${n}-spin`]:e.spin}]),i=fe(()=>{const r={};return e.size&&(r.fontSize=Fe(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:a,innerStyle:i,onClick:r=>{t("click",r)}}}}),Ta=["stroke-width","stroke-linecap","stroke-linejoin"],Pa=s("path",{d:"M15 21.5 6.704 19M15 21.5l4.683 5.152a1 1 0 0 1 .25.814L18 40.976l10.918-16.117a1 1 0 0 0-.298-1.409L21.5 19 15 21.5Zm0 0 6.062-6.995a1 1 0 0 0 .138-1.103L18 7.024M42 24c0 9.941-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6s18 8.059 18 18Z"},null,-1),Ia=[Pa];function ja(e,t,n,a,i,d){return _(),$("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:de(e.cls),style:je(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},Ia,14,Ta)}var Lt=qe(za,[["render",ja]]);const Oa=Object.assign(Lt,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+Lt.name,Lt)}}),Ma={class:"qr_fing"},Na={class:"qr_fing"},Ua=s("div",{className:"custom-radio-card-mask"},[s("div",{className:"custom-radio-card-mask-dot"})],-1),Ha={className:"custom-radio-card-title"},Da=Le({__name:"Charge",props:{dialogFormVisible:{type:Boolean,default:!1}},emits:["handleCancels"],setup(e,{emit:t}){const n=e,a=w("first"),i=Cn(),d=U=>{a.value=U},r=fe({get(){return n.dialogFormVisible!=!1&&M(),n.dialogFormVisible},set(U){t("handleCancels",U)}}),u=w(!1),p=w(""),b=w(!1),C=w(!1),h=dt({amount:i.setting.min_recharge?parseInt(i.setting.min_recharge):1,pay_type:i.setting.pay_wechat_open==1?"wechat":"alipay",vip_type:1,kami:""});bs(()=>h.amount,U=>{U<i.setting.min_recharge&&(h.amount=i.setting.min_recharge)});const O=w([]),M=()=>{Ns().then(U=>{O.value=U._rawValue.data,y.value=U._rawValue.data[0].id,v.value=U._rawValue.data[0].pay_amount}).catch(U=>{j.error("获取失败")})},y=w(""),v=w(0),I=U=>{O.value.forEach(x=>{x.id==U&&(y.value=x.id,v.value=x.pay_amount)})},z=()=>{if(h.amount==0){j.error("请输入充值金额");return}b.value=!0,u.value=!0,C.value=!0;const U=/Mobile|Android|iOS/.test(navigator.userAgent);h.pay_type=="alipay"?an({amount:h.amount,type:"charge",is_mobile:U&&i.setting.alipay_wap_open=="1"?1:0}).then(x=>{U&&i.setting.alipay_wap_open=="1"?window.location.href=x._rawValue.pay_url:p.value=x._rawValue.qr_code,b.value=!1,u.value=!1}).catch(x=>{b.value=!1,u.value=!1,C.value=!1,console.log(x.message)}):on({amount:h.amount,type:"charge",is_mobile:U&&i.setting.wechat_wap_open=="1"?1:0}).then(x=>{U&&i.setting.wechat_wap_open=="1"?window.location.href=x._rawValue.pay_url:p.value=x._rawValue.qr_code,b.value=!1,u.value=!1}).catch(x=>{b.value=!1,u.value=!1,C.value=!1,console.log(x.message)})},ie=()=>{if(y.value==""){j.error("请选择VIP套餐");return}b.value=!0,u.value=!0,C.value=!0;const U=/Mobile|Android|iOS/.test(navigator.userAgent);h.pay_type=="alipay"?an({v_id:y.value,amount:v.value,type:"vip",coupon:h.kami,is_mobile:U&&i.setting.alipay_wap_open=="1"?1:0}).then(x=>{U&&i.setting.alipay_wap_open=="1"?window.location.href=x._rawValue.pay_url:p.value=x._rawValue.qr_code,b.value=!1,u.value=!1}).catch(x=>{b.value=!1,u.value=!1,C.value=!1,console.log(x.message)}):h.pay_type=="wechat"?on({v_id:y.value,amount:v.value,type:"vip",coupon:h.kami,is_mobile:U&&i.setting.wechat_wap_open=="1"?1:0}).then(x=>{U&&i.setting.wechat_wap_open=="1"?window.location.href=x._rawValue.pay_url:p.value=x._rawValue.qr_code,b.value=!1,u.value=!1}).catch(x=>{b.value=!1,u.value=!1,C.value=!1,console.log(x.message)}):h.pay_type=="balance"?(u.value=!1,C.value=!1,Us({v_id:y.value,coupon:h.kami}).then(x=>{b.value=!1,j.success(x._rawValue.message)}).catch(x=>{b.value=!1,u.value=!1,C.value=!1,console.log(x.message)})):j.error("请选择支付方式")},me=()=>{a.value=="first"?z():ie()},ve=()=>{r.value=!1};return(U,x)=>{const pe=E("a-spin"),ae=E("a-input-number"),K=E("a-form-item"),oe=E("a-radio"),ge=E("a-radio-group"),Me=E("a-form"),Ce=E("a-tab-pane"),he=E("a-typography-text"),Se=E("a-space"),Je=E("a-input"),Ae=E("a-tabs"),ke=E("a-button"),Re=E("a-modal");return _(),H(Re,{class:"msgbox",visible:g(r),"onUpdate:visible":x[8]||(x[8]=F=>ws(r)?r.value=F:null),title:"充值中心"},{footer:f(()=>[c(Se,{class:"dialog-footer"},{default:f(()=>[c(ke,{type:"primary",onClick:x[6]||(x[6]=F=>me()),loading:b.value},{default:f(()=>[T(" 立即充值 ")]),_:1},8,["loading"]),c(ke,{type:"primary",plain:"",onClick:x[7]||(x[7]=F=>ve())},{default:f(()=>[T(" 完成支付 ")]),_:1})]),_:1})]),default:f(()=>[c(Ae,{modelValue:a.value,"onUpdate:modelValue":x[5]||(x[5]=F=>a.value=F),"default-active-key":"first",class:"demo-tabs",type:"capsule",onTabClick:d},{default:f(()=>[c(Ce,{title:"充值"+g(i).setting.money_name_set,key:"first"},{default:f(()=>[c(pe,{loading:u.value},{default:f(()=>[s("div",Ma,[C.value?(_(),H(dn,{key:0,value:p.value,size:"240",class:"mt-2 mb-2 m-auto d-sm-block"},null,8,["value"])):ne("",!0)])]),_:1},8,["loading"]),c(Me,{model:h},{default:f(()=>[c(K,{label:"充值"},{default:f(()=>[c(ae,{step:.01,modelValue:h.amount,"onUpdate:modelValue":x[0]||(x[0]=F=>h.amount=F),autocomplete:"off",min:g(i).setting.min_recharge,placeholder:"请输入充值金额"},null,8,["modelValue","min"])]),_:1}),c(K,{label:"支付方式"},{default:f(()=>[c(ge,{modelValue:h.pay_type,"onUpdate:modelValue":x[1]||(x[1]=F=>h.pay_type=F)},{default:f(()=>[g(i).setting.pay_wechat_open==1?(_(),H(oe,{key:0,value:"wechat"},{default:f(()=>[T("微信 ")]),_:1})):ne("",!0),g(i).setting.pay_alipay_open==1?(_(),H(oe,{key:1,value:"alipay"},{default:f(()=>[T("支付宝 ")]),_:1})):ne("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"]),c(Ce,{title:"开通VIP",key:"second"},{default:f(()=>[c(pe,{loading:u.value},{default:f(()=>[s("div",Na,[C.value?(_(),H(dn,{key:0,value:p.value,size:"240",class:"mt-2 mb-2 m-auto d-sm-block"},null,8,["value"])):ne("",!0)])]),_:1},8,["loading"]),c(Me,{model:h},{default:f(()=>[c(K,{label:"购买会员"},{default:f(()=>[c(ge,{onChange:I,modelValue:h.vip_type,"onUpdate:modelValue":x[2]||(x[2]=F=>h.vip_type=F)},{default:f(()=>[(_(!0),$(ue,null,_e(O.value,(F,We)=>(_(),H(oe,{key:We,value:F.id},{radio:f(({checked:P})=>[c(Se,{align:"start",class:de(["custom-radio-card",{"custom-radio-card-checked":P}])},{default:f(()=>[Ua,s("div",null,[s("div",Ha,V(F.title),1),c(he,{type:"secondary"},{default:f(()=>[T(" ￥"+V(F.pay_amount),1)]),_:2},1024)])]),_:2},1032,["class"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),c(K,{label:"支付方式"},{default:f(()=>[c(ge,{modelValue:h.pay_type,"onUpdate:modelValue":x[3]||(x[3]=F=>h.pay_type=F)},{default:f(()=>[g(i).setting.pay_wechat_open==1?(_(),H(oe,{key:0,value:"wechat"},{default:f(()=>[T("微信")]),_:1})):ne("",!0),g(i).setting.pay_alipay_open==1?(_(),H(oe,{key:1,value:"alipay"},{default:f(()=>[T("支付宝")]),_:1})):ne("",!0),c(oe,{value:"balance"},{default:f(()=>[T(V(g(i).setting.money_name_set),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),c(K,{label:"优惠卷"},{default:f(()=>[c(Je,{modelValue:h.kami,"onUpdate:modelValue":x[4]||(x[4]=F=>h.kami=F),placeholder:"请输入优惠卷码"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["visible"])}}}),Oe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABHdJREFUeF7tm02IHEUUgL/XVT0r8Qd1DWogi/EHJIhBJKcQQYIg/gQRFBTxN2BEPCaSiwiCgURPQURQ/AORCCEkEggGFGEvigdR1s3BiwF/0BANMbDbVf2ke6eHns1seqa7Z3Fmek+z3VXvvfr61XuvqquF3N+6B3VNa5rW4gI2f31cfremcIunWfz1qJzPxiTpj0fUzIRc4RQzLoO92Dis4H+JOMtn4lMAM4/rVZMy+AxMCuETOSOJ23MZaybhyV8wxnOclxue1ivHdc4XPdQkJsi6x/SaoobjfL8B0HhAMwWaGNAEwXGO8kVja7JAkwWaLNBkgSYLFEXKcb7fZIFhZQGNWesMt0nARpRLy3iRBJx1nh+mAubxnC4jo6jPUDzABewmYFeR8kHui3DQRLw4SJ9+2tYKIIZrY8uP/Sgu3SbgZrvIP6X7L+tYKwAXchhlS07HcZSfUf4tY7AEXIJyowr3d3ZxhXdNxJ4y8nr1qQ1AZLlb4GCmxHsemlJm6zA0CtkuynuZLPU8Gipf1iG7NgBd8z5mv43ZV4eBmYwu+cqr1vNWHfJrAbAgbLEBz6qwPTFK4ZnQ8XkdBnYAtHiYmHfS/2MOeeWjOjysMgBv+VDhvvxg63T/TG4C2RgO5/UIfGocL1UBXRmAs/y53IDVApDotY61/3sAzvA2Adcnhopyygj7iDjVZXjIeq/sVmF9281/s54XLuYBIwGgZ1HUI0gWtes1BUYCQGKktxzInmziAbHwRRhxJO8BSaoLlHvy7fLze6QBVJmjIz8F6hh8ImPREFrP1dJi2jtmMOxMqs6RCIJ1QVguJ6k+Q1etIqwjDc4D08OsA7TFRue5PQBjYA7hJI7OKY8qgCsD8JabVHgzNaK9EKqrDohCtknMHoRNXYMUfsfzcR3ldmUAnVLV8AbCU20Qu6zngypPZvkCqJcsUY4Yz3NV9NQGILLsENi75AjMh46tZQ1LdpN8i7l8f1XOIPwhcGvX9Yorw9oA+BabNOZExzhhNlBexzAXLHBuEBjO8hqws6tPzH6vzC5fDyh8G7rutcggumoDkBY8hr0q7BjEgE7bXHUYWY4JbO4HQNImMGwYFHImu1YA7arvFaXECi0HoNcCixU8INVZYfOldgCJQS5gKwEvA9dBughqFXpFHoDhxAWRvw0gkxMYDghLCydVbgk9fxfq6NFgKADKGJLv42yaVp/sCnYwLzFHO9fau84KP4WOu8rqHCqAZAEziGHZDk8csDkOONZXX6VSyh0qgMjygMD7fQ1kKX8+bz2H2tOo8N1C1XSb6BkqAG+5XEnfE/R1ElWF78KIezNgBVnluHU80TfcFRoOFUCiMw7YoJKmx219GSt8Y6O0ovwrjfBJfeG5Q4Q7IT3M/X0cczKM+aoveQWNhg4g05+Wtr67ilvJNjXME/N12cg+CJhVAzCIUavZtgEwrNfjq/kUq+hqPKDxgOaYXHNMrjkmVyWKjnrfJgtMfBZoPpub9A8nkyA20Z/OplF80j+ezlLZJH4+/x9RrAqhJczDzQAAAABJRU5ErkJggg==",_t=""+new URL("today.816db8ea.svg",import.meta.url).href;var Sn={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */(function(e,t){(function(a,i){e.exports=i()})(ks,function(){return function(){var n={686:function(d,r,u){u.d(r,{default:function(){return We}});var p=u(279),b=u.n(p),C=u(370),h=u.n(C),O=u(817),M=u.n(O);function y(P){try{return document.execCommand(P)}catch{return!1}}var v=function(S){var k=M()(S);return y("cut"),k},I=v;function z(P){var S=document.documentElement.getAttribute("dir")==="rtl",k=document.createElement("textarea");k.style.fontSize="12pt",k.style.border="0",k.style.padding="0",k.style.margin="0",k.style.position="absolute",k.style[S?"right":"left"]="-9999px";var R=window.pageYOffset||document.documentElement.scrollTop;return k.style.top="".concat(R,"px"),k.setAttribute("readonly",""),k.value=P,k}var ie=function(S,k){var R=z(S);k.container.appendChild(R);var L=M()(R);return y("copy"),R.remove(),L},me=function(S){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},R="";return typeof S=="string"?R=ie(S,k):S instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(S==null?void 0:S.type)?R=ie(S.value,k):(R=M()(S),y("copy")),R},ve=me;function U(P){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?U=function(k){return typeof k}:U=function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},U(P)}var x=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},k=S.action,R=k===void 0?"copy":k,L=S.container,A=S.target,Y=S.text;if(R!=="copy"&&R!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(A!==void 0)if(A&&U(A)==="object"&&A.nodeType===1){if(R==="copy"&&A.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(R==="cut"&&(A.hasAttribute("readonly")||A.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(Y)return ve(Y,{container:L});if(A)return R==="cut"?I(A):ve(A,{container:L})},pe=x;function ae(P){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ae=function(k){return typeof k}:ae=function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},ae(P)}function K(P,S){if(!(P instanceof S))throw new TypeError("Cannot call a class as a function")}function oe(P,S){for(var k=0;k<S.length;k++){var R=S[k];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(P,R.key,R)}}function ge(P,S,k){return S&&oe(P.prototype,S),k&&oe(P,k),P}function Me(P,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(S&&S.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),S&&Ce(P,S)}function Ce(P,S){return Ce=Object.setPrototypeOf||function(R,L){return R.__proto__=L,R},Ce(P,S)}function he(P){var S=Ae();return function(){var R=ke(P),L;if(S){var A=ke(this).constructor;L=Reflect.construct(R,arguments,A)}else L=R.apply(this,arguments);return Se(this,L)}}function Se(P,S){return S&&(ae(S)==="object"||typeof S=="function")?S:Je(P)}function Je(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function Ae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ke(P){return ke=Object.setPrototypeOf?Object.getPrototypeOf:function(k){return k.__proto__||Object.getPrototypeOf(k)},ke(P)}function Re(P,S){var k="data-clipboard-".concat(P);if(S.hasAttribute(k))return S.getAttribute(k)}var F=function(P){Me(k,P);var S=he(k);function k(R,L){var A;return K(this,k),A=S.call(this),A.resolveOptions(L),A.listenClick(R),A}return ge(k,[{key:"resolveOptions",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof L.action=="function"?L.action:this.defaultAction,this.target=typeof L.target=="function"?L.target:this.defaultTarget,this.text=typeof L.text=="function"?L.text:this.defaultText,this.container=ae(L.container)==="object"?L.container:document.body}},{key:"listenClick",value:function(L){var A=this;this.listener=h()(L,"click",function(Y){return A.onClick(Y)})}},{key:"onClick",value:function(L){var A=L.delegateTarget||L.currentTarget,Y=this.action(A)||"copy",ze=pe({action:Y,container:this.container,target:this.target(A),text:this.text(A)});this.emit(ze?"success":"error",{action:Y,text:ze,trigger:A,clearSelection:function(){A&&A.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(L){return Re("action",L)}},{key:"defaultTarget",value:function(L){var A=Re("target",L);if(A)return document.querySelector(A)}},{key:"defaultText",value:function(L){return Re("text",L)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(L){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return ve(L,A)}},{key:"cut",value:function(L){return I(L)}},{key:"isSupported",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],A=typeof L=="string"?[L]:L,Y=!!document.queryCommandSupported;return A.forEach(function(ze){Y=Y&&!!document.queryCommandSupported(ze)}),Y}}]),k}(b()),We=F},828:function(d){var r=9;if(typeof Element<"u"&&!Element.prototype.matches){var u=Element.prototype;u.matches=u.matchesSelector||u.mozMatchesSelector||u.msMatchesSelector||u.oMatchesSelector||u.webkitMatchesSelector}function p(b,C){for(;b&&b.nodeType!==r;){if(typeof b.matches=="function"&&b.matches(C))return b;b=b.parentNode}}d.exports=p},438:function(d,r,u){var p=u(828);function b(O,M,y,v,I){var z=h.apply(this,arguments);return O.addEventListener(y,z,I),{destroy:function(){O.removeEventListener(y,z,I)}}}function C(O,M,y,v,I){return typeof O.addEventListener=="function"?b.apply(null,arguments):typeof y=="function"?b.bind(null,document).apply(null,arguments):(typeof O=="string"&&(O=document.querySelectorAll(O)),Array.prototype.map.call(O,function(z){return b(z,M,y,v,I)}))}function h(O,M,y,v){return function(I){I.delegateTarget=p(I.target,M),I.delegateTarget&&v.call(O,I)}}d.exports=C},879:function(d,r){r.node=function(u){return u!==void 0&&u instanceof HTMLElement&&u.nodeType===1},r.nodeList=function(u){var p=Object.prototype.toString.call(u);return u!==void 0&&(p==="[object NodeList]"||p==="[object HTMLCollection]")&&"length"in u&&(u.length===0||r.node(u[0]))},r.string=function(u){return typeof u=="string"||u instanceof String},r.fn=function(u){var p=Object.prototype.toString.call(u);return p==="[object Function]"}},370:function(d,r,u){var p=u(879),b=u(438);function C(y,v,I){if(!y&&!v&&!I)throw new Error("Missing required arguments");if(!p.string(v))throw new TypeError("Second argument must be a String");if(!p.fn(I))throw new TypeError("Third argument must be a Function");if(p.node(y))return h(y,v,I);if(p.nodeList(y))return O(y,v,I);if(p.string(y))return M(y,v,I);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function h(y,v,I){return y.addEventListener(v,I),{destroy:function(){y.removeEventListener(v,I)}}}function O(y,v,I){return Array.prototype.forEach.call(y,function(z){z.addEventListener(v,I)}),{destroy:function(){Array.prototype.forEach.call(y,function(z){z.removeEventListener(v,I)})}}}function M(y,v,I){return b(document.body,y,v,I)}d.exports=C},817:function(d){function r(u){var p;if(u.nodeName==="SELECT")u.focus(),p=u.value;else if(u.nodeName==="INPUT"||u.nodeName==="TEXTAREA"){var b=u.hasAttribute("readonly");b||u.setAttribute("readonly",""),u.select(),u.setSelectionRange(0,u.value.length),b||u.removeAttribute("readonly"),p=u.value}else{u.hasAttribute("contenteditable")&&u.focus();var C=window.getSelection(),h=document.createRange();h.selectNodeContents(u),C.removeAllRanges(),C.addRange(h),p=C.toString()}return p}d.exports=r},279:function(d){function r(){}r.prototype={on:function(u,p,b){var C=this.e||(this.e={});return(C[u]||(C[u]=[])).push({fn:p,ctx:b}),this},once:function(u,p,b){var C=this;function h(){C.off(u,h),p.apply(b,arguments)}return h._=p,this.on(u,h,b)},emit:function(u){var p=[].slice.call(arguments,1),b=((this.e||(this.e={}))[u]||[]).slice(),C=0,h=b.length;for(C;C<h;C++)b[C].fn.apply(b[C].ctx,p);return this},off:function(u,p){var b=this.e||(this.e={}),C=b[u],h=[];if(C&&p)for(var O=0,M=C.length;O<M;O++)C[O].fn!==p&&C[O].fn._!==p&&h.push(C[O]);return h.length?b[u]=h:delete b[u],this}},d.exports=r,d.exports.TinyEmitter=r}},a={};function i(d){if(a[d])return a[d].exports;var r=a[d]={exports:{}};return n[d](r,r.exports,i),r.exports}return function(){i.n=function(d){var r=d&&d.__esModule?function(){return d.default}:function(){return d};return i.d(r,{a:r}),r}}(),function(){i.d=function(d,r){for(var u in r)i.o(r,u)&&!i.o(d,u)&&Object.defineProperty(d,u,{enumerable:!0,get:r[u]})}}(),function(){i.o=function(d,r){return Object.prototype.hasOwnProperty.call(d,r)}}(),i(686)}().default})})(Sn);var qa=Sn.exports;const Ba=xs(qa);var zt={},te={};Object.defineProperty(te,"__esModule",{value:!0});te.trim=te.isObject=te.isNil=te.isNan=te.size=te.isString=te.validateLocale=te.splitSentences=void 0;var Fa=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t.replace(/\.+/g,".|").replace(/\?/g,"?|").replace(/\!/g,"!|").split("|").map(function(n){return Vn(n)}).filter(Boolean)};te.splitSentences=Fa;var Ja=/^(?:(en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang))$|^((?:[a-z]{2,3}(?:(?:-[a-z]{3}){1,3})?)|[a-z]{4}|[a-z]{5,8})(?:-([a-z]{4}))?(?:-([a-z]{2}|\d{3}))?((?:-(?:[\da-z]{5,8}|\d[\da-z]{3}))*)?((?:-[\da-wy-z](?:-[\da-z]{2,8})+)*)?(-x(?:-[\da-z]{1,8})+)?$|^(x(?:-[\da-z]{1,8})+)$/i,Wa=function(t){return typeof t!="string"?!1:Ja.test(t)};te.validateLocale=Wa;var $n=function(t){return typeof t=="string"||t instanceof String};te.isString=$n;var Ga=function(t){return t&&Array.isArray(t)&&t.length?t.length:0};te.size=Ga;var Za=function(t){return typeof t=="number"&&isNaN(t)};te.isNan=Za;var Xa=function(t){return t==null};te.isNil=Xa;var Ya=function(t){return Object.prototype.toString.call(t)==="[object Object]"};te.isObject=Ya;var Vn=function(t){return $n(t)?t.trim():""};te.trim=Vn;Object.defineProperty(zt,"__esModule",{value:!0});var En=zt.default=void 0,Z=te;function Ka(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Qa(e,t,n){return t&&pn(e.prototype,t),n&&pn(e,n),e}var eo=function(){function e(){Ka(this,e),this.browserSupport="speechSynthesis"in window&&"SpeechSynthesisUtterance"in window,this.synthesisVoice=null}return Qa(e,[{key:"init",value:function(){var n=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(i,d){n.browserSupport||d("Your browser does not support Speech Synthesis");var r=(0,Z.isNil)(a.listeners)?{}:a.listeners,u=(0,Z.isNil)(a.splitSentences)?!0:a.splitSentences,p=(0,Z.isNil)(a.lang)?void 0:a.lang,b=(0,Z.isNil)(a.volume)?1:a.volume,C=(0,Z.isNil)(a.rate)?1:a.rate,h=(0,Z.isNil)(a.pitch)?1:a.pitch,O=(0,Z.isNil)(a.voice)?void 0:a.voice;Object.keys(r).forEach(function(M){var y=r[M],v=function(z){y&&y(z)};M!=="onvoiceschanged"&&(speechSynthesis[M]=v)}),n._loadVoices().then(function(M){r.onvoiceschanged&&r.onvoiceschanged(M),!(0,Z.isNil)(p)&&n.setLanguage(p),!(0,Z.isNil)(O)&&n.setVoice(O),!(0,Z.isNil)(b)&&n.setVolume(b),!(0,Z.isNil)(C)&&n.setRate(C),!(0,Z.isNil)(h)&&n.setPitch(h),!(0,Z.isNil)(u)&&n.setSplitSentences(u),i({voices:M,lang:n.lang,voice:n.voice,volume:n.volume,rate:n.rate,pitch:n.pitch,splitSentences:n.splitSentences,browserSupport:n.browserSupport})}).catch(function(M){d(M)})})}},{key:"_fetchVoices",value:function(){return new Promise(function(n,a){setTimeout(function(){var i=speechSynthesis.getVoices();return(0,Z.size)(i)>0?n(i):a("Could not fetch voices")},100)})}},{key:"_loadVoices",value:function(){var n=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10;return this._fetchVoices().catch(function(i){if(a===0)throw i;return n._loadVoices(a-1)})}},{key:"hasBrowserSupport",value:function(){return this.browserSupport}},{key:"setVoice",value:function(n){var a,i=speechSynthesis.getVoices();if((0,Z.isString)(n)&&(a=i.find(function(d){return d.name===n})),(0,Z.isObject)(n)&&(a=n),a)this.synthesisVoice=a;else throw"Error setting voice. The voice you passed is not valid or the voices have not been loaded yet."}},{key:"setLanguage",value:function(n){if(n=n.replace("_","-"),(0,Z.validateLocale)(n))this.lang=n;else throw"Error setting language. Please verify your locale is BCP47 format (http://schneegans.de/lv/?tags=es-FR&format=text)"}},{key:"setVolume",value:function(n){if(n=parseFloat(n),!(0,Z.isNan)(n)&&n>=0&&n<=1)this.volume=n;else throw"Error setting volume. Please verify your volume value is a number between 0 and 1."}},{key:"setRate",value:function(n){if(n=parseFloat(n),!(0,Z.isNan)(n)&&n>=0&&n<=10)this.rate=n;else throw"Error setting rate. Please verify your volume value is a number between 0 and 10."}},{key:"setPitch",value:function(n){if(n=parseFloat(n),!(0,Z.isNan)(n)&&n>=0&&n<=2)this.pitch=n;else throw"Error setting pitch. Please verify your pitch value is a number between 0 and 2."}},{key:"setSplitSentences",value:function(n){this.splitSentences=n}},{key:"speak",value:function(n){var a=this;return new Promise(function(i,d){var r=n.text,u=n.listeners,p=u===void 0?{}:u,b=n.queue,C=b===void 0?!0:b,h=(0,Z.trim)(r);(0,Z.isNil)(h)&&i(),!C&&a.cancel();var O=[],M=a.splitSentences?(0,Z.splitSentences)(h):[h];M.forEach(function(y,v){var I=v===(0,Z.size)(M)-1,z=new SpeechSynthesisUtterance;a.synthesisVoice&&(z.voice=a.synthesisVoice),a.lang&&(z.lang=a.lang),a.volume&&(z.volume=a.volume),a.rate&&(z.rate=a.rate),a.pitch&&(z.pitch=a.pitch),z.text=y,Object.keys(p).forEach(function(ie){var me=p[ie],ve=function(x){me&&me(x),ie==="onerror"&&d({utterances:O,lastUtterance:z,error:x}),ie==="onend"&&I&&i({utterances:O,lastUtterance:z})};z[ie]=ve}),O.push(z),speechSynthesis.speak(z)})})}},{key:"pending",value:function(){return speechSynthesis.pending}},{key:"paused",value:function(){return speechSynthesis.paused}},{key:"speaking",value:function(){return speechSynthesis.speaking}},{key:"pause",value:function(){speechSynthesis.pause()}},{key:"resume",value:function(){speechSynthesis.resume()}},{key:"cancel",value:function(){speechSynthesis.cancel()}}]),e}(),to=eo;En=zt.default=to;function no(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),a=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(a),n.body.appendChild(i),t&&(a.href=t),i.href=e,i.href}const so=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function xe(e){const t=[];for(let n=0,a=e.length;n<a;n++)t.push(e[n]);return t}function ft(e,t){const a=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return a?parseFloat(a.replace("px","")):0}function ao(e){const t=ft(e,"border-left-width"),n=ft(e,"border-right-width");return e.clientWidth+t+n}function oo(e){const t=ft(e,"border-top-width"),n=ft(e,"border-bottom-width");return e.clientHeight+t+n}function Ln(e,t={}){const n=t.width||ao(e),a=t.height||oo(e);return{width:n,height:a}}function lo(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const ce=16384;function io(e){(e.width>ce||e.height>ce)&&(e.width>ce&&e.height>ce?e.width>e.height?(e.height*=ce/e.width,e.width=ce):(e.width*=ce/e.height,e.height=ce):e.width>ce?(e.height*=ce/e.width,e.width=ce):(e.width*=ce/e.height,e.height=ce))}function mt(e){return new Promise((t,n)=>{const a=new Image;a.decode=()=>t(a),a.onload=()=>t(a),a.onerror=n,a.crossOrigin="anonymous",a.decoding="async",a.src=e})}async function ro(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function co(e,t,n){const a="http://www.w3.org/2000/svg",i=document.createElementNS(a,"svg"),d=document.createElementNS(a,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${t} ${n}`),d.setAttribute("width","100%"),d.setAttribute("height","100%"),d.setAttribute("x","0"),d.setAttribute("y","0"),d.setAttribute("externalResourcesRequired","true"),i.appendChild(d),d.appendChild(e),ro(i)}const le=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||le(n,t)};function uo(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function fo(e){return xe(e).map(t=>{const n=e.getPropertyValue(t),a=e.getPropertyPriority(t);return`${t}: ${n}${a?" !important":""};`}).join(" ")}function mo(e,t,n){const a=`.${e}:${t}`,i=n.cssText?uo(n):fo(n);return document.createTextNode(`${a}{${i}}`)}function gn(e,t,n){const a=window.getComputedStyle(e,n),i=a.getPropertyValue("content");if(i===""||i==="none")return;const d=so();try{t.className=`${t.className} ${d}`}catch{return}const r=document.createElement("style");r.appendChild(mo(d,n,a)),t.appendChild(r)}function _o(e,t){gn(e,t,":before"),gn(e,t,":after")}const hn="application/font-woff",yn="image/jpeg",vo={woff:hn,woff2:hn,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:yn,jpeg:yn,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function po(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function Tt(e){const t=po(e).toLowerCase();return vo[t]||""}function go(e){return e.split(/,/)[1]}function Rt(e){return e.search(/^(data:)/)!==-1}function An(e,t){return`data:${t};base64,${e}`}async function Rn(e,t,n){const a=await fetch(e,t);if(a.status===404)throw new Error(`Resource "${a.url}" not found`);const i=await a.blob();return new Promise((d,r)=>{const u=new FileReader;u.onerror=r,u.onloadend=()=>{try{d(n({res:a,result:u.result}))}catch(p){r(p)}},u.readAsDataURL(i)})}const At={};function ho(e,t,n){let a=e.replace(/\?.*/,"");return n&&(a=e),/ttf|otf|eot|woff2?/i.test(a)&&(a=a.replace(/.*\//,"")),t?`[${t}]${a}`:a}async function Pt(e,t,n){const a=ho(e,t,n.includeQueryParams);if(At[a]!=null)return At[a];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{const d=await Rn(e,n.fetchRequestInit,({res:r,result:u})=>(t||(t=r.headers.get("Content-Type")||""),go(u)));i=An(d,t)}catch(d){i=n.imagePlaceholder||"";let r=`Failed to fetch resource: ${e}`;d&&(r=typeof d=="string"?d:d.message),r&&console.warn(r)}return At[a]=i,i}async function yo(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):mt(t)}async function bo(e,t){if(e.currentSrc){const d=document.createElement("canvas"),r=d.getContext("2d");d.width=e.clientWidth,d.height=e.clientHeight,r==null||r.drawImage(e,0,0,d.width,d.height);const u=d.toDataURL();return mt(u)}const n=e.poster,a=Tt(n),i=await Pt(n,a,t);return mt(i)}async function wo(e){var t;try{if(!((t=e==null?void 0:e.contentDocument)===null||t===void 0)&&t.body)return await vt(e.contentDocument.body,{},!0)}catch{}return e.cloneNode(!1)}async function ko(e,t){return le(e,HTMLCanvasElement)?yo(e):le(e,HTMLVideoElement)?bo(e,t):le(e,HTMLIFrameElement)?wo(e):e.cloneNode(!1)}const xo=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT";async function Co(e,t,n){var a,i;let d=[];return xo(e)&&e.assignedNodes?d=xe(e.assignedNodes()):le(e,HTMLIFrameElement)&&(!((a=e.contentDocument)===null||a===void 0)&&a.body)?d=xe(e.contentDocument.body.childNodes):d=xe(((i=e.shadowRoot)!==null&&i!==void 0?i:e).childNodes),d.length===0||le(e,HTMLVideoElement)||await d.reduce((r,u)=>r.then(()=>vt(u,n)).then(p=>{p&&t.appendChild(p)}),Promise.resolve()),t}function So(e,t){const n=t.style;if(!n)return;const a=window.getComputedStyle(e);a.cssText?(n.cssText=a.cssText,n.transformOrigin=a.transformOrigin):xe(a).forEach(i=>{let d=a.getPropertyValue(i);i==="font-size"&&d.endsWith("px")&&(d=`${Math.floor(parseFloat(d.substring(0,d.length-2)))-.1}px`),le(e,HTMLIFrameElement)&&i==="display"&&d==="inline"&&(d="block"),i==="d"&&t.getAttribute("d")&&(d=`path(${t.getAttribute("d")})`),n.setProperty(i,d,a.getPropertyPriority(i))})}function $o(e,t){le(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),le(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function Vo(e,t){if(le(e,HTMLSelectElement)){const n=t,a=Array.from(n.children).find(i=>e.value===i.getAttribute("value"));a&&a.setAttribute("selected","")}}function Eo(e,t){return le(t,Element)&&(So(e,t),_o(e,t),$o(e,t),Vo(e,t)),t}async function Lo(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const a={};for(let d=0;d<n.length;d++){const u=n[d].getAttribute("xlink:href");if(u){const p=e.querySelector(u),b=document.querySelector(u);!p&&b&&!a[u]&&(a[u]=await vt(b,t,!0))}}const i=Object.values(a);if(i.length){const d="http://www.w3.org/1999/xhtml",r=document.createElementNS(d,"svg");r.setAttribute("xmlns",d),r.style.position="absolute",r.style.width="0",r.style.height="0",r.style.overflow="hidden",r.style.display="none";const u=document.createElementNS(d,"defs");r.appendChild(u);for(let p=0;p<i.length;p++)u.appendChild(i[p]);e.appendChild(r)}return e}async function vt(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(a=>ko(a,t)).then(a=>Co(e,a,t)).then(a=>Eo(e,a)).then(a=>Lo(a,t))}const zn=/url\((['"]?)([^'"]+?)\1\)/g,Ao=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Ro=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function zo(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function To(e){const t=[];return e.replace(zn,(n,a,i)=>(t.push(i),n)),t.filter(n=>!Rt(n))}async function Po(e,t,n,a,i){try{const d=n?no(t,n):t,r=Tt(t);let u;if(i){const p=await i(d);u=An(p,r)}else u=await Pt(d,r,a);return e.replace(zo(t),`$1${u}$3`)}catch{}return e}function Io(e,{preferredFontFormat:t}){return t?e.replace(Ro,n=>{for(;;){const[a,,i]=Ao.exec(n)||[];if(!i)return"";if(i===t)return`src: ${a};`}}):e}function Tn(e){return e.search(zn)!==-1}async function Pn(e,t,n){if(!Tn(e))return e;const a=Io(e,n);return To(a).reduce((d,r)=>d.then(u=>Po(u,r,t,n)),Promise.resolve(a))}async function ut(e,t,n){var a;const i=(a=t.style)===null||a===void 0?void 0:a.getPropertyValue(e);if(i){const d=await Pn(i,null,n);return t.style.setProperty(e,d,t.style.getPropertyPriority(e)),!0}return!1}async function jo(e,t){await ut("background",e,t)||await ut("background-image",e,t),await ut("mask",e,t)||await ut("mask-image",e,t)}async function Oo(e,t){const n=le(e,HTMLImageElement);if(!(n&&!Rt(e.src))&&!(le(e,SVGImageElement)&&!Rt(e.href.baseVal)))return;const a=n?e.src:e.href.baseVal,i=await Pt(a,Tt(a),t);await new Promise((d,r)=>{e.onload=d,e.onerror=r;const u=e;u.decode&&(u.decode=d),u.loading==="lazy"&&(u.loading="eager"),n?(e.srcset="",e.src=i):e.href.baseVal=i})}async function Mo(e,t){const a=xe(e.childNodes).map(i=>In(i,t));await Promise.all(a).then(()=>e)}async function In(e,t){le(e,Element)&&(await jo(e,t),await Oo(e,t),await Mo(e,t))}function No(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const a=t.style;return a!=null&&Object.keys(a).forEach(i=>{n[i]=a[i]}),e}const bn={};async function wn(e){let t=bn[e];if(t!=null)return t;const a=await(await fetch(e)).text();return t={url:e,cssText:a},bn[e]=t,t}async function kn(e,t){let n=e.cssText;const a=/url\(["']?([^"')]+)["']?\)/g,d=(n.match(/url\([^)]+\)/g)||[]).map(async r=>{let u=r.replace(a,"$1");return u.startsWith("https://")||(u=new URL(u,e.url).href),Rn(u,t.fetchRequestInit,({result:p})=>(n=n.replace(r,`url(${p})`),[r,p]))});return Promise.all(d).then(()=>n)}function xn(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let a=e.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const p=i.exec(a);if(p===null)break;t.push(p[0])}a=a.replace(i,"");const d=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,r="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",u=new RegExp(r,"gi");for(;;){let p=d.exec(a);if(p===null){if(p=u.exec(a),p===null)break;d.lastIndex=u.lastIndex}else u.lastIndex=d.lastIndex;t.push(p[0])}return t}async function Uo(e,t){const n=[],a=[];return e.forEach(i=>{if("cssRules"in i)try{xe(i.cssRules||[]).forEach((d,r)=>{if(d.type===CSSRule.IMPORT_RULE){let u=r+1;const p=d.href,b=wn(p).then(C=>kn(C,t)).then(C=>xn(C).forEach(h=>{try{i.insertRule(h,h.startsWith("@import")?u+=1:i.cssRules.length)}catch(O){console.error("Error inserting rule from remote css",{rule:h,error:O})}})).catch(C=>{console.error("Error loading remote css",C.toString())});a.push(b)}})}catch(d){const r=e.find(u=>u.href==null)||document.styleSheets[0];i.href!=null&&a.push(wn(i.href).then(u=>kn(u,t)).then(u=>xn(u).forEach(p=>{r.insertRule(p,i.cssRules.length)})).catch(u=>{console.error("Error loading remote stylesheet",u)})),console.error("Error inlining remote css file",d)}}),Promise.all(a).then(()=>(e.forEach(i=>{if("cssRules"in i)try{xe(i.cssRules||[]).forEach(d=>{n.push(d)})}catch(d){console.error(`Error while reading CSS rules from ${i.href}`,d)}}),n))}function Ho(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>Tn(t.style.getPropertyValue("src")))}async function Do(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=xe(e.ownerDocument.styleSheets),a=await Uo(n,t);return Ho(a)}async function qo(e,t){const n=await Do(e,t);return(await Promise.all(n.map(i=>{const d=i.parentStyleSheet?i.parentStyleSheet.href:null;return Pn(i.cssText,d,t)}))).join(`
`)}async function Bo(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await qo(e,t);if(n){const a=document.createElement("style"),i=document.createTextNode(n);a.appendChild(i),e.firstChild?e.insertBefore(a,e.firstChild):e.appendChild(a)}}async function Fo(e,t={}){const{width:n,height:a}=Ln(e,t),i=await vt(e,t,!0);return await Bo(i,t),await In(i,t),No(i,t),await co(i,n,a)}async function jn(e,t={}){const{width:n,height:a}=Ln(e,t),i=await Fo(e,t),d=await mt(i),r=document.createElement("canvas"),u=r.getContext("2d"),p=t.pixelRatio||lo(),b=t.canvasWidth||n,C=t.canvasHeight||a;return r.width=b*p,r.height=C*p,t.skipAutoScale||io(r),r.style.width=`${b}`,r.style.height=`${C}`,t.backgroundColor&&(u.fillStyle=t.backgroundColor,u.fillRect(0,0,r.width,r.height)),u.drawImage(d,0,0,r.width,r.height),r}async function Jo(e,t={}){return(await jn(e,t)).toDataURL()}async function Wo(e,t={}){return(await jn(e,t)).toDataURL("image/jpeg",t.quality||1)}const Go={style:{width:"260px","margin-left":"1px"},class:"flex h-full flex-col bg-[#fafbfc] chat-message-left"},Zo={key:0,class:"chat_list_message p-2 bg-[#fafbfc]"},Xo={class:"all_message mb-2 mt-2"},Yo={class:"chat-list mb-2"},Ko={class:"bot_info"},Qo={class:"hover_action"},el=["onClick"],tl={class:"card-body"},nl={class:"media"},sl={class:"avatar me-3"},al=s("img",{src:Oe,alt:""},null,-1),ol={class:"media-body overflow-hidden"},ll={class:"d-flex align-items-center mb-1"},il={key:0,class:"text-truncate mb-0 me-auto"},rl={key:1,class:"text-truncate mb-0 me-auto"},cl=["innerHTML"],ul={key:0,class:"avatar_preset"},dl={class:"border-t dark:border-t-neutral-800"},fl={class:"p-2 bg-n-6 rounded-xl"},ml={class:"flex items-center px-2.5 py-2.5 pb-4.5"},_l={class:"relative w-10 h-10"},vl=["src"],pl=s("div",{class:"absolute -right-0.75 -bottom-0.75 w-4.5 h-4.5 rounded-full border-4 border-n-6 bg-green-300 top-1 border-green-300"},null,-1),gl={class:"ml-1 mr-2"},hl={class:"base2 font-semibold text-n-1 text-truncate"},yl={class:"caption1 font-semibold text-n-3/50 text-truncate"},bl={class:"shrnik-0 ml-auto self-start px-3 bg-primary-2 rounded-lg caption1 font-bold text-n-7 pack_tag_vip"},wl={class:"nav-wraper"},kl={class:"user-info-box"},xl={class:"user-dis"},Cl=["src"],Sl={class:"nickname flex-wrap ml-1"},$l={class:"shrnik-0 px-3 bg-primary-2 rounded-lg caption1 font-bold text-n-7 pack_tag_vip"},Vl={class:"use-info user-type"},El=s("span",{class:"number"},"问答 ",-1),Ll=s("img",{src:_t,class:"ml-1",alt:""},null,-1),Al={class:"use-info user-type"},Rl=s("span",{class:"number"},"绘画 ",-1),zl=s("img",{src:_t,class:"ml-1",alt:""},null,-1),Tl={class:"use-info"},Pl=s("span",{class:"number"},"额度",-1),Il=s("div",{name:"quit",class:"i-svg quit-icon-blue"},[s("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("g",{id:"Group 1000007605"},[s("rect",{id:"Rectangle 10",x:"15.0001",y:"9.41418",width:"2",height:"6",rx:"1",transform:"rotate(-45 15.0001 9.41418)",fill:"#057cff"}),s("rect",{id:"Rectangle 11",x:"19.2427",y:"10.8284",width:"2",height:"6",rx:"1",transform:"rotate(45 19.2427 10.8284)",fill:"#057cff"}),s("rect",{id:"Rectangle 12",x:"19",y:"11",width:"2",height:"11",rx:"1",transform:"rotate(90 19 11)",fill:"#057cff"}),s("path",{id:"Rectangle 11218",d:"M17 3H7C5.89543 3 5 3.89543 5 5V19C5 20.1046 5.89543 21 7 21H17",stroke:"#057cff","stroke-width":"2","stroke-linecap":"round"})])])],-1),jl={key:1,class:"flex items-center px-2.5 py-2.5 pb-4.5"},Ol={class:"relative w-10 h-10"},Ml=s("div",{class:"absolute -right-0.75 -bottom-0.75 w-4.5 h-4.5 rounded-full border-4 border-n-6 bg-green-300 top-1 border-green-300"},null,-1),Nl=s("div",{class:"ml-1 mr-2"},[s("div",{class:"base2 font-semibold text-n-1 text-truncate"},"请先登录")],-1),Ul={class:"shrnik-0 ml-auto self-start px-3 bg-primary-2 rounded-lg caption1 font-bold text-n-7 pack_tag_vip"},Hl={key:0},Dl={key:1},ql={class:"main"},Bl={class:"chat-body"},Fl={class:"chat-header border-bottom md:py-3 sm:py-3 py-2"},Jl={class:"container-xxl"},Wl={class:"row align-items-center"},Gl={class:"col-6 col-xl-4 d-flex"},Zl={class:"media align-items-center"},Xl={key:0,class:"show-user-detail"},Yl=s("img",{src:Oe,alt:"avatar",class:"rounded-full w-100"},null,-1),Kl={key:1,class:"show-user-detail"},Ql=["src"],ei={key:1,src:Oe,alt:"avatar",class:"rounded-full w-100"},ti={class:"media-body overflow-hidden"},ni={class:"d-flex align-items-center mb-1"},si={key:0,class:"text-truncate mb-0 me-auto"},ai={key:1,class:"mobile_width_5rem text-truncate mb-0 me-auto w-40"},oi={class:"text-truncate"},li={class:"col-6 col-xl-8 text-end"},ii={class:"nav justify-content-end align-items-center mobile_show"},ri={class:"nav-item list-inline-item d-md-block me-2"},ci={class:"css-htwhyh nav-link text-muted","data-toggle":"pill",href:"javascript:;"},ui={class:"nav justify-content-end align-items-center mobile_none"},di={class:"nav-item list-inline-item d-md-block me-2"},fi={key:0,class:"nav-item list-inline-item d-md-block me-2"},mi={class:"nav-item list-inline-item d-md-block me-2"},_i={class:"nav-item list-inline-item d-md-block me-2"},vi={class:"chat-content"},pi={class:"flex flex-column"},gi={key:0,class:"m-auto rounded-md p-4"},hi={class:"mb-6 rounded px-4 py-2 text-center text-3xl font-bold"},yi={class:"w-full md:min-w-[450px]"},bi={class:"wrap_portal"},wi=["onClick"],ki={class:"card_b__top"},xi={class:"card_b__bottom"},Ci={class:"line-clamp-2"},Si={class:"line-clamp-5"},$i={key:0,class:"container-xxl"},Vi={class:"list-unstyled pt-5"},Ei={class:"d-flex message right"},Li={class:"message-body"},Ai={class:"date-time text-muted"},Ri={class:"message-row d-flex align-items-center justify-content-end"},zi=["innerHTML"],Ti={class:"d-flex message"},Pi={class:"mr-lg-3 me-2"},Ii=["src"],ji={key:1,src:Oe,alt:"avatar",class:"rounded-full w-100"},Oi={class:"message-body"},Mi={class:"date-time text-muted"},Ni={class:"message-row relative d-flex flex-column align-items-start"},Ui=["innerHTML"],Hi={class:"message_content_footer"},Di=["onClick"],qi={class:"ant_hide"},Bi=["onClick"],Fi=s("span",{class:"ant_hide"},"重新生成",-1),Ji=["onClick"],Wi=s("span",{class:"ant_hide"},"复制答案",-1),Gi=["onClick"],Zi=s("span",{class:"ant_hide"},"导出Word",-1),Xi=["onClick"],Yi=s("span",{class:"ant_hide"},"导出PDF",-1),Ki={class:"speak btn z-10 new_ant_btn h-30"},Qi=s("span",{class:"ant_hide"},"删除",-1),er={class:"chat-footer border-top py-xl-2 py-lg-2 py-2"},tr={class:"container-xxl"},nr={class:"row"},sr={class:"col-12"},ar={key:1},or=s("br",null,null,-1),lr={class:"dialog-footer"},ir=s("h6",{class:"mb-3"},"模型选择",-1),rr={class:"normal_setting"},cr={class:"flex items-center justify-between"},ur=s("div",{class:"w-[150px]"},[s("p",null,"上下文数量")],-1),dr={class:"flex w-[200px] items-center"},fr=s("p",{class:"mt-2 text-xs text-slate-500"},"更多的上下文会使问答有联动性，能够结合上下精准回答",-1),mr={class:"flex items-center justify-between mt-4"},_r=s("div",{class:"w-[150px]"},[s("p",null,"话题精准度")],-1),vr={class:"flex w-[200px] items-center"},pr=s("p",{class:"mt-2 text-xs text-slate-500"},"正常数值0.8,数值越高每次回答内容更随机",-1),gr={class:"mb-3 flex align-items-center justify-content-between"},hr={class:"dialog-footer"},yr={key:0,class:"chat_list_message p-2 bg-[#fafbfc]"},br={class:"all_message mb-2 mt-2"},wr={class:"chat-list mb-2"},kr={class:"bot_info"},xr={class:"hover_action"},Cr=["onClick"],Sr={class:"card-body"},$r={class:"media"},Vr={class:"avatar me-3"},Er=s("img",{src:Oe,alt:""},null,-1),Lr={class:"media-body overflow-hidden"},Ar={class:"d-flex align-items-center mb-1"},Rr={key:0,class:"text-truncate mb-0 me-auto"},zr={key:1,class:"text-truncate mb-0 me-auto"},Tr=["innerHTML"],Pr={class:"mb-3 dark:border-t-neutral-800"},Ir={class:"p-2 bg-n-6 rounded-xl"},jr={class:"flex items-center px-2.5 py-2.5 pb-4.5"},Or={class:"relative w-10 h-10"},Mr=["src"],Nr=s("div",{class:"absolute -right-0.75 -bottom-0.75 w-4.5 h-4.5 rounded-full border-4 border-n-6 bg-green-300 top-1 border-green-300"},null,-1),Ur={class:"ml-1 mr-2"},Hr={class:"base2 font-semibold text-n-1 text-truncate"},Dr={class:"caption1 font-semibold text-n-3/50 text-truncate"},qr={class:"shrnik-0 ml-auto self-start px-3 bg-primary-2 rounded-lg caption1 font-bold text-n-7 pack_tag_vip"},Br={class:"nav-wraper"},Fr={class:"user-info-box"},Jr={class:"user-dis"},Wr=["src"],Gr={class:"nickname flex-wrap ml-1"},Zr={class:"shrnik-0 px-3 bg-primary-2 rounded-lg caption1 font-bold text-n-7 pack_tag_vip"},Xr={class:"use-info user-type"},Yr=s("span",{class:"number"},"问答 ",-1),Kr=s("img",{src:_t,class:"ml-1",alt:""},null,-1),Qr={class:"use-info user-type"},ec=s("span",{class:"number"},"绘画 ",-1),tc=s("img",{src:_t,class:"ml-1",alt:""},null,-1),nc={class:"use-info"},sc=s("span",{class:"number"},"额度",-1),ac=s("div",{name:"quit",class:"i-svg quit-icon-blue"},[s("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("g",{id:"Group 1000007605"},[s("rect",{id:"Rectangle 10",x:"15.0001",y:"9.41418",width:"2",height:"6",rx:"1",transform:"rotate(-45 15.0001 9.41418)",fill:"#057cff"}),s("rect",{id:"Rectangle 11",x:"19.2427",y:"10.8284",width:"2",height:"6",rx:"1",transform:"rotate(45 19.2427 10.8284)",fill:"#057cff"}),s("rect",{id:"Rectangle 12",x:"19",y:"11",width:"2",height:"11",rx:"1",transform:"rotate(90 19 11)",fill:"#057cff"}),s("path",{id:"Rectangle 11218",d:"M17 3H7C5.89543 3 5 3.89543 5 5V19C5 20.1046 5.89543 21 7 21H17",stroke:"#057cff","stroke-width":"2","stroke-linecap":"round"})])])],-1),oc={key:1,class:"flex items-center px-2.5 py-2.5 pb-4.5"},lc={class:"relative w-10 h-10"},ic=s("div",{class:"absolute -right-0.75 -bottom-0.75 w-4.5 h-4.5 rounded-full border-4 border-n-6 bg-green-300 top-1 border-green-300"},null,-1),rc=s("div",{class:"ml-1 mr-2"},[s("div",{class:"base2 font-semibold text-n-1 text-truncate"},"登录")],-1),cc={class:"shrnik-0 ml-auto self-start px-3 bg-primary-2 rounded-lg caption1 font-bold text-n-7 pack_tag_vip"},uc={key:0},dc={key:1},fc=["innerHTML"],mc={class:"export_message"},_c={class:"flex justify-content-center"},vc={class:"main all_message_export"},pc={class:"chat-body bg-white border mt-2 h-full"},gc={class:"chat-content overflow-visible"},hc={style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},yc={style:{display:"flex",alignItems:"center",color:"#1D2129"}},bc=s("img",{src:Oe,alt:"",class:"mr-2 w-12"},null,-1),wc={class:"flex flex-column"},kc={key:0,class:"container-xxl"},xc={class:"list-unstyled pt-5"},Cc={class:"d-flex message right"},Sc={class:"message-body"},$c={class:"date-time text-muted"},Vc={class:"message-row d-flex align-items-center justify-content-end"},Ec=["innerHTML"],Lc={class:"d-flex message"},Ac={class:"mr-lg-3 me-2"},Rc=s("img",{src:Oe,alt:"avatar",class:"rounded-full w-100"},null,-1),zc={class:"message-body"},Tc={class:"date-time text-muted"},Pc={class:"message-row relative d-flex flex-column align-items-start"},Ic=["innerHTML"],Yc=Le({__name:"index",setup(e){const t=w(!1),n=Cn(),a=m=>fn({linkify:!0,highlight:(o,J)=>{if(J&&mn.getLanguage(J))try{return`<pre class="hljs"><span ref="preCopy" class="pre_copy">Copy</span><code>${mn.highlight(o,{language:J,ignoreIllegals:!0}).value}</code></pre>`}catch{}return`<pre class="hljs"><span ref="preCopy" class="pre_copy">Copy</span><code>${fn().utils.escapeHtml(o)}</code></pre>`},breaks:!0}).use(Ks).render(m);Cs({title:n.setting.title,meta:[{name:"description",content:n.setting.description},{name:"keywords",content:n.setting.keywords}]});const i=w(!1),d=()=>{i.value=!0},r=w(!1),u=()=>{i.value=!1},p=w(!1),b=()=>{p.value=!0},C=()=>{p.value=!1},h=kt("token"),O=Ss(),M=w([]),y=w(0),v=w([]),I=w(!1),z=w(!1),ie=w(!1),me=w([]),ve=w({}),U=w(!1),x=w(1),pe=w(8),ae=w(0),K=w(!1),oe=w(3),ge=w(.8),Me=m=>{Bs({content:m}).then(o=>{const J=new Blob([o._rawValue],{type:"application/pdf"});saveAs(J,"example.pdf")})},Ce=m=>{ea(m).then(o=>{Qs.saveAs(o,"answer.docx")})};$s(async()=>{await Vs(),Re()});const he=w(),Se=w([]),Je=()=>{Xs().then(m=>{Se.value=m._rawValue.data})},Ae=()=>{U.value=!0,Je()},ke=m=>{Fs({avatar_preset_id:m,session_id:y.value}).then(o=>{U.value=!1,j.success("头像修改成功"),L()})},Re=()=>{he.value=new En,he.value.setLanguage("zh-CN"),he.value.init().then(()=>{})},F=w(!1),We=m=>{he.value.cancel(),F.value=!0,he.value.speak({text:m,listeners:{onend:()=>{he.value.cancel()}}}).then(()=>{F.value=!1,j.success("语音播放完成")})},P=()=>{he.value.cancel(),F.value=!1};(()=>{{const m=new Ba(".pre_copy",{target:o=>o.nextElementSibling});m.on("success",o=>{o.trigger.innerText==="Copy"&&(o.trigger.innerText="Copied",j.success("复制成功"),setTimeout(()=>{o.trigger.innerText="Copy"},1e3))}),m.on("error",o=>{j.error("复制失败")})}})();const k=w(0),R=w(0),L=()=>{K.value=!0,ie.value=!0,ln({page:x,limit:pe}).then(m=>{M.value=m._rawValue.data,ve.value=m._rawValue.m_last,ae.value=m._rawValue.count,On.value=m._rawValue.max_session,K.value=!1,ie.value=!1}).catch(m=>{ie.value=!1,K.value=!1,console.log(m+"err")})},A=w({}),Y=w(""),ze=m=>{let o=document.querySelector(".all_message_export");m=="PNG"?Jo(o,{cacheBust:!1,useCorsEverywhereProxy:!0}).then(function(J){const N=document.createElement("a");N.href=J,N.download="message.png",N.click()}).catch(function(J){console.error("oops, something went wrong!",J)}):Wo(o).then(function(J){const N=document.createElement("a");N.download="message.jpeg",N.href=J,N.click()}).catch(function(J){console.error("oops, something went wrong!",J)})},at=w(0),pt=w(0),It=()=>{Hs().then(m=>{k.value=m._rawValue.last_msg,R.value=m._rawValue.last_draw,at.value=m._rawValue.total_msg,pt.value=m._rawValue.total_draw,A.value=m._rawValue.user_info,Y.value=m._rawValue.vip_level}).catch(m=>{console.log(m)})},jt=()=>{h.value="",O.go(0)};h.value&&(L(),It());const On=w(0),Ne=w(1),Ge=w(4),Ot=w(!0),Mt=w([]),Ue=w(),Nt=w([]);(()=>{rn({page:Ne,limit:Ge}).then(m=>{me.value=m._rawValue.data,Nt.value=m._rawValue.p_data,De.value=m._rawValue.count,Mt.value=m._rawValue.model,Ue.value=m._rawValue.model[0].model}).catch(m=>{console.log(m)})})();const Ut=m=>{K.value=!0,Ee.value?cn({search:Ee.value,page:m,limit:pe.value}).then(o=>{x.value=m,M.value=o._rawValue.data,ae.value=o._rawValue.count,K.value=!1,j.success("搜索完成")}).catch(o=>{j.error(o.message),K.value=!1}):ln({page:m,limit:pe}).then(o=>{x.value=m,M.value=o._rawValue.data,ae.value=o._rawValue.count,K.value=!1}).catch(o=>{K.value=!1,console.log(o)})},Mn=m=>{Js({id:m}).then(o=>{j.success("删除成功"),v.value.length==1?(y.value=0,be(y.value),L()):(be(y.value),L())}).catch(o=>{j.error(o.message)})},He=w(!1),Nn=m=>{He.value=!0,Ot.value&&(Ye.value?(Ne.value=m,un({search:Ye.value,page:m,limit:Ge.value}).then(o=>{Ne.value=m,me.value=o._rawValue.data,De.value=o._rawValue.count,j.success("搜索完成"),He.value=!1}).catch(o=>{j.error(o.message),He.value=!1})):rn({page:m,limit:Ge}).then(o=>{Ne.value=m,me.value=o._rawValue.data,De.value=o._rawValue.count,He.value=!1}).catch(o=>{console.log(o),He.value=!1}),Ot.value=!0)},be=m=>{y.value=m,I.value=!0,Ws({session_id:m}).then(o=>{v.value=o._rawValue.data,I.value=!1,$e()}).catch(o=>{I.value=!1})},gt=w([]),Un=w(!0);(()=>{Ds().then(m=>{gt.value=m._rawValue.data,Un.value=!1}).catch(m=>{console.log(m)})})();const Ht=kt("is_read",{maxAge:60*60*24}),Ze=w(!(Ht.value=="on"||n.setting.notice_open!="1")),Hn=()=>{Ze.value=!1,Ht.value="on"},$e=()=>{setTimeout(()=>{let m=document.getElementsByClassName("chat-content")[0];m.style.transition="500ms",m.scrollTo({top:m.scrollHeight,behavior:"smooth"})},100)},Q=dt({message_input:""});dt({message_input:[{required:!0,message:"请输入内容",trigger:"blur"}]});const{public:{baseUrl:Dt}}=js(),qt={Authorization:`Bearer ${h.value}`,Accept:"text/event-stream"},we=w(!0),Ve=w(),Te=w("start"),Dn=w(),qn=()=>{Te.value="end",we.value=!0,z.value=!1,Q.message_input=""},Bn=m=>{Q.message_input=m,h.value?ht():bt()},ht=async()=>{var m;if(Q.message_input=="")return j.warning("请输入内容"),!1;if(event.shiftKey)return Q.message_input+=`
`,!1;if(!h.value)return j.warning("请先登录"),d(),!1;if(z.value=!0,v.value.push({session_id:y.value,question:Q.message_input,message:"思考中..."}),$e(),Qe.value)Gs({session_id:y.value,prompt:Q.message_input}).then(o=>{v.value[v.value.length-1].message=o._rawValue.data,$e(),Q.message_input="",z.value=!1,y.value==0&&(L(),setTimeout(()=>{y.value==0&&(y.value=ve.value.session_id),be(y.value)},2e3))}).catch(o=>{v.value[v.value.length-1].message="联网错误",$e(),z.value=!1});else{const o=await fetch(`${Dt}api/send_bot`,{method:"POST",headers:qt,body:JSON.stringify({info:Q.message_input,session_id:y.value,scene_preset:Ie.domains,model_is_select:Ue.value,answer_num:oe.value,answer_tem:ge.value})});if(Te.value="start",o&&(v.value[v.value.length-1].message=""),o.status==500)return z.value=!1,j.error("服务器错误"),!1;if(o.status==401)return z.value=!1,j.error("请先登录"),!1;if(o.status==402)return z.value=!1,v.value[v.value.length-1].message="发送次数已达上限或余额不足",j.error("发送次数已达上限或余额不足"),!1;if(o.status==403)return z.value=!1,v.value[v.value.length-1].message="禁止发送违禁词",j.error("禁止发送违禁词"),!1;let J=!1;const N=(m=o.body)==null?void 0:m.getReader(),se=({value:G})=>{let q=new TextDecoder().decode(G).split(`

`).map(B=>B.replace(/\n/g,"")),D=[];for(let B=0;B<q.length;B++){if(we.value=!1,q[B].slice(-2)=="]}"&&q[B].startsWith("data:"))D.push(JSON.parse(q[B].replace("data:","")));else if(q[B].startsWith("data:")&&q[B].slice(-2)!="]}")Ve.value=q[B].replace("data:","");else if(q[B].slice(-2)=="]}"&&q[B].startsWith("data:")==!1){let et=Ve.value+=q[B];D.push(JSON.parse(et.replace("data:",""))),Ve.value=""}else q[B].includes('"error"')&&(v.value[v.value.length-1].message=JSON.parse(q[B]).error.message),Ve.value="";if(q[B].includes("reply_content:")&&(J=!0),J){let tt=q[B].substring(14);for(let ye=0;ye<tt.length;ye++)setTimeout(()=>{v.value[v.value.length-1].message+=tt.charAt(ye),$e()},1e3)}}for(let B=0;B<D.length;B++)setTimeout(()=>{D[B].choices[0].delta.content&&(v.value[v.value.length-1].message+=D[B].choices[0].delta.content),$e()},100)},re=async()=>{const G=await(N==null?void 0:N.read());if(Te.value=="end")return console.log("end"),Te.value="start",N==null||N.cancel(),!1;G!=null&&G.done?(console.log("done"),we.value=!0,It(),z.value=!1,Q.message_input="",y.value==0&&(L(),setTimeout(()=>{y.value==0&&(y.value=ve.value.session_id),be(y.value)},2e3))):(z.value=!0,we.value=!1,se(G),await re())};await re()}},yt=kt("message");n.setting.no_login_aiqs=="1"&&!h.value&&yt.value&&(v.value=yt.value);const bt=async()=>{var se;if(Q.message_input=="")return j.warning("请输入内容"),!1;if(event.shiftKey)return Q.message_input+=`
`,!1;z.value=!0,v.value.push({session_id:y.value,question:Q.message_input,message:"思考中..."}),$e();const m=await fetch(`${Dt}api/no_send_bot`,{method:"POST",headers:qt,body:JSON.stringify({info:Q.message_input,session_id:y.value,model_select:Ue.value,scene_preset:Ie.domains,answer_tem:ge.value})});if(Te.value="start",m&&(v.value[v.value.length-1].message=""),m.status==500)return z.value=!1,j.error("服务器错误"),!1;if(m.status==402)return z.value=!1,v.value[v.value.length-1].message="未登录用户提问达到上限,,请登录继续免费使用",j.error("未登录用户提问达到上限,请登录继续免费使用"),!1;if(m.status==403)return z.value=!1,v.value[v.value.length-1].message="禁止发送违禁词",j.error("禁止发送违禁词"),!1;const o=(se=m.body)==null?void 0:se.getReader(),J=({value:re})=>{let ee=new TextDecoder().decode(re).split(`

`).map(D=>D.replace(/\n/g,"")),q=[];for(let D=0;D<ee.length;D++)if(we.value=!1,ee[D].slice(-2)=="]}"&&ee[D].startsWith("data:"))q.push(JSON.parse(ee[D].replace("data:","")));else if(ee[D].startsWith("data:")&&ee[D].slice(-2)!="]}")Ve.value=ee[D].replace("data:","");else if(ee[D].slice(-2)=="]}"&&ee[D].startsWith("data:")==!1){let B=Ve.value+=ee[D];q.push(JSON.parse(B.replace("data:",""))),Ve.value=""}else ee[D].includes('"error"')&&(v.value[v.value.length-1].message=JSON.parse(ee[D]).error.message),Ve.value="";for(let D=0;D<q.length;D++)setTimeout(()=>{q[D].choices[0].delta.content&&(v.value[v.value.length-1].message+=q[D].choices[0].delta.content),$e()},100)},N=async()=>{const re=await(o==null?void 0:o.read());if(Te.value=="end")return console.log("end"),Te.value="start",o==null||o.cancel(),!1;re!=null&&re.done?(console.log("done"),we.value=!0,z.value=!1,Q.message_input="",yt.value=v.value):(z.value=!0,we.value=!1,J(re),await N())};await N()},Ee=w(""),ot=()=>{if(!Ee.value){j.warning("请输入内容");return}cn({search:Ee.value,page:x.value,limit:pe.value}).then(m=>{M.value=m._rawValue.data,ae.value=m._rawValue.count,j.success("搜索完成")}).catch(m=>{j.error(m.message)})},Bt=m=>{Zs({session_id:m}).then(o=>{j.success(o._rawValue.message),L(),y.value=0,v.value=[]}).catch(o=>{console.log(o)})},Fn=m=>{const o=document.createElement("input");o.setAttribute("readonly","readonly"),o.setAttribute("value",m.replace(/&nbsp;/g," ")),document.body.appendChild(o),o.select(),document.execCommand("copy")&&(document.execCommand("copy"),j.success("复制成功")),document.body.removeChild(o)};w();const Ft=w(),wt=w(!1);w("ltr");const Jn=()=>{wt.value=!0},Xe=w(!1),Ye=w(""),De=w(0),Jt=()=>{un({search:Ye.value,page:Ne.value,limit:Ge.value}).then(m=>{me.value=m._rawValue.data,De.value=m._rawValue.count,j.success("搜索完成")}).catch(m=>{j.error(m.message)})},Wt=m=>{Q.message_input=m,Xe.value=!1},Gt=m=>{Ke.value=!0,y.value=m},Ke=w(!1),Pe=w(""),Zt=()=>{if(!Pe.value)return j.warning("请输入内容"),!0;Wn(y.value,Pe.value),Pe.value=""},Wn=(m,o)=>{qs({session_id:m,session_name:o}).then(J=>{j.success(J._rawValue.message),L()}).catch(J=>{j.error(J.message)})},Qe=w(!1),Gn=()=>{Qe.value=!Qe.value;const m=Qe.value?"开启":"关闭";j.success("联网功能"+m+"成功")};w();const Ie=dt({domains:[{key:1,value:"",sel:"system"}]}),Zn=[{value:"system",label:"system"},{value:"user",label:"user"},{value:"assistant",label:"assistant"}],Xn=m=>{const o=Ie.domains.indexOf(m);o!==-1&&Ie.domains.splice(o,1)},Yn=()=>{Ie.domains.push({key:Date.now(),value:"",sel:"system"})};return(m,o)=>{const J=E("a-input-search"),N=E("a-button"),se=E("a-space"),re=E("a-popconfirm"),G=E("a-avatar"),ee=E("a-empty"),q=E("a-modal"),D=E("a-pagination"),B=E("a-spin"),et=E("a-input"),tt=E("a-trigger"),ye=E("a-tag"),Xt=Es,lt=E("a-doption"),Kn=E("a-dropdown"),it=E("a-tooltip"),Qn=E("a-col"),es=E("a-row"),Yt=E("a-textarea"),Kt=E("a-form-item"),Qt=E("a-form"),ts=E("a-skeleton-line"),ns=E("a-skeleton"),en=E("a-typography-text"),ss=E("a-timeline-item"),as=E("a-timeline"),os=E("a-option"),ls=E("a-select"),is=E("a-radio"),rs=E("a-radio-group"),cs=E("icon-face-smile-fill"),us=E("icon-face-frown-fill"),tn=E("a-slider"),ds=E("a-collapse-item"),fs=E("a-collapse"),ms=E("a-list-item-meta"),_s=E("a-list-item"),vs=E("a-list"),ps=E("a-drawer"),gs=Os,hs=Da,ys=E("a-card");return _(),$(ue,null,[s("div",Go,[c(se,{class:"p-2 bg-white"},{default:f(()=>[c(J,{modelValue:Ee.value,"onUpdate:modelValue":o[0]||(o[0]=l=>Ee.value=l),onSearch:ot,onKeydown:xt(ot,["enter","native"]),placeholder:"搜索..."},null,8,["modelValue","onKeydown"]),c(N,{type:"primary",onClick:o[1]||(o[1]=l=>be(0))},{default:f(()=>[c(g(nn))]),_:1})]),_:1}),c(B,{class:"overflow-auto h-full",loading:K.value,tip:"Loading.."},{default:f(()=>[M.value.length>0?(_(),$("div",Zo,[s("p",Xo,[s("span",{onClick:o[2]||(o[2]=l=>L()),class:"py-0 border-0 text-muted",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[c(g(nt),{class:"fs-6 align-text-bottom"})]),T(" 全部消息")]),s("ul",Yo,[s("div",Ko,[(_(!0),$(ue,null,_e(M.value,(l,X)=>(_(),$("li",{class:de(["online list-animation-bottomIn",[y.value==l[l.length-1].session_id?"active":"","delay-"+X]]),key:X},[s("div",Qo,[c(se,null,{default:f(()=>[c(g(sn),{onClick:W=>Gt(l[l.length-1].session_id)},null,8,["onClick"]),c(re,{content:"此操作将永久删除当前会话,确定要删除吗?",onOk:W=>Bt(l[l.length-1].session_id),type:"warning"},{default:f(()=>[c(g(rt))]),_:2},1032,["onOk"])]),_:2},1024)]),s("div",{class:"card mb-2",onClick:W=>be(l[l.length-1].session_id)},[s("div",tl,[s("div",nl,[s("div",sl,[l[l.length-1].icon?(_(),H(G,{key:0,onClick:o[3]||(o[3]=W=>Ae()),shape:"square",imageUrl:l[l.length-1].icon},null,8,["imageUrl"])):(_(),H(G,{key:1,onClick:o[4]||(o[4]=W=>Ae())},{default:f(()=>[al]),_:1}))]),s("div",ol,[s("div",ll,[l[l.length-1].message_b?(_(),$("h6",il,V(l[l.length-1].message_b),1)):(_(),$("h6",rl,V(l[l.length-1].question),1))]),s("div",{class:"text-truncate h-20",innerHTML:l[l.length-1].message.replace(/\n/g,"<br />")},null,8,cl)])])])],8,el)],2))),128))])]),c(q,{visible:U.value,"onUpdate:visible":o[5]||(o[5]=l=>U.value=l),title:"头像预设",footer:!1},{default:f(()=>[Se.value.length>0?(_(),$("div",ul,[c(se,{class:"flex-wrap justify-between"},{default:f(()=>[(_(!0),$(ue,null,_e(Se.value,(l,X)=>(_(),H(G,{class:"cursor-pointer",size:64,imageUrl:l.avatar,width:"200",onClick:W=>ke(l.id)},null,8,["imageUrl","onClick"]))),256))]),_:1})])):(_(),H(ee,{key:1}))]),_:1},8,["visible"])])):(_(),H(ee,{key:1,class:"message_empty"})),c(D,{size:"small",total:ae.value,current:x.value,"page-size":pe.value,class:"justify-content-center mb-2",background:"",simple:"",onChange:Ut,"hide-on-single-page":!0},null,8,["total","current","page-size"])]),_:1},8,["loading"]),c(q,{visible:Ke.value,"onUpdate:visible":o[7]||(o[7]=l=>Ke.value=l),title:"修改备注",onOk:Zt},{default:f(()=>[c(et,{modelValue:Pe.value,"onUpdate:modelValue":o[6]||(o[6]=l=>Pe.value=l)},null,8,["modelValue"])]),_:1},8,["visible"]),c(Xt,null,{default:f(()=>[s("div",dl,[s("div",fl,[g(h)?(_(),H(tt,{key:0,trigger:["click","hover","focus"]},{content:f(()=>[s("div",wl,[s("div",kl,[s("div",xl,[c(G,null,{default:f(()=>[s("img",{src:A.value.avatar,alt:"avatar",class:"rounded-full w-10 h-10"},null,8,Cl)]),_:1}),s("span",Sl,[s("span",null,V(A.value.name),1),s("div",$l,V(Y.value),1)])]),s("div",Vl,[El,s("span",null,V(k.value)+"/"+V(at.value)+"次 ",1),Ll]),s("div",Al,[Rl,s("span",null,V(R.value)+"/"+V(pt.value)+"次 ",1),zl]),s("div",Tl,[Pl,s("span",null,V(A.value.money),1)]),s("div",{class:"quit",onClick:o[8]||(o[8]=l=>jt())},[Il,T(" 退出登录 ")])])])]),default:f(()=>[s("div",ml,[s("div",_l,[c(G,null,{default:f(()=>[s("img",{src:A.value.avatar,alt:"avatar",class:"rounded-full w-10 h-10"},null,8,vl)]),_:1}),pl]),s("div",gl,[s("div",hl,V(A.value.name),1),s("div",yl,"额度:"+V(A.value.money),1)]),s("div",bl,V(Y.value),1)])]),_:1})):(_(),$("div",jl,[s("div",Ol,[c(G,{style:{backgroundColor:"#3370ff"}},{default:f(()=>[c(g(_n))]),_:1}),Ml]),Nl,s("div",Ul,V(Y.value),1)])),g(h)?(_(),H(N,{key:3,class:"w-full",onClick:o[10]||(o[10]=l=>b())},{default:f(()=>[g(n).setting.show_limit_front=="1"?(_(),$("div",Hl,[T(" VIP剩余 "),c(ye,{color:"arcoblue",class:"ml-1 mr-1"},{default:f(()=>[T(V(k.value),1)]),_:1}),T("次问答 ")])):(_(),$("div",Dl))]),_:1})):(_(),H(N,{key:2,onClick:o[9]||(o[9]=l=>d()),class:"w-full"},{default:f(()=>[T(" 用户登录 ")]),_:1}))])])]),_:1})]),s("div",ql,[c(B,{loading:I.value,tip:"记录加载loading.."},{default:f(()=>[s("div",Bl,[s("div",Fl,[s("div",Jl,[s("div",Wl,[s("div",Gl,[s("button",{onClick:o[11]||(o[11]=l=>Jn()),class:"btn sidebar-toggle-btn"},[c(g(Ls),{size:"24"})]),s("div",Zl,[y.value==0?(_(),$("div",Xl,[c(G,{class:"mr-2"},{default:f(()=>[Yl]),_:1})])):(_(),$("div",Kl,[c(G,{class:"mr-2"},{default:f(()=>[v.value&&v.value[0]&&v.value[0].icon!=null?(_(),$("img",{key:0,src:v.value[0].icon,alt:"avatar",class:"rounded-full w-100"},null,8,Ql)):(_(),$("img",ei))]),_:1})])),s("div",ti,[s("div",ni,[y.value==0?(_(),$("h6",si,V(g(n).setting.bot_name),1)):ne("",!0),v.value.length>0?(_(),$("h6",ai,V(v.value[0].question),1)):ne("",!0)]),s("div",oi,[c(se,null,{default:f(()=>[c(ye,{color:"arcoblue",class:"cursor-pointer",onClick:o[12]||(o[12]=l=>Xe.value=!0)},{icon:f(()=>[c(g(Ms))]),default:f(()=>[T(" 预设配置 ")]),_:1}),v.value.length>0?(_(),H(ye,{key:0,color:"orange"},{default:f(()=>[T(V(v.value.length*2)+"条消息 ",1)]),_:1})):ne("",!0)]),_:1})])])])]),s("div",li,[s("ul",ii,[s("li",ri,[c(Xt,null,{default:f(()=>[c(Kn,null,{content:f(()=>[c(lt,null,{default:f(()=>[s("a",{onClick:o[13]||(o[13]=l=>Ze.value=!0),"data-toggle":"pill",class:"text-gray-400",href:"javascript:;"},[c(g(vn),{class:"fs-6 align-text-bottom"}),T(" 公告信息 ")])]),_:1}),y.value!=0?(_(),H(lt,{key:0},{default:f(()=>[s("a",{onClick:o[14]||(o[14]=l=>t.value=!0),"data-toggle":"pill",class:"text-gray-400",href:"javascript:;"},[c(g(st),{class:"fs-6 align-text-bottom"}),T(" 导出记录 ")])]),_:1})):ne("",!0),c(lt,null,{default:f(()=>[s("a",{onClick:o[15]||(o[15]=l=>be(y.value)),class:"text-gray-400","data-toggle":"pill",href:"javascript:;"},[c(g(nt),{class:"fs-6 align-text-bottom"}),T(" 刷新对话 ")])]),_:1}),c(lt,null,{default:f(()=>[g(h)?(_(),$("a",{key:0,onClick:o[16]||(o[16]=l=>b()),class:"text-gray-400","data-toggle":"pill",href:"javascript:;"},[c(g(ct),{class:"fs-6 align-text-bottom"}),T(" 充值"+V(g(n).setting.money_name_set),1)])):(_(),$("a",{key:1,onClick:o[17]||(o[17]=l=>d()),class:"text-gray-400","data-toggle":"pill",href:"javascript:;"},[c(g(ct),{class:"fs-6 align-text-bottom"}),T("充值"+V(g(n).setting.money_name_set),1)]))]),_:1})]),default:f(()=>[s("a",ci,[c(g(As),{class:"fs-6"})])]),_:1})]),_:1})])]),s("ul",ui,[s("li",di,[c(it,{class:"box-item",effect:"dark",content:"公告信息",placement:"bottom"},{default:f(()=>[s("a",{onClick:o[18]||(o[18]=l=>Ze.value=!0),class:"css-htwhyh nav-link text-muted","data-toggle":"pill",href:"javascript:;"},[c(g(vn),{class:"fs-6"})])]),_:1})]),y.value!=0?(_(),$("li",fi,[c(it,{class:"box-item",effect:"dark",content:"保存当前聊天",placement:"bottom"},{default:f(()=>[s("a",{onClick:o[19]||(o[19]=l=>t.value=!0),class:"css-htwhyh nav-link text-muted","data-toggle":"pill",href:"javascript:;"},[c(g(st),{class:"fs-6 align-text-bottom"})])]),_:1})])):ne("",!0),s("li",mi,[c(it,{class:"box-item",effect:"dark",content:"刷新当前聊天",placement:"bottom"},{default:f(()=>[s("a",{onClick:o[20]||(o[20]=l=>be(y.value)),class:"css-htwhyh nav-link text-muted","data-toggle":"pill",href:"javascript:;"},[c(g(nt),{class:"fs-6 align-text-bottom"})])]),_:1})]),s("li",_i,[c(it,{class:"box-item",effect:"dark",content:"充值",placement:"bottom"},{default:f(()=>[g(h)?(_(),$("a",{key:0,onClick:o[21]||(o[21]=l=>b()),class:"nav-link text-muted css-htwhyh","data-toggle":"pill",href:"javascript:;"},[c(g(ct),{class:"fs-6 align-text-bottom"})])):(_(),$("a",{key:1,onClick:o[22]||(o[22]=l=>d()),class:"nav-link text-muted css-htwhyh","data-toggle":"pill",href:"javascript:;"},[c(g(ct),{class:"fs-6 align-text-bottom"})]))]),_:1})])])])])])]),s("div",vi,[s("div",{class:"pb-32 sm:py-6 relative",ref_key:"poster",ref:Ft},[s("div",pi,[y.value==0&&v.value.length==0?(_(),$("div",gi,[s("h1",hi,V(g(n).setting.title),1),s("div",yi,[s("div",null,[s("div",bi,[c(es,{class:"grid-demo w-100"},{default:f(()=>[(_(!0),$(ue,null,_e(Nt.value,(l,X)=>(_(),H(Qn,{xs:{span:24},lg:{span:6},class:de(["list-animation-leftIn","delay-"+X])},{default:f(()=>[s("div",{class:"card_b",onClick:W=>Wt(l.Instruction)},[s("div",ki,[c(G,{class:"opacity-100",imageUrl:l.icon},null,8,["imageUrl"]),s("h2",null,V(l.title),1)]),s("div",xi,[s("h2",null,V(l.title),1),s("p",Ci,V(l.Instruction),1),s("p",Si,V(l.Instruction),1)]),s("span",{class:"hover_card_bg",style:je({"background-image":`url(${l.icon})`})},null,4)],8,wi)]),_:2},1032,["class"]))),256))]),_:1})])])])])):ne("",!0)]),v.value.length>0?(_(),$("div",$i,[s("ul",Vi,[(_(!0),$(ue,null,_e(v.value,(l,X)=>(_(),$("div",{class:"message_s",key:X},[s("li",Ei,[s("div",Li,[s("span",Ai,V(l.created_at),1),s("div",Ri,[s("div",{class:"message-content me_content border p-3",innerHTML:a(l.question).replace(/\\n/g,`
`)},null,8,zi)])])]),s("li",Ti,[s("div",Pi,[c(G,{class:"mr-2"},{default:f(()=>[v.value&&v.value[0]&&v.value[0].icon!=null?(_(),$("img",{key:0,src:v.value[0].icon,alt:"avatar",class:"rounded-full w-100"},null,8,Ii)):(_(),$("img",ji))]),_:1})]),s("div",Oi,[s("span",Mi,V(l.created_at),1),s("div",Ni,[s("div",{class:de(["message-content p-3",X==v.value.length-1&&!we.value?"ms-up":""]),innerHTML:a(l.message).replace(/\\n/g,`
`)},null,10,Ui),s("div",Hi,[c(se,{class:"ml-4"},{default:f(()=>[s("div",{class:"speak btn z-10 new_ant_btn h-30",onClick:W=>F.value?P():We(l.message.replace(/\\n/g,`
`))},[c(g(ma)),s("span",qi,V(F.value?"停止":"朗读"),1)],8,Di),s("div",{class:"speak btn z-10 new_ant_btn h-30",onClick:W=>Bn(l.question)},[c(g(nt)),Fi],8,Bi),s("div",{class:"speak btn z-10 new_ant_btn h-30",onClick:W=>Fn(l.message.replace(/\\n/g,`
`))},[c(g(Rs)),Wi],8,Ji),s("div",{class:"speak btn z-10 new_ant_btn h-30",onClick:W=>Ce(l.message.replace(/\\n/g,`
`))},[c(g(ta)),Zi],8,Gi),s("div",{class:"speak btn z-10 new_ant_btn h-30",onClick:W=>Me(l.message.replace(/\\n/g,`
`))},[c(g(st)),Yi],8,Xi),c(re,{content:"此操作将永久删除当条消息,确定要删除吗?",onOk:W=>Mn(l.id),type:"warning"},{default:f(()=>[s("div",Ki,[c(g(rt)),Qi])]),_:2},1032,["onOk"])]),_:2},1024)])])])])]))),128))])])):ne("",!0)],512)]),s("div",{class:de(["res_stop text-center mb-2",we.value?"d-none":""]),onClick:o[23]||(o[23]=l=>qn())},[c(N,null,{default:f(()=>[c(g(wa),{class:"font-22 mr-2"}),T(" 停止运行 ")]),_:1})],2),s("div",er,[s("div",tr,[s("div",nr,[s("div",sr,[c(Qt,{model:g(Q),ref_key:"formRef",ref:Dn},{default:f(()=>[c(Kt,{"hide-label":!0,"hide-asterisk":!0,field:"message_input","validate-trigger":"input"},{default:f(()=>[c(Yt,{placeholder:"shift+enter换行",modelValue:g(Q).message_input,"onUpdate:modelValue":o[24]||(o[24]=l=>g(Q).message_input=l),"allow-clear":"","auto-size":{minRows:1,maxRows:4},onKeydown:o[25]||(o[25]=xt(zs(l=>g(n).setting.no_login_aiqs=="1"&&!g(h)?bt():ht(),["prevent"]),["enter","native"])),"show-word-limit":""},null,8,["modelValue"]),c(se,null,{default:f(()=>[g(n).setting.online_is_open=="1"?(_(),H(N,{key:0,onClick:o[26]||(o[26]=l=>Gn()),type:Qe.value?"primary":"secondary",loading:z.value,style:{marginLeft:"10px"}},{default:f(()=>[c(g(Oa),{class:"text-lg"})]),_:1},8,["type","loading"])):ne("",!0),c(N,{onClick:o[27]||(o[27]=l=>g(n).setting.no_login_aiqs=="1"&&!g(h)?bt():ht()),type:"primary",loading:z.value},{default:f(()=>[c(g(Ys),{class:"text-lg"})]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["model"])])])])])])]),_:1},8,["loading"])]),c(q,{visible:Ze.value,"onUpdate:visible":o[28]||(o[28]=l=>Ze.value=l),onOk:o[29]||(o[29]=l=>Hn()),"hide-cancel":!0,"ok-text":"已查阅"},{title:f(()=>[T(" 本站公告 ")]),default:f(()=>[gt.value.length==0?(_(),H(ns,{key:0,animation:!0},{default:f(()=>[c(se,{direction:"vertical",style:{width:"100%"},size:"large"},{default:f(()=>[c(ts,{rows:3})]),_:1})]),_:1})):(_(),$("div",ar,[c(as,null,{default:f(()=>[(_(!0),$(ue,null,_e(gt.value,(l,X)=>(_(),H(ss,{label:l.created_at,lineType:"dashed",key:X},{default:f(()=>[T(V(l.title)+" ",1),or,c(en,{type:"secondary",style:{fontSize:"12px",marginTop:"4px"},innerHTML:l.info},null,8,["innerHTML"])]),_:2},1032,["label"]))),128))]),_:1})]))]),_:1},8,["visible"]),c(q,{visible:Xe.value,"onUpdate:visible":o[40]||(o[40]=l=>Xe.value=l),class:"mb_dialog"},{title:f(()=>[T(" 预设配置 ")]),footer:f(()=>[s("span",hr,[c(N,{type:"primary",onClick:o[39]||(o[39]=l=>Xe.value=!1)},{default:f(()=>[T(" 配置完成 ")]),_:1})])]),default:f(()=>[c(q,{visible:r.value,"onUpdate:visible":o[31]||(o[31]=l=>r.value=l),title:"场景预设",width:"30%","append-to-body":"",class:"mb_dialog"},{footer:f(()=>[s("span",lr,[c(N,{type:"primary",onClick:o[30]||(o[30]=l=>r.value=!1)},{default:f(()=>[T(" 完成 ")]),_:1})])]),default:f(()=>[c(Qt,{model:g(Ie)},{default:f(()=>[(_(!0),$(ue,null,_e(g(Ie).domains,(l,X)=>(_(),H(Kt,{"hide-label":!0,"hide-asterisk":!0,field:`domains[${X}].value`,key:X},{default:f(()=>[c(se,null,{default:f(()=>[c(ls,{modelValue:l.sel,"onUpdate:modelValue":W=>l.sel=W},{default:f(()=>[(_(),$(ue,null,_e(Zn,W=>c(os,{key:W.value,label:W.label,value:W.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"]),c(Yt,{"auto-size":"",placeholder:"预设内容",modelValue:l.value,"onUpdate:modelValue":W=>l.value=W},null,8,["modelValue","onUpdate:modelValue"]),c(N,{type:"primary",onClick:W=>Xn(l),style:{marginLeft:"10px"}},{default:f(()=>[c(g(rt))]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["field"]))),128))]),_:1},8,["model"]),s("div",null,[c(N,{onClick:Yn},{default:f(()=>[T("添加场景")]),_:1})])]),_:1},8,["visible"]),ir,c(rs,{class:"mb-3 flex-wrap",modelValue:Ue.value,"onUpdate:modelValue":o[32]||(o[32]=l=>Ue.value=l),type:"button"},{default:f(()=>[(_(!0),$(ue,null,_e(Mt.value,(l,X)=>(_(),H(is,{value:l.model},{default:f(()=>[T(V(l.title),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),c(fs,{class:"mb-3 better_preview"},{"expand-icon":f(({active:l})=>[l?(_(),H(cs,{key:0})):(_(),H(us,{key:1}))]),default:f(()=>[c(ds,{header:"高级设置",key:"1"},{"expand-icon":f(({active:l})=>[l?(_(),H(g(ia),{key:0})):(_(),H(g(Ts),{key:1}))]),default:f(()=>[s("div",rr,[s("div",cr,[ur,s("div",dr,[c(tn,{"default-value":oe.value,modelValue:oe.value,"onUpdate:modelValue":o[33]||(o[33]=l=>oe.value=l),max:15,step:"1","show-ticks":!0},null,8,["default-value","modelValue"])])]),fr,s("div",mr,[_r,s("div",vr,[c(tn,{"default-value":ge.value,modelValue:ge.value,"onUpdate:modelValue":o[34]||(o[34]=l=>ge.value=l),max:2,step:"0.1","show-ticks":!0},null,8,["default-value","modelValue"])])]),pr])]),_:1})]),_:1}),s("h6",gr,[T("场景选择 "),c(N,{type:"primary",onClick:o[35]||(o[35]=l=>r.value=!0)},{default:f(()=>[T("预设场景")]),_:1})]),c(J,{modelValue:Ye.value,"onUpdate:modelValue":o[36]||(o[36]=l=>Ye.value=l),placeholder:"请输入场景名称",onPressEnter:o[37]||(o[37]=l=>Jt()),onSearch:o[38]||(o[38]=l=>Jt())},null,8,["modelValue"]),c(vs,{loading:He.value,bordered:!1},{default:f(()=>[(_(!0),$(ue,null,_e(me.value,(l,X)=>(_(),H(_s,{onClick:W=>Wt(l.Instruction),class:"cursor-pointer",key:X},{default:f(()=>[c(ms,{title:l.title,description:l.Instruction},{avatar:f(()=>[c(G,{shape:"square",imageUrl:l.icon},null,8,["imageUrl"])]),_:2},1032,["title","description"])]),_:2},1032,["onClick"]))),128)),c(D,{class:"mt-2",current:Ne.value,"page-size":Ge.value,background:"","hide-on-single-page":"",total:De.value,onChange:Nn},null,8,["current","page-size","total"]),Ps(c(ee,{description:"暂无数据"},null,512),[[Is,De.value==0]])]),_:1},8,["loading"])]),_:1},8,["visible"]),c(ps,{visible:wt.value,"onUpdate:visible":o[50]||(o[50]=l=>wt.value=l),placement:"left",class:"drawer_index",unmountOnClose:"",header:!1},{footer:f(()=>[s("div",Pr,[s("div",Ir,[g(h)?(_(),H(tt,{key:0,trigger:["click","hover","focus"]},{content:f(()=>[s("div",Br,[s("div",Fr,[s("div",Jr,[c(G,null,{default:f(()=>[s("img",{src:A.value.avatar,alt:"avatar",class:"rounded-full w-10 h-10"},null,8,Wr)]),_:1}),s("span",Gr,[s("span",null,V(A.value.name),1),s("div",Zr,V(Y.value),1)])]),s("div",Xr,[Yr,s("span",null,V(k.value)+"/"+V(at.value)+"次 ",1),Kr]),s("div",Qr,[ec,s("span",null,V(R.value)+"/"+V(pt.value)+"次 ",1),tc]),s("div",nc,[sc,s("span",null,V(A.value.money),1)]),s("div",{class:"quit",onClick:o[47]||(o[47]=l=>jt())},[ac,T(" 退出登录 ")])])])]),default:f(()=>[s("div",jr,[s("div",Or,[c(G,null,{default:f(()=>[s("img",{src:A.value.avatar,alt:"avatar",class:"rounded-full w-10 h-10"},null,8,Mr)]),_:1}),Nr]),s("div",Ur,[s("div",Hr,V(A.value.name),1),s("div",Dr,"额度:"+V(A.value.money),1)]),s("div",qr,V(Y.value),1)])]),_:1})):(_(),$("div",oc,[s("div",lc,[c(G,{style:{backgroundColor:"#3370ff"}},{default:f(()=>[c(g(_n))]),_:1}),ic]),rc,s("div",cc,V(Y.value),1)])),g(h)?ne("",!0):(_(),H(N,{key:2,onClick:o[48]||(o[48]=l=>d()),class:"w-full"},{default:f(()=>[T(" 用户登录 ")]),_:1})),c(N,{class:"w-full",onClick:o[49]||(o[49]=l=>b())},{default:f(()=>[g(n).setting.show_limit_front=="1"?(_(),$("div",uc,[T(" VIP剩余 "),c(ye,{color:"arcoblue",class:"ml-1 mr-1"},{default:f(()=>[T(V(k.value),1)]),_:1}),T("次问答 ")])):(_(),$("div",dc," 升级会员 "))]),_:1})])])]),default:f(()=>[c(se,{class:"p-2 bg-white"},{default:f(()=>[c(J,{modelValue:Ee.value,"onUpdate:modelValue":o[41]||(o[41]=l=>Ee.value=l),onSearch:ot,onKeydown:xt(ot,["enter","native"]),placeholder:"搜索..."},null,8,["modelValue","onKeydown"]),c(N,{type:"primary",onClick:o[42]||(o[42]=l=>be(0))},{default:f(()=>[c(g(nn))]),_:1})]),_:1}),c(B,{loading:K.value,tip:"Loading.."},{default:f(()=>[M.value.length>0?(_(),$("div",yr,[s("p",br,[s("span",{onClick:o[43]||(o[43]=l=>L()),class:"py-0 border-0 text-muted",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[c(g(nt))]),T(" 全部消息")]),s("ul",wr,[s("div",kr,[(_(!0),$(ue,null,_e(M.value,(l,X)=>(_(),$("li",{class:de(["online",y.value==l[l.length-1].session_id?"active":""]),key:X},[s("div",xr,[c(se,null,{default:f(()=>[c(g(sn),{onClick:W=>Gt(l[l.length-1].session_id)},null,8,["onClick"]),c(re,{content:"此操作将永久删除当前会话,确定要删除吗?",onOk:W=>Bt(l[l.length-1].session_id),type:"warning"},{default:f(()=>[c(g(rt))]),_:2},1032,["onOk"])]),_:2},1024)]),s("div",{class:"card mb-2",onClick:W=>be(l[l.length-1].session_id)},[s("div",Sr,[s("div",$r,[s("div",Vr,[l[l.length-1].icon?(_(),H(G,{key:0,onClick:o[44]||(o[44]=W=>Ae()),shape:"square",imageUrl:l[l.length-1].icon},null,8,["imageUrl"])):(_(),H(G,{key:1},{default:f(()=>[Er]),_:1}))]),s("div",Lr,[s("div",Ar,[l[l.length-1].message_b?(_(),$("h6",Rr,V(l[l.length-1].message_b),1)):(_(),$("h6",zr,V(l[l.length-1].question),1))]),s("div",{class:"text-truncate h-20",innerHTML:l[l.length-1].message.replace(/\n/g,"<br />")},null,8,Tr)])])])],8,Cr)],2))),128))])])])):(_(),H(ee,{key:1})),c(D,{size:"small",total:ae.value,current:x.value,"page-size":pe.value,class:"justify-content-center mb-2 mt-2",background:"",simple:"",onChange:Ut,"hide-on-single-page":!0},null,8,["total","current","page-size"])]),_:1},8,["loading"]),c(q,{visible:Ke.value,"onUpdate:visible":o[46]||(o[46]=l=>Ke.value=l),title:"修改备注",onOk:Zt},{default:f(()=>[c(et,{modelValue:Pe.value,"onUpdate:modelValue":o[45]||(o[45]=l=>Pe.value=l)},null,8,["modelValue"])]),_:1},8,["visible"])]),_:1},8,["visible"]),c(gs,{login_dialog:i.value,onHandleCancel:u},null,8,["login_dialog"]),c(hs,{dialogFormVisible:p.value,onHandleCancels:C},null,8,["dialogFormVisible"]),g(n).setting.script_tongji?(_(),$("div",{key:0,class:"tongji",innerHTML:g(n).setting.script_tongji},null,8,fc)):ne("",!0),c(q,{visible:t.value,"onUpdate:visible":o[53]||(o[53]=l=>t.value=l),footer:!1},{title:f(()=>[T(" 导出聊天记录 ")]),default:f(()=>[s("div",mc,[s("div",_c,[c(se,null,{default:f(()=>[c(N,{onClick:o[51]||(o[51]=l=>ze("PNG")),type:"primary",status:"success"},{icon:f(()=>[c(g(st))]),default:f(()=>[T(" 导出PNG ")]),_:1}),c(N,{onClick:o[52]||(o[52]=l=>ze("JPG")),type:"primary",status:"warning"},{icon:f(()=>[c(g(st))]),default:f(()=>[T(" 导出JPG ")]),_:1})]),_:1})]),s("div",vc,[s("div",pc,[s("div",gc,[s("div",{class:"pb-32 sm:py-6 relative",ref_key:"poster",ref:Ft},[c(ys,{hoverable:"",class:"m-2"},{default:f(()=>[s("div",hc,[s("span",yc,[bc,c(en,null,{default:f(()=>[T(V(g(n).setting.title),1)]),_:1})]),s("div",wc,[c(ye,{size:"mini",type:"outline",class:"mb-2"},{default:f(()=>[T(" 模型："+V(Ue.value),1)]),_:1}),c(ye,{size:"mini",type:"outline",class:"mb-2"},{default:f(()=>[T(" 消息："+V(v.value.length*2),1)]),_:1}),c(ye,{size:"mini",type:"outline",class:"mb-2"},{default:f(()=>[T(" 时间："+V(v.value.length>0?v.value[v.value.length-1].created_at:""),1)]),_:1})])])]),_:1}),v.value.length>0?(_(),$("div",kc,[s("ul",xc,[(_(!0),$(ue,null,_e(v.value,(l,X)=>(_(),$("div",{class:"message_s",key:X},[s("li",Cc,[s("div",Sc,[s("span",$c,V(l.created_at),1),s("div",Vc,[s("div",{class:"message-content me_content border p-3",innerHTML:a(l.question)},null,8,Ec)])])]),s("li",Lc,[s("div",Ac,[c(G,{class:"mr-2"},{default:f(()=>[Rc]),_:1})]),s("div",zc,[s("span",Tc,V(l.created_at),1),s("div",Pc,[s("div",{class:de(["message-content p-3",X==v.value.length-1&&!we.value?"ms-up":""]),innerHTML:a(l.message).replace(/\\n/g,`
`)},null,10,Ic)])])])]))),128))])])):ne("",!0)],512)])])])])]),_:1},8,["visible"])],64)}}});export{Yc as default};
